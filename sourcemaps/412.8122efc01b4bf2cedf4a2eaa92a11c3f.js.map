{"version":3,"file":"js/412.1667478777714.ec581079ac4c957b410f.js","mappings":"mMAgCA,QAxBY,SAACA,GACX,IAAMC,GAAWC,EAAAA,EAAAA,eACXC,GAAQC,EAAAA,EAAAA,MAcd,OAZAC,EAAAA,EAAAA,YAAU,WACRC,SAASC,MAAQ,mCACjBC,SAASC,OAAOC,OAChBF,SAASC,OAAOE,YAAY,iBAC5B,IAAMC,EAAaJ,SAASC,OAAOI,GAAG,kBAAkB,SAACC,GAAD,OACtDb,EAAS,IAAD,OAAKa,EAAMC,OADmC,IAGxD,OAAO,WACLH,GACD,CACF,GAAE,IAGD,kBAAC,aAAD,KACE,kBAAC,KAAD,CAAqBT,MAAOA,IAC5B,kBAAC,IAAD,CAAQa,WAAYhB,IAGzB,C,+HCdD,QARqB,kBACnB,kBAAC,KAAD,CAAUG,MAAOA,EAAAA,GACf,kBAAC,gBAAD,CAAQc,UAAUC,EAAAA,EAAAA,GAAYC,OAAOC,SAASC,WAC5C,kBAAC,IAAD,OAHe,C,iFCHfC,GAAcC,EAAAA,EAAAA,OAAK,kBAAM,4DAAN,IACnBC,GAAoBD,EAAAA,EAAAA,OAAK,kBAC7B,sEAD6B,IAIlBE,EAAS,WACpB,OACE,kBAAC,EAAAC,OAAD,KACE,kBAAC,EAAAC,MAAD,CACEC,MAAMC,EAAAA,EAAAA,GAAe,iBACrBC,QAAS,kBAACN,EAAD,QAEX,kBAAC,EAAAG,MAAD,CAAOC,MAAMC,EAAAA,EAAAA,GAAe,KAAMC,QAAS,kBAACR,EAAD,QAGhD,C,kBCpBD,SAASJ,EAAYG,GACnB,IAAIU,EAAU,IACRC,EAAWX,EAASY,MAAM,KAShC,OAPAD,EAASE,QAEW,SAAhBF,EAAS,KACXA,EAASE,QACTH,EAAU,UAGL,GAAP,OAAUA,EACX,CAED,SAASF,EAAeD,GACtB,MAAO,2BAAP,OAAkCA,EACnC,C,2FCPKO,GAAgBC,E,SAAAA,IAAY,CAChCC,KAAM,WACNC,aATmB,CACnBC,MAAO,EACPC,OAAQ,GACRC,KAAM,CAAC,EACPC,MAAO,MAMPC,SAAU,CACRC,aAAc,SAACC,EAAOC,GAEfD,EAAML,OAAOO,SAASD,EAAOE,QAAQC,QAAQC,MAC5CJ,EAAOE,QAAQG,OACjBN,EAAML,OAAOY,QAAQN,EAAOE,QAAQC,QAAQC,IAE5CL,EAAML,OAAOa,KAAKP,EAAOE,QAAQC,QAAQC,KAG7CL,EAAMJ,KAAKK,EAAOE,QAAQC,QAAQC,IAAMJ,EAAOE,QAAQC,QACvDJ,EAAMH,MAAQ,IACf,EACDY,qBAAsB,SAACT,EAAOC,GAC5BD,EAAMN,MAAQO,EAAOE,QAAQT,KAC9B,EACDgB,qBAAsB,SAACV,EAAOC,GAC5BD,EAAMJ,KAAKK,EAAOE,QAAQE,IAAIM,aAAeV,EAAOE,QAAQS,MAC7D,KAIE,EACLtB,EAAcuB,QADDd,EAAR,EAAQA,aAAcU,EAAtB,EAAsBA,qBAAsBC,EAA5C,EAA4CA,qBAEnD,QAAepB,EAAf,O,iFC/BawB,EAAU,CACrBC,S,SAAUzB,GACV0B,cAAeC,EAAAA,IAMJ3D,GAAQ4D,EAAAA,EAAAA,IAAe,CAAEJ,QAAAA,EAASK,WAHrB,SAACC,GAAD,OACxBA,IAAuBC,OAAOC,IADN,G","sources":["webpack:///./src/App.js","webpack:///./src/AppEntry.js","webpack:///./src/Router.js","webpack:///./src/Utilities/path.js","webpack:///./src/store/composesSlice.js","webpack:///./src/store/index.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useStore } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport '@patternfly/patternfly/patternfly-addons.css';\nimport NotificationsPortal from '@redhat-cloud-services/frontend-components-notifications/NotificationPortal';\n\nimport { Router } from './Router';\n\nconst App = (props) => {\n  const navigate = useNavigate();\n  const store = useStore();\n\n  useEffect(() => {\n    document.title = 'Image Builder | Red Hat Insights';\n    insights.chrome.init();\n    insights.chrome.identifyApp('image-builder');\n    const unregister = insights.chrome.on('APP_NAVIGATION', (event) =>\n      navigate(`/${event.navId}`)\n    );\n    return () => {\n      unregister();\n    };\n  }, []);\n\n  return (\n    <React.Fragment>\n      <NotificationsPortal store={store} />\n      <Router childProps={props} />\n    </React.Fragment>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\nimport { getBaseName } from './Utilities/path';\nimport App from './App';\nimport { store } from './store';\n\nconst ImageBuilder = () => (\n  <Provider store={store}>\n    <Router basename={getBaseName(window.location.pathname)}>\n      <App />\n    </Router>\n  </Provider>\n);\n\nexport default ImageBuilder;\n","import React, { lazy } from 'react';\nimport { Route, Routes } from 'react-router-dom';\n\nimport { resolveRelPath } from './Utilities/path';\n\nconst LandingPage = lazy(() => import('./Components/LandingPage/LandingPage'));\nconst CreateImageWizard = lazy(() =>\n  import('./Components/CreateImageWizard/CreateImageWizard')\n);\n\nexport const Router = () => {\n  return (\n    <Routes>\n      <Route\n        path={resolveRelPath('imagewizard/*')}\n        element={<CreateImageWizard />}\n      />\n      <Route path={resolveRelPath('*')} element={<LandingPage />} />\n    </Routes>\n  );\n};\n","function getBaseName(pathname) {\n  let release = '/';\n  const pathName = pathname.split('/');\n\n  pathName.shift();\n\n  if (pathName[0] === 'beta') {\n    pathName.shift();\n    release = `/beta/`;\n  }\n\n  return `${release}`;\n}\n\nfunction resolveRelPath(path) {\n  return `/insights/image-builder/${path}`;\n}\n\nexport { getBaseName, resolveRelPath };\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  count: 0,\n  allIds: [],\n  byId: {},\n  error: null,\n};\n\nconst composesSlice = createSlice({\n  name: 'composes',\n  initialState,\n  reducers: {\n    composeAdded: (state, action) => {\n      // only add to array if compose does not exist\n      if (!state.allIds.includes(action.payload.compose.id)) {\n        if (action.payload.insert) {\n          state.allIds.unshift(action.payload.compose.id);\n        } else {\n          state.allIds.push(action.payload.compose.id);\n        }\n      }\n      state.byId[action.payload.compose.id] = action.payload.compose;\n      state.error = null;\n    },\n    composesUpdatedCount: (state, action) => {\n      state.count = action.payload.count;\n    },\n    composeUpdatedStatus: (state, action) => {\n      state.byId[action.payload.id].image_status = action.payload.status;\n    },\n  },\n});\n\nexport const { composeAdded, composesUpdatedCount, composeUpdatedStatus } =\n  composesSlice.actions;\nexport default composesSlice.reducer;\n","import { configureStore } from '@reduxjs/toolkit';\nimport promiseMiddleware from 'redux-promise-middleware';\nimport { notificationsReducer } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport composesSlice from './composesSlice';\n\nexport const reducer = {\n  composes: composesSlice,\n  notifications: notificationsReducer,\n};\n\nexport const middleware = (getDefaultMiddleware) =>\n  getDefaultMiddleware().concat(promiseMiddleware);\n\nexport const store = configureStore({ reducer, middleware });\n"],"names":["props","navigate","useNavigate","store","useStore","useEffect","document","title","insights","chrome","init","identifyApp","unregister","on","event","navId","childProps","basename","getBaseName","window","location","pathname","LandingPage","lazy","CreateImageWizard","Router","Routes","Route","path","resolveRelPath","element","release","pathName","split","shift","composesSlice","createSlice","name","initialState","count","allIds","byId","error","reducers","composeAdded","state","action","includes","payload","compose","id","insert","unshift","push","composesUpdatedCount","composeUpdatedStatus","image_status","status","actions","reducer","composes","notifications","notificationsReducer","configureStore","middleware","getDefaultMiddleware","concat","promiseMiddleware"],"sourceRoot":""}