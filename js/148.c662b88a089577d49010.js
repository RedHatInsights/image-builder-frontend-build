"use strict";(self.webpackChunkimageBuilder=self.webpackChunkimageBuilder||[]).push([[148],{35183:(e,t,i)=>{t.I=void 0;const r=i(65353),s=r.__importStar(i(32747));let a=0;t.I=function({name:e,xOffset:t=0,yOffset:i=0,width:n,height:o,svgPath:l}){var c;return(c=class extends s.Component{constructor(){super(...arguments),this.id="icon-title-"+a++}render(){const e=this.props,{title:a,className:c}=e,d=r.__rest(e,["title","className"]),u=c?`pf-v5-svg ${c}`:"pf-v5-svg",h=Boolean(a),m=[t,i,n,o].join(" ");return s.createElement("svg",Object.assign({className:u,viewBox:m,fill:"currentColor","aria-labelledby":h?this.id:null,"aria-hidden":!h||null,role:"img",width:"1em",height:"1em"},d),h&&s.createElement("title",{id:this.id},a),s.createElement("path",{d:l}))}}).displayName=e,c}},50470:(e,t,i)=>{t.mq={name:"ExternalLinkAltIcon",height:512,width:512,svgPath:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z",yOffset:0,xOffset:0},t.LA=i(35183).I(t.mq),t.ZP=t.LA},77310:(e,t,i)=>{i.d(t,{Z:()=>o});var r=i(32747),s=i.n(r),a=i(58239),n=i(50470);const o=function(){return s().createElement(a.Button,{component:"a",target:"_blank",variant:"link",icon:s().createElement(n.ZP,null),iconPosition:"right",isInline:!0,href:"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/creating_customized_images_by_using_insights_image_builder/index"},"Documentation")}},92460:(e,t,i)=>{i.d(t,{Z:()=>s});var r=i(58061);const s=function(e){switch(e){case r.F2:case r.PV:return!0;default:return!1}}},54725:(e,t,i)=>{i.d(t,{M:()=>s});var r=i(55140),s=function(){var e=(0,r.Z)(),t=e.isBeta,i=e.isProd,s=e.getEnvironment;return t()||"qa"===s()?{isBeta:function(){return!0},isProd:i}:{isBeta:function(){return!1},isProd:i}}},92534:(e,t,i)=>{i.r(t),i.d(t,{default:()=>I});var r=i(85893),s=i(32747),a=i(58239),n=i(93654),o=i(84213),l=i(23753),c=i(54362),d=i(54725),u=function(){return u=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},u.apply(this,arguments)},h=function(e,t){var i=u({},e);return Object.keys(e).forEach((function(e){i[e].authorized=t.includes(e)})),i};const m=function(e){var t=e.setEnvironment,i=e.environment,s=c.A0.usePrefetch("getSourceList"),n=(0,d.M)().isBeta,l=function(e,i){return t((function(t){var r=u({},t);return r[e].selected=i,r}))};return(0,r.jsxs)(a.FormGroup,{isRequired:!0,label:"Select target environments","data-testid":"target-select",children:[(0,r.jsx)(a.FormGroup,{label:(0,r.jsx)(a.Text,{component:a.TextVariants.small,children:"Public cloud"}),"data-testid":"target-public",children:(0,r.jsxs)("div",{className:"tiles",children:[i.aws.authorized&&(0,r.jsx)(a.Tile,{className:"tile pf-u-mr-sm","data-testid":"upload-aws",title:"Amazon Web Services",icon:(0,r.jsx)("img",{className:"provider-icon",src:"/apps/frontend-assets/partners-icons/aws.svg",alt:"Amazon Web Services logo"}),onClick:function(){return l("aws",!i.aws.selected)},onMouseEnter:function(){return s({provider:"aws"})},isSelected:i.aws.selected,isStacked:!0,isDisplayLarge:!0}),i.gcp.authorized&&(0,r.jsx)(a.Tile,{className:"tile pf-u-mr-sm","data-testid":"upload-google",title:"Google Cloud Platform",icon:(0,r.jsx)("img",{className:"provider-icon",src:"/apps/frontend-assets/partners-icons/google-cloud-short.svg",alt:"Google Cloud Platform logo"}),onClick:function(){return l("gcp",!i.gcp.selected)},isSelected:i.gcp.selected,onMouseEnter:function(){return s({provider:"gcp"})},isStacked:!0,isDisplayLarge:!0}),i.azure.authorized&&(0,r.jsx)(a.Tile,{className:"tile pf-u-mr-sm","data-testid":"upload-azure",title:"Microsoft Azure",icon:(0,r.jsx)("img",{className:"provider-icon",src:"/apps/frontend-assets/partners-icons/microsoft-azure-short.svg",alt:"Microsoft Azure logo"}),onClick:function(){return l("azure",!i.azure.selected)},onMouseEnter:function(){return s({provider:"azure"})},isSelected:i.azure.selected,isStacked:!0,isDisplayLarge:!0}),i.oci.authorized&&n()&&(0,r.jsx)(a.Tile,{className:"tile pf-u-mr-sm","data-testid":"upload-oci",title:"Oracle Cloud Infrastructure",icon:(0,r.jsx)("img",{className:"provider-icon",src:"/apps/frontend-assets/partners-icons/oracle-short.svg",alt:"Oracle Cloud Infrastructure logo"}),onClick:function(){return l("oci",!i.oci.selected)},isSelected:i.oci.selected,isStacked:!0,isDisplayLarge:!0})]})}),i.vsphere.authorized&&(0,r.jsx)(a.FormGroup,{label:(0,r.jsx)(a.Text,{component:a.TextVariants.small,children:"Private cloud"}),className:"pf-u-mt-sm","data-testid":"target-private",children:(0,r.jsx)(a.Checkbox,{label:"VMware vSphere",isChecked:i.vsphere.selected||i["vsphere-ova"].selected,onChange:function(e,t){l("vsphere-ova",t),l("vsphere",!1)},"aria-label":"VMware checkbox",id:"checkbox-vmware",name:"VMware","data-testid":"checkbox-vmware"})}),i.vsphere.authorized&&(0,r.jsxs)(a.FormGroup,{className:"pf-u-mt-sm pf-u-mb-sm pf-u-ml-xl","data-testid":"target-private-vsphere-radio",children:[i["vsphere-ova"].authorized&&(0,r.jsx)(a.Radio,{name:"vsphere-radio","aria-label":"VMware vSphere radio button OVA",id:"vsphere-radio-ova",label:(0,r.jsxs)(r.Fragment,{children:["Open virtualization format (.ova)",(0,r.jsx)(a.Popover,{maxWidth:"30rem",position:"right",bodyContent:(0,r.jsx)(a.TextContent,{children:(0,r.jsx)(a.Text,{children:"An OVA file is a virtual appliance used by virtualization platforms such as VMware vSphere. It is a package that contains files used to describe a virtual machine, which includes a VMDK image, OVF descriptor file and a manifest file."})}),children:(0,r.jsx)(o.by,{className:"pf-u-ml-sm"})})]}),onChange:function(e,t){l("vsphere-ova",t),l("vsphere",!t)},isChecked:i["vsphere-ova"].selected,isDisabled:!(i.vsphere.selected||i["vsphere-ova"].selected)}),(0,r.jsx)(a.Radio,{className:"pf-u-mt-sm",name:"vsphere-radio","aria-label":"VMware vSphere radio button VMDK",id:"vsphere-radio-vmdk",label:(0,r.jsxs)(r.Fragment,{children:["Virtual disk (.vmdk)",(0,r.jsx)(a.Popover,{maxWidth:"30rem",position:"right",bodyContent:(0,r.jsx)(a.TextContent,{children:(0,r.jsx)(a.Text,{children:"A VMDK file is a virtual disk that stores the contents of a virtual machine. This disk has to be imported into vSphere using govc import.vmdk, use the OVA version when using the vSphere UI."})}),children:(0,r.jsx)(o.by,{className:"pf-u-ml-sm"})})]}),onChange:function(e,t){l("vsphere-ova",!t),l("vsphere",t)},isChecked:i.vsphere.selected,isDisabled:!(i.vsphere.selected||i["vsphere-ova"].selected)})]}),(0,r.jsxs)(a.FormGroup,{label:(0,r.jsx)(a.Text,{component:a.TextVariants.small,children:"Other"}),"data-testid":"target-other",children:[i["guest-image"].authorized&&(0,r.jsx)(a.Checkbox,{label:"Virtualization - Guest image (.qcow2)",isChecked:i["guest-image"].selected,onChange:function(e,t){return l("guest-image",t)},"aria-label":"Virtualization guest image checkbox",id:"checkbox-guest-image",name:"Virtualization guest image","data-testid":"checkbox-guest-image"}),i["image-installer"].authorized&&(0,r.jsx)(a.Checkbox,{label:"Bare metal - Installer (.iso)",isChecked:i["image-installer"].selected,onChange:function(e,t){return l("image-installer",t)},"aria-label":"Bare metal installer checkbox",id:"checkbox-image-installer",name:"Bare metal installer","data-testid":"checkbox-image-installer"}),i.wsl.authorized&&n()&&(0,r.jsx)(a.Checkbox,{label:"WSL - Windows Subsystem for Linux (.tar.gz)",isChecked:i.wsl.selected,onChange:function(e,t){return l("wsl",t)},"aria-label":"windows subsystem for linux checkbox",id:"checkbox-wsl",name:"WSL","data-testid":"checkbox-wsl"})]})]})};var p=i(58061);const g=function(e){var t=e.setArch,i=e.arch;return(0,r.jsx)(a.FormGroup,{isRequired:!0,label:"Architecture","data-testid":"architecture-select",children:(0,r.jsx)(a.FormSelect,{value:i,onChange:function(e,i){t(i)},"aria-label":"Architecture",ouiaId:"arch_select",children:p.gw.map((function(e,t){return(0,r.jsx)(a.FormSelectOption,{value:e,label:e},t)}))})})};var x=i(15265),v=function(){return(0,r.jsx)(a.Button,{component:"a",target:"_blank",variant:"link",icon:(0,r.jsx)(x.LA,{}),iconPosition:"right",isInline:!0,href:"https://developers.redhat.com/about",children:"Red Hat Developer Program"})};const f=function(){return(0,r.jsx)(a.Alert,{variant:"info",isPlain:!0,isInline:!0,title:(0,r.jsx)(r.Fragment,{children:"CentOS Stream builds are intended for the development of future versions of RHEL and are not supported for production workloads or other use cases."}),children:(0,r.jsxs)("p",{children:["Join the ",(0,r.jsx)(v,{})," to learn about paid and no-cost RHEL subscription options."]})})};var j=i(92460),b=function(){return b=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},b.apply(this,arguments)};const k=function(e){var t,i,n=e.setRelease,o=e.release,l=(0,s.useState)(!1),c=l[0],d=l[1],u=(0,s.useState)(!1),h=u[0],m=u[1],g=(0,s.useRef)(null),x=(0,s.useRef)(null),v=(0,r.jsx)(a.MenuToggle,{ref:x,onClick:function(){m(!h)},isExpanded:h,isFullWidth:!0,children:p.rh.get(o)});return(0,r.jsx)(a.FormGroup,{isRequired:!0,label:"Release","data-testid":"release-select",children:(0,r.jsx)(a.Select,{ouiaId:"release_select",id:"release_select",isOpen:h,selected:o,onSelect:function(e,t){var i;"loader"!==t&&("string"==typeof t&&n(t),m(!1),null===(i=null==x?void 0:x.current)||void 0===i||i.focus())},onOpenChange:function(e){return m(e)},toggle:{toggleNode:v,toggleRef:x},children:(0,r.jsxs)(a.SelectList,{children:[(t=[],i=new Map,p.rh.forEach((function(e,t){(c||(0,j.Z)(t))&&i.set(t,e)})),i.forEach((function(e,i){e&&i&&t.push((0,r.jsx)(a.SelectOption,{value:i,label:i,children:p.rh.get(i)},e))})),t),(0,r.jsx)(a.SelectOption,b({},!c&&{isLoadButton:!0},{onClick:function(){return d(!0)},value:"loader",ref:g,children:c?void 0:"Show options for further development of RHEL"}))]})})})};var S=i(77310);const w=function(e){var t=e.release,i=e.setRelease,s=e.arch,n=e.setArch,o=e.setEnvironment,l=e.environment,c=e.isFetching,d=e.isError,u=e.isSuccess;return(0,r.jsxs)(a.Form,{children:[(0,r.jsx)(a.Title,{headingLevel:"h2",children:"Image output"}),(0,r.jsxs)(a.Text,{children:["Image builder allows you to create a custom image and push it to target environments.",(0,r.jsx)("br",{}),(0,r.jsx)(S.Z,{})]}),(0,r.jsx)(k,{setRelease:i,release:t}),(0,r.jsx)(g,{setArch:n,arch:s}),t.match("centos-*")&&(0,r.jsx)(f,{}),c&&(0,r.jsx)(a.Bullseye,{children:(0,r.jsx)(a.Spinner,{size:"lg"})}),d&&(0,r.jsx)(a.Alert,{variant:"danger",isPlain:!0,isInline:!0,title:"Environments unavailable",children:"API cannot be reached, try again later."}),u&&!c&&(0,r.jsx)(m,{setEnvironment:o,environment:l})]})};var z=function(e){var t=e.release,i=e.arch;return(0,r.jsxs)(a.TextContent,{children:[(0,r.jsxs)(a.TextList,{component:a.TextListVariants.dl,children:[(0,r.jsx)(a.TextListItem,{component:a.TextListItemVariants.dt,className:"pf-u-min-width",children:"Release"}),(0,r.jsx)(a.TextListItem,{component:a.TextListItemVariants.dd,children:p.rh.get(t)}),(0,r.jsx)(a.TextListItem,{component:a.TextListItemVariants.dt,children:"Architecture"}),(0,r.jsx)(a.TextListItem,{component:a.TextListItemVariants.dd,children:i})]}),(0,r.jsx)("br",{})]})};const C=function(e){var t=e.release,i=e.arch,n=(0,s.useState)(!1),o=n[0],l=n[1];return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(a.Form,{children:[(0,r.jsx)(a.Title,{headingLevel:"h2",children:"Review"}),(0,r.jsx)(a.ExpandableSection,{toggleContent:"Image output",onToggle:function(e,t){return function(e){return l(e)}(t)},isExpanded:o,isIndented:!0,"data-testid":"image-output-expandable",children:(0,r.jsx)(z,{release:t,arch:i})})]})})};var _=i(55808),y=i(81093),T=function(e){var t=e.isNextDisabled,i=(0,a.useWizardContext)(),s=i.goToNextStep,n=i.goToPrevStep,o=i.close;return(0,r.jsxs)(a.WizardFooterWrapper,{children:[(0,r.jsx)(a.Button,{variant:"primary",onClick:s,isDisabled:t,children:"Next"}),(0,r.jsx)(a.Button,{variant:"secondary",onClick:n,children:"Back"}),(0,r.jsx)(a.Button,{variant:"link",onClick:o,children:"Cancel"})]})};const I=function(){var e,t,i=(0,n.useNavigate)(),o=(0,s.useState)(p.PV),c=o[0],d=o[1],u=(0,s.useState)(p.bR),m=u[0],g=u[1],x=function(e){var t=e.architecture,i=e.release,r=(0,l.xW)({distribution:i}),s=r.data,a=r.isFetching,n=r.isSuccess,o=r.isError,c=[];return n&&s&&s.forEach((function(e){e.arch===t&&(c=e.image_types)})),{data:c,isFetching:a,isSuccess:n,isError:o}}({architecture:m,release:c}),v=x.data,f=x.isFetching,j=x.isSuccess,b=x.isError,k=(0,s.useState)(h({aws:{selected:!1,authorized:!1},azure:{selected:!1,authorized:!1},gcp:{selected:!1,authorized:!1},oci:{selected:!1,authorized:!1},"vsphere-ova":{selected:!1,authorized:!1},vsphere:{selected:!1,authorized:!1},"guest-image":{selected:!1,authorized:!1},"image-installer":{selected:!1,authorized:!1},wsl:{selected:!1,authorized:!1}},v)),S=k[0],z=k[1],I=(0,s.useState)(v),L=I[0],V=I[1];return function(e,t){var i=!0;return t.length===e.length?t.forEach((function(t){e.includes(t)||(i=!1)})):i=!1,i}(L,v)||(V(v),z(h(S,v))),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.$,{}),(0,r.jsx)("section",{className:"pf-l-page__main-section pf-c-page__main-section",children:(0,r.jsxs)(a.Wizard,{onClose:function(){return i((0,_.y)(""))},isVisitRequired:!0,children:[(0,r.jsx)(a.WizardStep,{name:"Image output",id:"step-image-output",footer:(0,r.jsx)(T,{isNextDisabled:(e=S,t=!1,Object.values(e).forEach((function(e){var i=e.selected,r=e.authorized;t=t||i&&r})),!t)}),children:(0,r.jsx)(w,{release:c,setRelease:d,arch:m,setArch:g,environment:S,setEnvironment:z,isFetching:f,isError:b,isSuccess:j})}),(0,r.jsx)(a.WizardStep,{name:"Review",id:"step-review",footer:(0,r.jsx)(T,{isNextDisabled:!0}),children:(0,r.jsx)(C,{release:c,arch:m})})]})})]})}},81093:(e,t,i)=>{i.d(t,{$:()=>l});var r=i(85893),s=(i(32747),i(58239)),a=i(15265),n=i(84213),o=i(99162),l=function(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(o.PageHeader,{children:[(0,r.jsx)(o.PageHeaderTitle,{className:"title",title:"Image Builder"}),(0,r.jsx)(s.Popover,{minWidth:"35rem",headerContent:"About image builder",bodyContent:(0,r.jsxs)(s.TextContent,{children:[(0,r.jsx)(s.Text,{children:"Image builder is a tool for creating deployment-ready customized system images: installation disks, virtual machines, cloud vendor-specific images, and others. By using image builder, you can make these images faster than manual procedures because it eliminates the specific configurations required for each output type."}),(0,r.jsx)(s.Text,{children:(0,r.jsx)(s.Button,{component:"a",target:"_blank",variant:"link",icon:(0,r.jsx)(a.LA,{}),iconPosition:"right",isInline:!0,href:"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/creating_customized_rhel_images_using_the_image_builder_service",children:"Image builder for RPM-DNF documentation"})}),(0,r.jsx)(s.Text,{children:(0,r.jsx)(s.Button,{component:"a",target:"_blank",variant:"link",icon:(0,r.jsx)(a.LA,{}),iconPosition:"right",isInline:!0,href:"https://access.redhat.com/documentation/en-us/edge_management/2022/html/create_rhel_for_edge_images_and_configure_automated_management/index",children:"Image builder for OSTree documentation"})})]}),children:(0,r.jsx)(s.Button,{variant:"plain","aria-label":"About image builder",className:"pf-u-pl-sm header-button",children:(0,r.jsx)(n.by,{})})}),(0,r.jsx)(o.OpenSourceBadge,{repositoriesURL:"https://www.osbuild.org/guides/image-builder-service/architecture.html"})]})})}}}]);
//# sourceMappingURL=../sourcemaps/148.bf2420b36dc4cf01405d76445640670f.js.map