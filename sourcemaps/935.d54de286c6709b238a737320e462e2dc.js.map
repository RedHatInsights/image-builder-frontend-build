{"version":3,"file":"js/935.1654085094765.651c34b8b99e308365a4.js","mappings":"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","sources":["webpack:///./src/Utilities/isRhel.js","webpack:///./src/Components/CreateImageWizard/steps/imageOutputStepMapper.js","webpack:///./src/Components/CreateImageWizard/steps/stepTemplate.js","webpack:///./src/Components/CreateImageWizard/steps/googleCloud.js","webpack:///./src/Components/CreateImageWizard/formComponents/ReviewStep.js","webpack:///./src/Components/CreateImageWizard/formComponents/TargetEnvironment.js","webpack:///./src/Components/CreateImageWizard/formComponents/Packages.js","webpack:///./src/Components/CreateImageWizard/formComponents/RadioWithPopover.js","webpack:///./src/Components/CreateImageWizard/formComponents/AzureAuthButton.js","webpack:///./src/Components/CreateImageWizard/formComponents/AzureAuthExpandable.js","webpack:///./src/Components/CreateImageWizard/formComponents/ActivationKeys.js","webpack:///./src/Components/CreateImageWizard/formComponents/MountPoint.js","webpack:///./src/Components/CreateImageWizard/formComponents/SizeUnit.js","webpack:///./src/Components/CreateImageWizard/formComponents/FileSystemConfiguration.js","webpack:///./src/Components/CreateImageWizard/formComponents/FileSystemConfigToggle.js","webpack:///./src/Components/CreateImageWizard/formComponents/ImageOutputReleaseSelect.js","webpack:///./src/Components/CreateImageWizard/ImageCreator.js","webpack:///./src/Components/CreateImageWizard/steps/aws.js","webpack:///./src/Components/CreateImageWizard/steps/msAzure.js","webpack:///./src/Components/CreateImageWizard/steps/packages.js","webpack:///./src/Components/CreateImageWizard/steps/registration.js","webpack:///./src/Components/CreateImageWizard/formComponents/CustomSubmitButtons.js","webpack:///./src/Components/CreateImageWizard/steps/review.js","webpack:///./src/Components/CreateImageWizard/steps/imageOutput.js","webpack:///./src/Components/CreateImageWizard/steps/fileSystemConfiguration.js","webpack:///./src/Components/CreateImageWizard/steps/imageName.js","webpack:///./src/Components/CreateImageWizard/validators/fileSystemConfigurationValidator.js","webpack:///./src/Components/CreateImageWizard/validators/targetEnvironmentValidator.js","webpack:///./src/Components/CreateImageWizard/CreateImageWizard.js","webpack:///./src/Components/sharedComponents/DocumentationButton.js","webpack:///./src/api.js","webpack:///./src/constants.js","webpack:///./src/store/actions/actions.js"],"sourcesContent":["import { RHEL_8, RHEL_9 } from '../constants';\n\nfunction isRhel(distro) {\n  switch (distro) {\n    case RHEL_8:\n    case RHEL_9:\n      return true;\n    default:\n      return false;\n  }\n}\n\nexport default isRhel;\n","import isRhel from '../../../Utilities/isRhel.js';\n\nexport default (\n  { 'target-environment': targetEnv, release } = {},\n  { skipAws, skipGoogle, skipAzure } = {}\n) => {\n  if (!skipAws && targetEnv?.aws) {\n    return 'aws-target-env';\n  }\n\n  if (!skipGoogle && targetEnv?.gcp) {\n    return 'google-cloud-target-env';\n  }\n\n  if (!skipAzure && targetEnv?.azure) {\n    return 'ms-azure-target-env';\n  }\n\n  return isRhel(release) ? 'registration' : 'File system configuration';\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Title } from '@patternfly/react-core';\n\nconst StepTemplate = ({\n  id,\n  formFields,\n  formRef,\n  title,\n  customTitle,\n  showTitle,\n  showTitles,\n}) => (\n  <div id={id} ref={formRef} className=\"pf-c-form\">\n    {((showTitles && showTitle !== false) || showTitle) &&\n      (customTitle ? (\n        customTitle\n      ) : (\n        <Title headingLevel=\"h1\" size=\"xl\">\n          {title}\n        </Title>\n      ))}\n    {formFields}\n  </div>\n);\n\nStepTemplate.propTypes = {\n  id: PropTypes.string,\n  title: PropTypes.node,\n  customTitle: PropTypes.node,\n  formFields: PropTypes.array.isRequired,\n  formOptions: PropTypes.shape({\n    renderForm: PropTypes.func.isRequired,\n  }).isRequired,\n  showTitles: PropTypes.bool,\n  showTitle: PropTypes.bool,\n  formRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) }),\n  ]),\n};\n\nexport default StepTemplate;\n","import React from 'react';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/validator-types';\nimport { HelpIcon } from '@patternfly/react-icons';\nimport nextStepMapper from './imageOutputStepMapper';\nimport {\n  Title,\n  Text,\n  Popover,\n  TextContent,\n  TextList,\n  TextListItem,\n  Button,\n} from '@patternfly/react-core';\nimport PropTypes from 'prop-types';\nimport StepTemplate from './stepTemplate';\n\nexport const googleAccType = {\n  googleAccount: 'Google account',\n  serviceAccount: 'Service account',\n  googleGroup: 'Google group',\n  domain: 'Domain',\n};\n\nconst PopoverInfo = ({ appendTo }) => {\n  return (\n    <Popover\n      appendTo={appendTo}\n      hasAutoWidth\n      maxWidth=\"35rem\"\n      headerContent={'Valid account types'}\n      flipBehavior={['right', 'bottom', 'top', 'left']}\n      bodyContent={\n        <TextContent>\n          <Text>\n            The following account types can have an image shared with them:\n          </Text>\n          <TextList className=\"pf-u-ml-0\">\n            <TextListItem>\n              <strong>Google account:</strong> A Google account represents a\n              developer, an administrator, or any other person who interacts\n              with Google Cloud. e.g., <em>`alice@gmail.com`</em>.\n            </TextListItem>\n            <TextListItem>\n              <strong>Service account:</strong> A service account is an account\n              for an application instead of an individual end user. e.g.,{' '}\n              <em>`myapp@appspot.gserviceaccount.com`</em>.\n            </TextListItem>\n            <TextListItem>\n              <strong>Google group:</strong> A Google group is a named\n              collection of Google accounts and service accounts. e.g.,{' '}\n              <em>`admins@example.com`</em>.\n            </TextListItem>\n            <TextListItem>\n              <strong>Google Workspace domain/Cloud Identity domain:</strong> A\n              Google workspace or cloud identity domain represents a virtual\n              group of all the Google accounts in an organization. These domains\n              represent your organization&apos;s internet domain name. e.g.,{' '}\n              <em>`mycompany.com`</em>.\n            </TextListItem>\n          </TextList>\n        </TextContent>\n      }\n    >\n      <Button\n        variant=\"plain\"\n        aria-label=\"Account info\"\n        aria-describedby=\"google-account-type\"\n        className=\"pf-c-form__group-label-help\"\n      >\n        <HelpIcon />\n      </Button>\n    </Popover>\n  );\n};\n\nPopoverInfo.propTypes = {\n  appendTo: PropTypes.any,\n};\n\nexport default {\n  StepTemplate,\n  id: 'wizard-target-gcp',\n  title: 'Google Cloud Platform',\n  customTitle: (\n    <Title headingLevel=\"h1\" size=\"xl\">\n      Target environment - Google Cloud Platform\n    </Title>\n  ),\n  name: 'google-cloud-target-env',\n  substepOf: 'Target environment',\n  nextStep: ({ values }) =>\n    nextStepMapper(values, { skipGoogle: true, skipAws: true }),\n  fields: [\n    {\n      component: componentTypes.PLAIN_TEXT,\n      name: 'google-cloud-text-component',\n      label: (\n        <Text>\n          Your image will be uploaded to Google Cloud Platform and shared with\n          the email you provide below. <br />\n          The image should be copied to your account within 14 days.\n        </Text>\n      ),\n    },\n    {\n      component: 'radio-popover',\n      label: 'Type',\n      isRequired: true,\n      Popover: PopoverInfo,\n      name: 'google-account-type',\n      initialValue: 'googleAccount',\n      options: Object.entries(googleAccType).map(([value, label]) => ({\n        label:\n          value === 'domain'\n            ? 'Google Workspace domain or Cloud Identity domain'\n            : label,\n        value,\n        autoFocus: value === 'googleAccount' ? true : false,\n      })),\n      validate: [\n        {\n          type: validatorTypes.REQUIRED,\n        },\n      ],\n    },\n    {\n      component: componentTypes.TEXT_FIELD,\n      name: 'google-email',\n      'data-testid': 'input-google-email',\n      type: 'text',\n      label: 'Email address',\n      condition: {\n        or: [\n          { when: 'google-account-type', is: 'googleAccount' },\n          { when: 'google-account-type', is: 'serviceAccount' },\n          { when: 'google-account-type', is: 'googleGroup' },\n          { when: 'google-account-type', is: null },\n        ],\n      },\n      isRequired: true,\n      validate: [\n        {\n          type: validatorTypes.REQUIRED,\n        },\n        {\n          type: validatorTypes.PATTERN,\n          pattern: '[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,}$',\n          message: 'Please enter a valid email address',\n        },\n      ],\n    },\n    {\n      component: componentTypes.TEXT_FIELD,\n      name: 'google-domain',\n      type: 'text',\n      label: 'Domain',\n      condition: {\n        when: 'google-account-type',\n        is: 'domain',\n      },\n      isRequired: true,\n      validate: [\n        {\n          type: validatorTypes.REQUIRED,\n        },\n      ],\n    },\n  ],\n};\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Button,\n  DescriptionList,\n  DescriptionListTerm,\n  DescriptionListGroup,\n  DescriptionListDescription,\n  List,\n  ListItem,\n  Popover,\n  Spinner,\n  Tabs,\n  Tab,\n  TabTitleText,\n  Text,\n  TextContent,\n  TextVariants,\n  TextList,\n  TextListVariants,\n  TextListItem,\n  TextListItemVariants,\n} from '@patternfly/react-core';\nimport {\n  TableComposable,\n  Thead,\n  Tbody,\n  Tr,\n  Th,\n  Td,\n} from '@patternfly/react-table';\nimport { HelpIcon } from '@patternfly/react-icons';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport { googleAccType } from '../steps/googleCloud';\nimport { RELEASES, UNIT_GIB, UNIT_MIB } from '../../../constants';\nimport isRhel from '../../../Utilities/isRhel';\n\nconst FSReviewTable = ({ ...props }) => {\n  return (\n    <TableComposable\n      aria-label=\"File system configuration table\"\n      variant=\"compact\"\n    >\n      <Thead>\n        <Tr>\n          <Th>Mount point</Th>\n          <Th>Type</Th>\n          <Th>Minimum size</Th>\n        </Tr>\n      </Thead>\n      <Tbody data-testid=\"file-system-configuration-tbody-review\">\n        {props.fsc.map((r, ri) => (\n          <Tr key={ri}>\n            <Td className=\"pf-m-width-60\">{r.mountpoint}</Td>\n            <Td className=\"pf-m-width-10\">xfs</Td>\n            <Td className=\"pf-m-width-30\">\n              {r.size}{' '}\n              {r.unit === UNIT_GIB\n                ? 'GiB'\n                : r.unit === UNIT_MIB\n                ? 'MiB'\n                : 'KiB'}\n            </Td>\n          </Tr>\n        ))}\n      </Tbody>\n    </TableComposable>\n  );\n};\n\nFSReviewTable.propTypes = {\n  fsc: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nconst ReviewStep = () => {\n  const [activeTabKey, setActiveTabKey] = useState(0);\n  const [orgId, setOrgId] = useState();\n  const [minSize, setMinSize] = useState();\n  const { change, getState } = useFormApi();\n\n  useEffect(() => {\n    const registerSystem = getState()?.values?.['register-system'];\n    if (\n      registerSystem === 'register-now' ||\n      registerSystem === 'register-now-insights'\n    ) {\n      (async () => {\n        const userData = await insights?.chrome?.auth?.getUser();\n        const id = userData?.identity?.internal?.org_id;\n        setOrgId(id);\n        change('subscription-organization-id', id);\n      })();\n    }\n\n    if (\n      getState()?.values?.['file-system-config-toggle'] === 'manual' &&\n      getState()?.values?.['file-system-configuration']\n    ) {\n      let size = 0;\n      for (const fsc of getState().values['file-system-configuration']) {\n        size += fsc.size * fsc.unit;\n      }\n\n      size = (size / UNIT_GIB).toFixed(1);\n      if (size < 1) {\n        setMinSize(`Less than 1 GiB`);\n      } else {\n        setMinSize(`${size} GiB`);\n      }\n    }\n  });\n\n  const handleTabClick = (event, tabIndex) => {\n    setActiveTabKey(tabIndex);\n  };\n\n  return (\n    <>\n      <Text>\n        Review the information and click &quot;Create image&quot; to create the\n        image using the following criteria.\n      </Text>\n      <DescriptionList isCompact isHorizontal>\n        <DescriptionListGroup>\n          {getState()?.values?.['image-name'] && (\n            <>\n              <DescriptionListTerm>Image name</DescriptionListTerm>\n              <DescriptionListDescription>\n                {getState()?.values?.['image-name']}\n              </DescriptionListDescription>\n            </>\n          )}\n          <DescriptionListTerm>Release</DescriptionListTerm>\n          <DescriptionListDescription>\n            {RELEASES[getState()?.values?.release]}\n          </DescriptionListDescription>\n        </DescriptionListGroup>\n      </DescriptionList>\n      <Tabs\n        isFilled\n        activeKey={activeTabKey}\n        onSelect={handleTabClick}\n        className=\"pf-u-w-75\"\n      >\n        <Tab\n          eventKey={0}\n          title={<TabTitleText>Target environment</TabTitleText>}\n          data-testid=\"tab-target\"\n          autoFocus\n        >\n          <List isPlain iconSize=\"large\">\n            {getState()?.values?.['target-environment']?.aws && (\n              <ListItem\n                icon={\n                  <img\n                    className=\"provider-icon\"\n                    src=\"/apps/frontend-assets/partners-icons/aws.svg\"\n                  />\n                }\n              >\n                <TextContent>\n                  <Text component={TextVariants.h3}>Amazon Web Services</Text>\n                  <TextList component={TextListVariants.dl}>\n                    <TextListItem component={TextListItemVariants.dt}>\n                      Account ID\n                    </TextListItem>\n                    <TextListItem component={TextListItemVariants.dd}>\n                      {getState()?.values?.['aws-account-id']}\n                    </TextListItem>\n                  </TextList>\n                </TextContent>\n              </ListItem>\n            )}\n            {getState()?.values?.['target-environment']?.gcp && (\n              <ListItem\n                className=\"pf-c-list__item pf-u-mt-md\"\n                icon={\n                  <img\n                    className=\"provider-icon\"\n                    src=\"/apps/frontend-assets/partners-icons/google-cloud-short.svg\"\n                  />\n                }\n              >\n                <TextContent>\n                  <Text component={TextVariants.h3}>Google Cloud Platform</Text>\n                  <TextList component={TextListVariants.dl}>\n                    <TextListItem component={TextListItemVariants.dt}>\n                      {\n                        googleAccType?.[\n                          getState()?.values?.['google-account-type']\n                        ]\n                      }\n                    </TextListItem>\n                    <TextListItem component={TextListItemVariants.dd}>\n                      {getState()?.values?.['google-email'] ||\n                        getState()?.values?.['google-domain']}\n                    </TextListItem>\n                  </TextList>\n                </TextContent>\n              </ListItem>\n            )}\n            {getState()?.values?.['target-environment']?.azure && (\n              <ListItem\n                className=\"pf-c-list__item pf-u-mt-md\"\n                icon={\n                  <img\n                    className=\"provider-icon\"\n                    src=\"/apps/frontend-assets/partners-icons/microsoft-azure-short.svg\"\n                  />\n                }\n              >\n                <TextContent>\n                  <Text component={TextVariants.h3}>Microsoft Azure</Text>\n                  <TextList component={TextListVariants.dl}>\n                    <TextListItem component={TextListItemVariants.dt}>\n                      Subscription ID\n                    </TextListItem>\n                    <TextListItem component={TextListItemVariants.dd}>\n                      {getState()?.values?.['azure-subscription-id']}\n                    </TextListItem>\n                    <TextListItem component={TextListItemVariants.dt}>\n                      Tenant ID\n                    </TextListItem>\n                    <TextListItem component={TextListItemVariants.dd}>\n                      {getState()?.values?.['azure-tenant-id']}\n                    </TextListItem>\n                    <TextListItem component={TextListItemVariants.dt}>\n                      Resource group\n                    </TextListItem>\n                    <TextListItem component={TextListItemVariants.dd}>\n                      {getState()?.values?.['azure-resource-group']}\n                    </TextListItem>\n                  </TextList>\n                </TextContent>\n              </ListItem>\n            )}\n            {getState()?.values?.['target-environment']?.vsphere && (\n              <ListItem>\n                <TextContent>\n                  <Text component={TextVariants.h3}>VMWare</Text>\n                </TextContent>\n              </ListItem>\n            )}\n            {getState()?.values?.['target-environment']?.['guest-image'] && (\n              <ListItem>\n                <TextContent>\n                  <Text component={TextVariants.h3}>\n                    Virtualization - Guest image\n                  </Text>\n                </TextContent>\n              </ListItem>\n            )}\n            {getState()?.values?.['target-environment']?.[\n              'image-installer'\n            ] && (\n              <ListItem>\n                <TextContent>\n                  <Text component={TextVariants.h3}>\n                    Bare metal - Installer\n                  </Text>\n                </TextContent>\n              </ListItem>\n            )}\n          </List>\n        </Tab>\n        {isRhel(getState()?.values?.release) && (\n          <Tab\n            eventKey={1}\n            title={<TabTitleText>Registration</TabTitleText>}\n            data-testid=\"tab-registration\"\n          >\n            {getState()?.values?.['register-system'] === 'register-later' && (\n              <TextContent>\n                <TextList component={TextListVariants.dl}>\n                  <TextListItem component={TextListItemVariants.dt}>\n                    Subscription\n                  </TextListItem>\n                  <TextListItem component={TextListItemVariants.dd}>\n                    Register the system later\n                  </TextListItem>\n                </TextList>\n              </TextContent>\n            )}\n            {(getState()?.values?.['register-system'] === 'register-now' ||\n              getState()?.values?.['register-system'] ===\n                'register-now-insights') && (\n              <TextContent>\n                <TextList component={TextListVariants.dl}>\n                  <TextListItem component={TextListItemVariants.dt}>\n                    Subscription\n                  </TextListItem>\n                  <TextListItem component={TextListItemVariants.dd}>\n                    {getState()?.values?.['register-system'] ===\n                      'register-now-insights' &&\n                      'Register with Subscriptions and Red Hat Insights'}\n                    {getState()?.values?.['register-system'] ===\n                      'register-now' && 'Register with Subscriptions'}\n                  </TextListItem>\n                  <TextListItem component={TextListItemVariants.dt}>\n                    Activation key\n                  </TextListItem>\n                  <TextListItem component={TextListItemVariants.dd}>\n                    {getState()?.values?.['subscription-activation-key']}\n                  </TextListItem>\n                  <TextListItem component={TextListItemVariants.dt}>\n                    Organization ID\n                  </TextListItem>\n                  {orgId !== undefined ? (\n                    <TextListItem\n                      component={TextListItemVariants.dd}\n                      data-testid=\"organization-id\"\n                    >\n                      {orgId}\n                    </TextListItem>\n                  ) : (\n                    <TextListItem component={TextListItemVariants.dd}>\n                      <Spinner />\n                    </TextListItem>\n                  )}\n                </TextList>\n              </TextContent>\n            )}\n          </Tab>\n        )}\n        <Tab\n          eventKey={2}\n          title={<TabTitleText>System configuration</TabTitleText>}\n          data-testid=\"tab-system\"\n        >\n          <TextContent>\n            <Text component={TextVariants.h3}>File system configuration</Text>\n            <TextList component={TextListVariants.dl}>\n              <TextListItem component={TextListItemVariants.dt}>\n                Partitioning\n              </TextListItem>\n              <TextListItem\n                component={TextListItemVariants.dd}\n                data-testid=\"partitioning-auto-manual\"\n              >\n                {getState()?.values?.['file-system-config-toggle'] === 'manual'\n                  ? 'Manual'\n                  : 'Automatic'}\n                {getState()?.values?.['file-system-config-toggle'] ===\n                  'manual' && (\n                  <>\n                    {' '}\n                    <Popover\n                      position=\"bottom\"\n                      headerContent=\"Partitions\"\n                      hasAutoWidth\n                      minWidth=\"30rem\"\n                      bodyContent={\n                        <FSReviewTable\n                          fsc={getState().values['file-system-configuration']}\n                        />\n                      }\n                    >\n                      <Button\n                        data-testid=\"file-system-configuration-popover\"\n                        variant=\"link\"\n                        aria-label=\"File system configuration info\"\n                        aria-describedby=\"file-system-configuration-info\"\n                      >\n                        View partitions\n                      </Button>\n                    </Popover>\n                  </>\n                )}\n              </TextListItem>\n              {getState()?.values?.['file-system-config-toggle'] ===\n                'manual' && (\n                <>\n                  <TextListItem component={TextListItemVariants.dt}>\n                    Image size (minimum)\n                    <Popover\n                      hasAutoWidth\n                      bodyContent={\n                        <TextContent>\n                          <Text>\n                            Image Builder may extend this size based on\n                            requirements, selected packages, and configurations.\n                          </Text>\n                        </TextContent>\n                      }\n                    >\n                      <Button\n                        variant=\"plain\"\n                        aria-label=\"File system configuration info\"\n                        aria-describedby=\"file-system-configuration-info\"\n                        className=\"pf-c-form__group-label-help\"\n                      >\n                        <HelpIcon />\n                      </Button>\n                    </Popover>\n                  </TextListItem>\n                  <TextListItem component={TextListItemVariants.dd}>\n                    {minSize}\n                  </TextListItem>\n                </>\n              )}\n            </TextList>\n            <Text component={TextVariants.h3}>Packages</Text>\n            <TextList component={TextListVariants.dl}>\n              <TextListItem component={TextListItemVariants.dt}>\n                Chosen\n              </TextListItem>\n              <TextListItem\n                component={TextListItemVariants.dd}\n                data-testid=\"chosen-packages-count\"\n              >\n                {getState()?.values?.['selected-packages']?.length || 0}\n              </TextListItem>\n            </TextList>\n          </TextContent>\n        </Tab>\n      </Tabs>\n    </>\n  );\n};\n\nexport default ReviewStep;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport useFieldApi from '@data-driven-forms/react-form-renderer/use-field-api';\nimport {\n  Checkbox,\n  FormGroup,\n  Text,\n  TextVariants,\n  Tile,\n} from '@patternfly/react-core';\n\nconst TargetEnvironment = ({ label, isRequired, ...props }) => {\n  const { getState, change } = useFormApi();\n  const { input } = useFieldApi({ label, isRequired, ...props });\n  const [environment, setEnvironment] = useState({\n    aws: false,\n    azure: false,\n    gcp: false,\n    vsphere: false,\n    'guest-image': false,\n    'image-installer': false,\n  });\n\n  useEffect(() => {\n    if (getState()?.values?.[input.name]) {\n      setEnvironment(getState().values[input.name]);\n    }\n  }, []);\n\n  const handleSetEnvironment = (env) =>\n    setEnvironment((prevEnv) => {\n      const newEnv = {\n        ...prevEnv,\n        [env]: !prevEnv[env],\n      };\n      change(input.name, newEnv);\n      return newEnv;\n    });\n\n  const handleKeyDown = (e, env) => {\n    if (e.key === ' ') {\n      handleSetEnvironment(env);\n    }\n  };\n\n  return (\n    <>\n      <FormGroup\n        isRequired={isRequired}\n        label={label}\n        data-testid=\"target-select\"\n      >\n        <FormGroup\n          label={<Text component={TextVariants.small}>Public cloud</Text>}\n          data-testid=\"target-public\"\n        >\n          <div className=\"tiles\">\n            <Tile\n              className=\"tile pf-u-mr-sm\"\n              data-testid=\"upload-aws\"\n              title=\"Amazon Web Services\"\n              icon={\n                <img\n                  className=\"provider-icon\"\n                  src={'/apps/frontend-assets/partners-icons/aws.svg'}\n                />\n              }\n              onClick={() => handleSetEnvironment('aws')}\n              onKeyDown={(e) => handleKeyDown(e, 'aws')}\n              isSelected={environment.aws}\n              isStacked\n              isDisplayLarge\n            />\n            <Tile\n              className=\"tile pf-u-mr-sm\"\n              data-testid=\"upload-google\"\n              title=\"Google Cloud Platform\"\n              icon={\n                <img\n                  className=\"provider-icon\"\n                  src={\n                    '/apps/frontend-assets/partners-icons/google-cloud-short.svg'\n                  }\n                />\n              }\n              onClick={() => handleSetEnvironment('gcp')}\n              isSelected={environment.gcp}\n              onKeyDown={(e) => handleKeyDown(e, 'gcp')}\n              isStacked\n              isDisplayLarge\n            />\n            <Tile\n              className=\"tile pf-u-mr-sm\"\n              data-testid=\"upload-azure\"\n              title=\"Microsoft Azure\"\n              icon={\n                <img\n                  className=\"provider-icon\"\n                  src={\n                    '/apps/frontend-assets/partners-icons/microsoft-azure-short.svg'\n                  }\n                />\n              }\n              onClick={() => handleSetEnvironment('azure')}\n              onKeyDown={(e) => handleKeyDown(e, 'azure')}\n              isSelected={environment.azure}\n              isStacked\n              isDisplayLarge\n            />\n          </div>\n        </FormGroup>\n        <FormGroup\n          label={<Text component={TextVariants.small}>Private cloud</Text>}\n          data-testid=\"target-private\"\n        >\n          <Checkbox\n            label=\"VMWare\"\n            isChecked={environment.vsphere}\n            onChange={() => handleSetEnvironment('vsphere')}\n            aria-label=\"VMWare checkbox\"\n            id=\"checkbox-vmware\"\n            name=\"VMWare\"\n            data-testid=\"checkbox-vmware\"\n          />\n        </FormGroup>\n        <FormGroup\n          label={<Text component={TextVariants.small}>Other</Text>}\n          data-testid=\"target-other\"\n        >\n          <Checkbox\n            label=\"Virtualization - Guest image\"\n            isChecked={environment['guest-image']}\n            onChange={() => handleSetEnvironment('guest-image')}\n            aria-label=\"Virtualization guest image checkbox\"\n            id=\"checkbox-guest-image\"\n            name=\"Virtualization guest image\"\n            data-testid=\"checkbox-guest-image\"\n          />\n          <Checkbox\n            label=\"Bare metal - Installer\"\n            isChecked={environment['image-installer']}\n            onChange={() => handleSetEnvironment('image-installer')}\n            aria-label=\"Bare metal installer checkbox\"\n            id=\"checkbox-image-installer\"\n            name=\"Bare metal installer\"\n            data-testid=\"checkbox-image-installer\"\n          />\n        </FormGroup>\n      </FormGroup>\n    </>\n  );\n};\n\nTargetEnvironment.propTypes = {\n  label: PropTypes.node,\n  isRequired: PropTypes.bool,\n};\n\nTargetEnvironment.defaultProps = {\n  label: '',\n  isRequired: false,\n};\n\nexport default TargetEnvironment;\n","import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport useFieldApi from '@data-driven-forms/react-form-renderer/use-field-api';\nimport api from '../../../api';\nimport PropTypes from 'prop-types';\nimport {\n  DualListSelector,\n  DualListSelectorPane,\n  DualListSelectorList,\n  DualListSelectorListItem,\n  DualListSelectorControlsWrapper,\n  DualListSelectorControl,\n  SearchInput,\n  TextContent,\n} from '@patternfly/react-core';\nimport {\n  AngleDoubleLeftIcon,\n  AngleLeftIcon,\n  AngleDoubleRightIcon,\n  AngleRightIcon,\n} from '@patternfly/react-icons';\n\n// the fields isHidden and isSelected should not be included in the package list sent for image creation\nconst removePackagesDisplayFields = (packages) =>\n  packages.map((pack) => ({\n    name: pack.name,\n    summary: pack.summary,\n  }));\n\nconst Packages = ({ defaultArch, ...props }) => {\n  const { change, getState } = useFormApi();\n  const { input } = useFieldApi(props);\n  const [packagesSearchName, setPackagesSearchName] = useState(undefined);\n  const [filterAvailable, setFilterAvailable] = useState(undefined);\n  const [filterChosen, setFilterChosen] = useState(undefined);\n  const [packagesAvailable, setPackagesAvailable] = useState([]);\n  const [packagesAvailableFound, setPackagesAvailableFound] = useState(true);\n  const [packagesChosen, setPackagesChosen] = useState([]);\n  const [packagesChosenFound, setPackagesChosenFound] = useState(true);\n  const [focus, setFocus] = useState('');\n\n  // this effect only triggers on mount\n  useEffect(() => {\n    const selectedPackages = getState()?.values?.['selected-packages'];\n    if (selectedPackages) {\n      setPackagesChosen(selectedPackages);\n    }\n  }, []);\n\n  const searchResultsComparator = useCallback((searchTerm) => {\n    return (a, b) => {\n      a = a.name.toLowerCase();\n      b = b.name.toLowerCase();\n\n      // check exact match first\n      if (a === searchTerm) {\n        return -1;\n      }\n\n      if (b === searchTerm) {\n        return 1;\n      }\n\n      // check for packages that start with the search term\n      if (a.startsWith(searchTerm) && !b.startsWith(searchTerm)) {\n        return -1;\n      }\n\n      if (b.startsWith(searchTerm) && !a.startsWith(searchTerm)) {\n        return 1;\n      }\n\n      // if both (or neither) start with the search term\n      // sort alphabetically\n      if (a < b) {\n        return -1;\n      }\n\n      if (b < a) {\n        return 1;\n      }\n\n      return 0;\n    };\n  });\n\n  const setPackagesAvailableSorted = (\n    packageList,\n    filter = filterAvailable\n  ) => {\n    const sortResults = packageList.sort(searchResultsComparator(filter));\n    setPackagesAvailable(sortResults);\n  };\n\n  const setPackagesChosenSorted = (packageList) => {\n    const sortResults = packageList.sort(searchResultsComparator(filterChosen));\n    setPackagesChosen(sortResults);\n  };\n\n  // filter the packages by name\n  const filterPackagesAvailable = (packageList) => {\n    return packageList.filter((availablePackage) => {\n      // returns true if no packages in the available or chosen list have the same name\n      return !packagesChosen.some(\n        (chosenPackage) => availablePackage.name === chosenPackage.name\n      );\n    });\n  };\n\n  const getAllPackages = async () => {\n    const args = [\n      getState()?.values?.release,\n      getState()?.values?.architecture || defaultArch,\n      packagesSearchName,\n    ];\n    let { data, meta } = await api.getPackages(...args);\n    if (data?.length === meta.count) {\n      return data;\n    } else if (data) {\n      ({ data } = await api.getPackages(...args, meta.count));\n      return data;\n    }\n  };\n\n  // call api to list available packages\n  const handlePackagesAvailableSearch = async () => {\n    setFilterAvailable(packagesSearchName);\n\n    const packageList = await getAllPackages();\n    if (packageList) {\n      const packagesAvailableFiltered = filterPackagesAvailable(packageList);\n      setPackagesAvailableSorted(packagesAvailableFiltered, packagesSearchName);\n      setPackagesAvailableFound(\n        packagesAvailableFiltered.length ? true : false\n      );\n    } else {\n      setPackagesAvailable([]);\n      setPackagesAvailableFound(false);\n    }\n  };\n\n  // filter displayed selected packages\n  const handlePackagesChosenSearch = (val) => {\n    let found = false;\n    const filteredPackagesChosen = packagesChosen.map((pack) => {\n      if (!pack.name.includes(val)) {\n        pack.isHidden = true;\n      } else {\n        pack.isHidden = false;\n        found = true;\n      }\n\n      return pack;\n    });\n\n    setFilterChosen(val);\n    setPackagesChosenFound(found);\n    setPackagesChosenSorted(filteredPackagesChosen);\n  };\n\n  const keydownHandler = (event) => {\n    if (event.key === 'Enter') {\n      if (focus === 'available') {\n        event.stopPropagation();\n        handlePackagesAvailableSearch();\n      }\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener('keydown', keydownHandler, true);\n\n    return () => {\n      document.removeEventListener('keydown', keydownHandler, true);\n    };\n  });\n\n  const areFound = (filter, packageList) => {\n    if (filter === undefined) {\n      return true;\n    } else if (packageList.some((pack) => pack.name.includes(filter))) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const isHidden = (filter, pack) =>\n    filter && !pack.name.includes(filter) ? true : false;\n\n  const updateState = (updatedPackagesAvailable, updatedPackagesChosen) => {\n    setPackagesChosenSorted(updatedPackagesChosen);\n    setPackagesAvailableSorted(updatedPackagesAvailable);\n    setPackagesAvailableFound(\n      areFound(filterAvailable, updatedPackagesAvailable)\n    );\n    setPackagesChosenFound(areFound(filterChosen, updatedPackagesChosen));\n    // set the steps field to the current chosen packages list\n    change(input.name, removePackagesDisplayFields(updatedPackagesChosen));\n  };\n\n  const moveSelectedToChosen = () => {\n    const newPackagesChosen = [];\n\n    const updatedPackagesAvailable = packagesAvailable.filter((pack) => {\n      if (pack.selected) {\n        pack.selected = false;\n        pack.isHidden = isHidden(filterChosen, pack);\n        newPackagesChosen.push(pack);\n        return false;\n      }\n\n      return true;\n    });\n\n    const updatedPackagesChosen = [...newPackagesChosen, ...packagesChosen];\n\n    updateState(updatedPackagesAvailable, updatedPackagesChosen);\n  };\n\n  const moveSelectedToAvailable = () => {\n    const newPackagesAvailable = [];\n\n    const updatedPackagesChosen = packagesChosen.filter((pack) => {\n      if (pack.selected) {\n        pack.selected = false;\n        pack.isHidden = false;\n        pack.name.includes(filterAvailable)\n          ? newPackagesAvailable.push(pack)\n          : null;\n        return false;\n      }\n\n      return true;\n    });\n\n    const updatedPackagesAvailable = [\n      ...newPackagesAvailable,\n      ...packagesAvailable,\n    ];\n\n    updateState(updatedPackagesAvailable, updatedPackagesChosen);\n  };\n\n  const moveAllToChosen = () => {\n    const newPackagesChosen = packagesAvailable.map((pack) => {\n      return {\n        ...pack,\n        selected: false,\n        isHidden: isHidden(filterChosen, pack),\n      };\n    });\n\n    const updatedPackagesAvailable = [];\n    const updatedPackagesChosen = [...newPackagesChosen, ...packagesChosen];\n\n    updateState(updatedPackagesAvailable, updatedPackagesChosen);\n  };\n\n  const moveAllToAvailable = () => {\n    const updatedPackagesChosen = packagesChosen.filter(\n      (pack) => pack.isHidden\n    );\n\n    const newPackagesAvailable =\n      filterAvailable === undefined\n        ? []\n        : packagesChosen\n            .filter(\n              (pack) => !pack.isHidden && pack.name.includes(filterAvailable)\n            )\n            .map((pack) => {\n              return { ...pack, selected: false };\n            });\n\n    const updatedPackagesAvailable = [\n      ...newPackagesAvailable,\n      ...packagesAvailable,\n    ];\n\n    updateState(updatedPackagesAvailable, updatedPackagesChosen);\n  };\n\n  const onOptionSelect = (event, index, isChosen) => {\n    if (isChosen) {\n      const newChosen = [...packagesChosen];\n      newChosen[index].selected = !packagesChosen[index].selected;\n      setPackagesChosenSorted(newChosen);\n    } else {\n      const newAvailable = [...packagesAvailable];\n      newAvailable[index].selected = !packagesAvailable[index].selected;\n      setPackagesAvailableSorted(newAvailable);\n    }\n  };\n\n  const firstInputElement = useRef(null);\n\n  useEffect(() => {\n    firstInputElement.current?.focus();\n  }, []);\n\n  const handleClearAvailableSearch = () => {\n    setPackagesSearchName(undefined);\n    setFilterAvailable(undefined);\n    setPackagesAvailable([]);\n    setPackagesAvailableFound(true);\n  };\n\n  const handleClearChosenSearch = () => {\n    setFilterChosen(undefined);\n    setPackagesChosenSorted(\n      packagesChosen.map((pack) => {\n        return { ...pack, isHidden: false };\n      })\n    );\n    setPackagesChosenFound(true);\n  };\n\n  return (\n    <DualListSelector>\n      <DualListSelectorPane\n        title=\"Available packages\"\n        searchInput={\n          <SearchInput\n            placeholder=\"Search for a package\"\n            data-testid=\"search-available-pkgs-input\"\n            value={packagesSearchName}\n            ref={firstInputElement}\n            onFocus={() => setFocus('available')}\n            onBlur={() => setFocus('')}\n            onChange={(val) => setPackagesSearchName(val)}\n            submitSearchButtonLabel=\"Search button for available packages\"\n            onSearch={handlePackagesAvailableSearch}\n            resetButtonLabel=\"Clear available packages search\"\n            onClear={handleClearAvailableSearch}\n          />\n        }\n      >\n        <DualListSelectorList data-testid=\"available-pkgs-list\">\n          {!packagesAvailable.length ? (\n            <p className=\"pf-u-text-align-center pf-u-mt-md\">\n              {!packagesAvailableFound ? (\n                'No packages found'\n              ) : (\n                <>\n                  Search above to add additional\n                  <br />\n                  packages to your image\n                </>\n              )}\n            </p>\n          ) : (\n            packagesAvailable.map((pack, index) => {\n              return !pack.isHidden ? (\n                <DualListSelectorListItem\n                  key={index}\n                  isSelected={pack.selected}\n                  onOptionSelect={(e) => onOptionSelect(e, index, false)}\n                >\n                  <TextContent key={`${pack.name}-${index}`}>\n                    <span className=\"pf-c-dual-list-selector__item-text\">\n                      {pack.name}\n                    </span>\n                    <small>{pack.summary}</small>\n                  </TextContent>\n                </DualListSelectorListItem>\n              ) : null;\n            })\n          )}\n        </DualListSelectorList>\n      </DualListSelectorPane>\n      <DualListSelectorControlsWrapper aria-label=\"Selector controls\">\n        <DualListSelectorControl\n          isDisabled={!packagesAvailable.some((option) => option.selected)}\n          onClick={() => moveSelectedToChosen()}\n          aria-label=\"Add selected\"\n          tooltipContent=\"Add selected\"\n        >\n          <AngleRightIcon />\n        </DualListSelectorControl>\n        <DualListSelectorControl\n          isDisabled={!packagesAvailable.length}\n          onClick={() => moveAllToChosen()}\n          aria-label=\"Add all\"\n          tooltipContent=\"Add all\"\n        >\n          <AngleDoubleRightIcon />\n        </DualListSelectorControl>\n        <DualListSelectorControl\n          isDisabled={!packagesChosen.length || !packagesChosenFound}\n          onClick={() => moveAllToAvailable()}\n          aria-label=\"Remove all\"\n          tooltipContent=\"Remove all\"\n        >\n          <AngleDoubleLeftIcon />\n        </DualListSelectorControl>\n        <DualListSelectorControl\n          onClick={() => moveSelectedToAvailable()}\n          isDisabled={\n            !packagesChosen.some((option) => option.selected) ||\n            !packagesChosenFound\n          }\n          aria-label=\"Remove selected\"\n          tooltipContent=\"Remove selected\"\n        >\n          <AngleLeftIcon />\n        </DualListSelectorControl>\n      </DualListSelectorControlsWrapper>\n      <DualListSelectorPane\n        title=\"Chosen packages\"\n        searchInput={\n          <SearchInput\n            placeholder=\"Search for a package\"\n            data-testid=\"search-chosen-pkgs-input\"\n            value={filterChosen}\n            onFocus={() => setFocus('chosen')}\n            onBlur={() => setFocus('')}\n            onChange={(val) => handlePackagesChosenSearch(val)}\n            resetButtonLabel=\"Clear chosen packages search\"\n            onClear={handleClearChosenSearch}\n          />\n        }\n        isChosen\n      >\n        <DualListSelectorList data-testid=\"chosen-pkgs-list\">\n          {!packagesChosen.length ? (\n            <p className=\"pf-u-text-align-center pf-u-mt-md\">\n              No packages added\n            </p>\n          ) : !packagesChosenFound ? (\n            <p className=\"pf-u-text-align-center pf-u-mt-md\">\n              No packages found\n            </p>\n          ) : (\n            packagesChosen.map((pack, index) => {\n              return !pack.isHidden ? (\n                <DualListSelectorListItem\n                  key={index}\n                  isSelected={pack.selected}\n                  onOptionSelect={(e) => onOptionSelect(e, index, true)}\n                >\n                  <TextContent key={`${pack.name}-${index}`}>\n                    <span className=\"pf-c-dual-list-selector__item-text\">\n                      {pack.name}\n                    </span>\n                    <small>{pack.summary}</small>\n                  </TextContent>\n                </DualListSelectorListItem>\n              ) : null;\n            })\n          )}\n        </DualListSelectorList>\n      </DualListSelectorPane>\n    </DualListSelector>\n  );\n};\n\nPackages.propTypes = {\n  defaultArch: PropTypes.string,\n};\n\nexport default Packages;\n","import React, { useRef } from 'react';\nimport Radio from '@data-driven-forms/pf4-component-mapper/radio';\nimport PropTypes from 'prop-types';\n\nconst RadioWithPopover = ({ Popover, ...props }) => {\n  const ref = useRef();\n  return (\n    <Radio\n      {...props}\n      label={\n        <span ref={ref} className=\"ins-c-image--builder__popover\">\n          {props.label}\n          <Popover />\n        </span>\n      }\n    />\n  );\n};\n\nRadioWithPopover.propTypes = {\n  Popover: PropTypes.elementType.isRequired,\n  label: PropTypes.node,\n};\n\nexport default RadioWithPopover;\n","import React from 'react';\nimport { Button, FormGroup } from '@patternfly/react-core';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\n\nconst AzureAuthButton = () => {\n  const { getState } = useFormApi();\n\n  const tenantId = getState()?.values?.['azure-tenant-id'];\n  const guidRegex = new RegExp(\n    '^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$',\n    'i'\n  );\n\n  return (\n    <FormGroup>\n      <Button\n        component=\"a\"\n        target=\"_blank\"\n        variant=\"secondary\"\n        isDisabled={!guidRegex.test(tenantId)}\n        href={\n          'https://login.microsoftonline.com/' +\n          tenantId +\n          '/oauth2/v2.0/authorize?client_id=b94bb246-b02c-4985-9c22-d44e66f657f4&scope=openid&' +\n          'response_type=code&response_mode=query&redirect_uri=https://portal.azure.com'\n        }\n      >\n        Authorize Image Builder\n      </Button>\n    </FormGroup>\n  );\n};\n\nexport default AzureAuthButton;\n","import React, { useState } from 'react';\nimport { Button, ExpandableSection, Text, Title } from '@patternfly/react-core';\nimport { ExternalLinkAltIcon } from '@patternfly/react-icons';\n\nconst AzureAuthExpandable = () => {\n  const [expanded, setExpanded] = useState(true);\n\n  return (\n    <>\n      <ExpandableSection\n        className=\"azureAuthExpandable\"\n        toggleText={\n          <Title headingLevel=\"h3\">Authorizing an Azure account</Title>\n        }\n        onToggle={() => setExpanded(!expanded)}\n        isExpanded={expanded}\n      >\n        <Text>\n          To authorize Image Builder to push images to Microsoft Azure, the\n          account owner must configure Image Builder as an authorized\n          application for a specific tenant ID and give it the role of\n          &quot;Contributor&quot; to at least one resource group.\n          <br />\n        </Text>\n        <small>\n          <Button\n            component=\"a\"\n            target=\"_blank\"\n            variant=\"link\"\n            icon={<ExternalLinkAltIcon />}\n            iconPosition=\"right\"\n            isInline\n            href=\"https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow\"\n          >\n            Learn more about OAuth 2.0\n          </Button>\n        </small>\n      </ExpandableSection>\n    </>\n  );\n};\n\nexport default AzureAuthExpandable;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  FormGroup,\n  Spinner,\n  Select,\n  SelectOption,\n  SelectVariant,\n} from '@patternfly/react-core';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport useFieldApi from '@data-driven-forms/react-form-renderer/use-field-api';\nimport api from '../../../api';\n\nconst ActivationKeys = ({ label, isRequired, ...props }) => {\n  const { change, getState } = useFormApi();\n  const { input } = useFieldApi(props);\n  const [activationKeys, setActivationKeys] = useState([]);\n  const [isOpen, setIsOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [activationKeySelected, selectActivationKey] = useState(\n    getState()?.values?.['subscription-activation-key']\n  );\n\n  useEffect(() => {\n    setIsLoading(true);\n    const data = api.getActivationKeys();\n    data.then((keys) => {\n      setActivationKeys(keys);\n      setIsLoading(false);\n    });\n  }, []);\n\n  const setActivationKey = (_, selection) => {\n    selectActivationKey(selection);\n    setIsOpen(false);\n    change(input.name, selection);\n  };\n\n  const handleClear = () => {\n    selectActivationKey();\n    change(input.name, undefined);\n  };\n\n  return (\n    <FormGroup\n      isRequired={isRequired}\n      label={label}\n      data-testid=\"subscription-activation-key\"\n    >\n      <Select\n        variant={SelectVariant.typeahead}\n        onToggle={() => setIsOpen(!isOpen)}\n        onSelect={setActivationKey}\n        onClear={handleClear}\n        selections={activationKeySelected}\n        isOpen={isOpen}\n        placeholderText=\"Select activation key\"\n        typeAheadAriaLabel=\"Select activation key\"\n      >\n        {isLoading && (\n          <SelectOption\n            isNoResultsOption={true}\n            data-testid=\"activation-keys-loading\"\n          >\n            <Spinner isSVG size=\"lg\" />\n          </SelectOption>\n        )}\n        {activationKeys.map((key, index) => (\n          <SelectOption key={index} value={key.name} />\n        ))}\n      </Select>\n    </FormGroup>\n  );\n};\n\nActivationKeys.propTypes = {\n  label: PropTypes.node,\n  isRequired: PropTypes.bool,\n};\n\nActivationKeys.defaultProps = {\n  label: '',\n  isRequired: false,\n};\n\nexport default ActivationKeys;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Select,\n  SelectOption,\n  SelectVariant,\n  TextInput,\n} from '@patternfly/react-core';\nimport path from 'path';\n\nconst MountPoint = ({ ...props }) => {\n  // check '/' last!\n  const validPrefixes = [\n    '/app',\n    '/data',\n    '/home',\n    '/opt',\n    '/srv',\n    '/tmp',\n    '/usr',\n    '/usr/local',\n    '/var',\n    '/',\n  ];\n  const [isOpen, setIsOpen] = useState(false);\n  const [prefix, setPrefix] = useState('/');\n  const [suffix, setSuffix] = useState('');\n\n  // split\n  useEffect(() => {\n    for (let p of validPrefixes) {\n      if (props.mountpoint.startsWith(p)) {\n        setPrefix(p);\n        setSuffix(props.mountpoint.substring(p.length));\n        return;\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    let suf = suffix;\n    let mp = prefix;\n    if (suf) {\n      if (mp !== '/' && suf[0] !== '/') {\n        suf = '/' + suf;\n      }\n\n      mp += suf;\n    }\n\n    props.onChange(path.normalize(mp));\n  }, [prefix, suffix]);\n\n  const onToggle = (isOpen) => {\n    setIsOpen(isOpen);\n  };\n\n  const onSelect = (event, selection) => {\n    setPrefix(selection);\n    setIsOpen(false);\n  };\n\n  return (\n    <>\n      <Select\n        className=\"pf-u-w-50\"\n        isOpen={isOpen}\n        onToggle={onToggle}\n        onSelect={onSelect}\n        selections={prefix}\n        variant={SelectVariant.single}\n      >\n        {validPrefixes.map((pfx, index) => {\n          return <SelectOption key={index} value={pfx} />;\n        })}\n      </Select>\n      {prefix !== '/' && (\n        <TextInput\n          className=\"pf-u-w-50\"\n          type=\"text\"\n          value={suffix}\n          aria-label=\"Mount point suffix text input\"\n          onChange={(v) => setSuffix(v)}\n        />\n      )}\n    </>\n  );\n};\n\nMountPoint.propTypes = {\n  mountpoint: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default MountPoint;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Select,\n  SelectOption,\n  SelectVariant,\n  TextInput,\n} from '@patternfly/react-core';\n\nimport { UNIT_KIB, UNIT_MIB, UNIT_GIB } from '../../../constants';\n\nconst SizeUnit = ({ ...props }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [unit, setUnit] = useState(props.unit || UNIT_GIB);\n  const [size, setSize] = useState(props.size || 1);\n\n  useEffect(() => {\n    props.onChange(size, unit);\n  }, [unit, size]);\n\n  const onToggle = (isOpen) => {\n    setIsOpen(isOpen);\n  };\n\n  const onSelect = (event, selection) => {\n    switch (selection) {\n      case 'KiB':\n        setUnit(UNIT_KIB);\n        break;\n      case 'MiB':\n        setUnit(UNIT_MIB);\n        break;\n      case 'GiB':\n        setUnit(UNIT_GIB);\n        break;\n    }\n\n    setIsOpen(false);\n  };\n\n  return (\n    <>\n      <TextInput\n        className=\"pf-u-w-50\"\n        type=\"text\"\n        value={size}\n        aria-label=\"Size text input\"\n        onChange={(v) => setSize(isNaN(parseInt(v)) ? 0 : parseInt(v))}\n      />\n      <Select\n        className=\"pf-u-w-50\"\n        isOpen={isOpen}\n        onToggle={onToggle}\n        onSelect={onSelect}\n        selections={\n          unit === UNIT_KIB ? 'KiB' : unit === UNIT_MIB ? 'MiB' : 'GiB'\n        }\n        variant={SelectVariant.single}\n        aria-label=\"Unit select\"\n      >\n        {['KiB', 'MiB', 'GiB'].map((u, index) => {\n          return <SelectOption key={index} value={u} />;\n        })}\n      </Select>\n    </>\n  );\n};\n\nSizeUnit.propTypes = {\n  size: PropTypes.number.isRequired,\n  unit: PropTypes.number.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default SizeUnit;\n","import React, { useEffect, useState, useRef } from 'react';\nimport {\n  HelpIcon,\n  MinusCircleIcon,\n  PlusCircleIcon,\n} from '@patternfly/react-icons';\nimport {\n  Alert,\n  Button,\n  Popover,\n  Text,\n  TextContent,\n  TextVariants,\n} from '@patternfly/react-core';\nimport {\n  TableComposable,\n  Thead,\n  Tbody,\n  Tr,\n  Th,\n  Td,\n} from '@patternfly/react-table';\nimport styles from '@patternfly/react-styles/css/components/Table/table';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport useFieldApi from '@data-driven-forms/react-form-renderer/use-field-api';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport { UNIT_GIB } from '../../../constants';\nimport MountPoint from './MountPoint';\nimport SizeUnit from './SizeUnit';\n\nlet initialRow = {\n  id: uuidv4(),\n  mountpoint: '/',\n  fstype: 'xfs',\n  size: 10,\n  unit: UNIT_GIB,\n};\n\nconst FileSystemConfiguration = ({ ...props }) => {\n  const { change, getState } = useFormApi();\n  const { input } = useFieldApi(props);\n  const [draggedItemId, setDraggedItemId] = useState(null);\n  const [draggingToItemIndex, setDraggingToItemIndex] = useState(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [itemOrder, setItemOrder] = useState([initialRow.id]);\n  const [tempItemOrder, setTempItemOrder] = useState([]);\n  const bodyref = useRef();\n  const [rows, setRows] = useState([initialRow]);\n\n  useEffect(() => {\n    const fsc = getState()?.values?.['file-system-configuration'];\n    if (!fsc) {\n      return;\n    }\n\n    const newRows = [];\n    const newOrder = [];\n    fsc.map((r) => {\n      const id = uuidv4();\n      newRows.push({\n        id,\n        mountpoint: r.mountpoint,\n        fstype: 'xfs',\n        size: r.size,\n        unit: r.unit,\n      });\n      newOrder.push(id);\n    });\n    setRows(newRows);\n    setItemOrder(newOrder);\n  }, []);\n\n  useEffect(() => {\n    change(\n      input.name,\n      itemOrder.map((r) => {\n        for (const r2 of rows) {\n          if (r2.id === r) {\n            return {\n              mountpoint: r2.mountpoint,\n              size: r2.size,\n              unit: r2.unit,\n            };\n          }\n        }\n      })\n    );\n  }, [rows, itemOrder]);\n\n  const addRow = () => {\n    const id = uuidv4();\n    setRows(\n      rows.concat([\n        {\n          id,\n          mountpoint: '/home',\n          fstype: 'xfs',\n          size: 1,\n          unit: UNIT_GIB,\n        },\n      ])\n    );\n    setItemOrder(itemOrder.concat([id]));\n  };\n\n  const removeRow = (id) => {\n    let removeIndex = rows.map((e) => e.id).indexOf(id);\n    let newRows = [...rows];\n    newRows.splice(removeIndex, 1);\n\n    let removeOrderIndex = itemOrder.indexOf(id);\n    let newOrder = [...itemOrder];\n    newOrder.splice(removeOrderIndex, 1);\n\n    setRows(newRows);\n    setItemOrder(newOrder);\n  };\n\n  const moveItem = (arr, i1, toIndex) => {\n    const fromIndex = arr.indexOf(i1);\n    if (fromIndex === toIndex) {\n      return arr;\n    }\n\n    const temp = arr.splice(fromIndex, 1);\n    arr.splice(toIndex, 0, temp[0]);\n    return arr;\n  };\n\n  const move = (itemOrder) => {\n    const ulNode = bodyref.current;\n    const nodes = Array.from(ulNode.children);\n    if (nodes.map((node) => node.id).every((id, i) => id === itemOrder[i])) {\n      return;\n    }\n\n    while (ulNode.firstChild) {\n      ulNode.removeChild(ulNode.lastChild);\n    }\n\n    itemOrder.forEach((id) => {\n      ulNode.appendChild(nodes.find((n) => n.id === id));\n    });\n  };\n\n  const onDragOver = (evt) => {\n    evt.preventDefault();\n\n    const curListItem = evt.target.closest('tr');\n    if (!curListItem || !bodyref.current.contains(curListItem)) {\n      return null;\n    }\n\n    const dragId = curListItem.id;\n    const newDraggingToItemIndex = Array.from(\n      bodyref.current.children\n    ).findIndex((item) => item.id === dragId);\n    if (newDraggingToItemIndex !== draggingToItemIndex) {\n      const tempItemOrder = moveItem(\n        [...itemOrder],\n        draggedItemId,\n        newDraggingToItemIndex\n      );\n      move(tempItemOrder);\n      setDraggingToItemIndex(newDraggingToItemIndex);\n      setTempItemOrder(tempItemOrder);\n    }\n  };\n\n  const isValidDrop = (evt) => {\n    const ulRect = bodyref.current.getBoundingClientRect();\n    return (\n      evt.clientX > ulRect.x &&\n      evt.clientX < ulRect.x + ulRect.width &&\n      evt.clientY > ulRect.y &&\n      evt.clientY < ulRect.y + ulRect.height\n    );\n  };\n\n  const onDragLeave = (evt) => {\n    if (!isValidDrop(evt)) {\n      move(itemOrder);\n      setDraggingToItemIndex(null);\n    }\n  };\n\n  const onDrop = (evt) => {\n    if (isValidDrop(evt)) {\n      setItemOrder(tempItemOrder);\n    }\n  };\n\n  const onDragStart = (evt) => {\n    evt.dataTransfer.effectAllowed = 'move';\n    evt.dataTransfer.setData('text/plain', evt.currentTarget.id);\n    evt.currentTarget.classList.add(styles.modifiers.ghostRow);\n    evt.currentTarget.setAttribute('aria-pressed', 'true');\n    setDraggedItemId(evt.currentTarget.id);\n    setIsDragging(true);\n  };\n\n  const onDragEnd = (evt) => {\n    evt.target.classList.remove(styles.modifiers.ghostRow);\n    evt.target.setAttribute('aria-pressed', 'false');\n    setDraggedItemId(null);\n    setDraggingToItemIndex(null);\n    setIsDragging(false);\n  };\n\n  const setMountpoint = (id, mp) => {\n    let newRows = [...rows];\n    for (let i = 0; i < newRows.length; i++) {\n      if (newRows[i].id === id) {\n        let newRow = { ...newRows[i] };\n        newRow.mountpoint = mp;\n        newRows.splice(i, 1, newRow);\n        break;\n      }\n    }\n\n    setRows(newRows);\n  };\n\n  const setSize = (id, s, u) => {\n    let newRows = [...rows];\n    for (let i = 0; i < newRows.length; i++) {\n      if (newRows[i].id === id) {\n        let newRow = { ...newRows[i] };\n        newRow.size = s;\n        newRow.unit = u;\n        newRows.splice(i, 1, newRow);\n        break;\n      }\n    }\n\n    setRows(newRows);\n  };\n\n  return (\n    <>\n      <TextContent>\n        <Text component={TextVariants.h3}>Configure partitions</Text>\n      </TextContent>\n      {rows.length > 1 &&\n        getState()?.errors?.['file-system-configuration']?.duplicates && (\n          <Alert\n            variant=\"danger\"\n            isInline\n            title=\"Duplicate mount points: All mount points must be unique. Remove the duplicate or choose a new mount point.\"\n          />\n        )}\n      {rows.length >= 1 &&\n        getState()?.errors?.['file-system-configuration']?.root === false && (\n          <Alert\n            variant=\"danger\"\n            isInline\n            title=\"No root partition configured.\"\n          />\n        )}\n      <TextContent>\n        <Text>\n          Partitions have been generated and given default values based on best\n          practices from Red Hat, and your selections in previous steps of the\n          wizard.\n        </Text>\n      </TextContent>\n      <TableComposable\n        aria-label=\"File system table\"\n        className={isDragging && styles.modifiers.dragOver}\n        variant=\"compact\"\n      >\n        <Thead>\n          <Tr>\n            <Th />\n            <Th>Mount point</Th>\n            <Th>Type</Th>\n            <Th>\n              Minimum size\n              <Popover\n                hasAutoWidth\n                bodyContent={\n                  <TextContent>\n                    <Text>\n                      Image Builder may extend this size based on requirements,\n                      selected packages, and configurations.\n                    </Text>\n                  </TextContent>\n                }\n              >\n                <Button\n                  variant=\"plain\"\n                  aria-label=\"File system configuration info\"\n                  aria-describedby=\"file-system-configuration-info\"\n                  className=\"pf-c-form__group-label-help\"\n                >\n                  <HelpIcon />\n                </Button>\n              </Popover>\n            </Th>\n            <Th />\n          </Tr>\n        </Thead>\n        <Tbody\n          ref={bodyref}\n          onDragOver={onDragOver}\n          onDrop={onDragOver}\n          onDragLeave={onDragLeave}\n          data-testid=\"file-system-configuration-tbody\"\n        >\n          {rows.map((row, rowIndex) => (\n            <Tr\n              key={rowIndex}\n              id={row.id}\n              draggable\n              onDrop={onDrop}\n              onDragEnd={onDragEnd}\n              onDragStart={onDragStart}\n            >\n              <Td\n                draggableRow={{\n                  id: `draggable-row-${row.id}`,\n                }}\n              />\n              <Td className=\"pf-m-width-30\">\n                <MountPoint\n                  key={row.id + '-mountpoint'}\n                  mountpoint={row.mountpoint}\n                  onChange={(mp) => setMountpoint(row.id, mp)}\n                />\n                {getState().errors['file-system-configuration']?.duplicates &&\n                  getState().errors[\n                    'file-system-configuration'\n                  ]?.duplicates.indexOf(row.mountpoint) !== -1 && (\n                    <Alert\n                      variant=\"danger\"\n                      isInline\n                      isPlain\n                      title=\"Duplicate mount point.\"\n                    />\n                  )}\n              </Td>\n              <Td className=\"pf-m-width-20\">\n                {/* always xfs */}\n                {row.fstype}\n              </Td>\n              <Td className=\"pf-m-width-30\">\n                <SizeUnit\n                  key={row.id + '-sizeunit'}\n                  size={row.size}\n                  unit={row.unit}\n                  onChange={(s, u) => setSize(row.id, s, u)}\n                />\n              </Td>\n              <Td className=\"pf-m-width-10\">\n                <Button\n                  variant=\"link\"\n                  icon={<MinusCircleIcon />}\n                  onClick={() => removeRow(row.id)}\n                />\n              </Td>\n            </Tr>\n          ))}\n        </Tbody>\n      </TableComposable>\n      <TextContent>\n        <Button\n          data-testid=\"file-system-add-partition\"\n          className=\"pf-u-text-align-left\"\n          variant=\"link\"\n          icon={<PlusCircleIcon />}\n          onClick={addRow}\n        >\n          Add partition\n        </Button>\n      </TextContent>\n    </>\n  );\n};\n\nexport default FileSystemConfiguration;\n","import React, { useState, useEffect } from 'react';\nimport { ToggleGroup, ToggleGroupItem } from '@patternfly/react-core';\n\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport useFieldApi from '@data-driven-forms/react-form-renderer/use-field-api';\n\nconst FileSystemConfigToggle = ({ ...props }) => {\n  const { change, getState } = useFormApi();\n  const { input } = useFieldApi(props);\n  const [selected, setSelected] = useState(\n    getState()?.values?.['file-system-config-toggle'] || 'auto'\n  );\n\n  useEffect(() => {\n    change(input.name, selected);\n  }, [selected]);\n\n  const onClick = (_, evt) => {\n    setSelected(evt.currentTarget.id);\n  };\n\n  return (\n    <>\n      <ToggleGroup\n        data-testid=\"fsc-paritioning-toggle\"\n        aria-label=\"Automatic partitioning toggle\"\n      >\n        <ToggleGroupItem\n          onChange={onClick}\n          text=\"Use automatic partitioning\"\n          buttonId=\"auto\"\n          isSelected={selected === 'auto'}\n        />\n        <ToggleGroupItem\n          onChange={onClick}\n          text=\"Manually configure partitions\"\n          buttonId=\"manual\"\n          isSelected={selected === 'manual'}\n          data-testid=\"file-system-config-toggle-manual\"\n        />\n      </ToggleGroup>\n    </>\n  );\n};\n\nexport default FileSystemConfigToggle;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  FormGroup,\n  Select,\n  SelectOption,\n  SelectVariant,\n} from '@patternfly/react-core';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport useFieldApi from '@data-driven-forms/react-form-renderer/use-field-api';\nimport { RELEASES } from '../../../constants';\nimport isRhel from '../../../Utilities/isRhel';\n\nconst ImageOutputReleaseSelect = ({ label, isRequired, ...props }) => {\n  const { change, getState } = useFormApi();\n  const { input } = useFieldApi(props);\n  const [isOpen, setIsOpen] = useState(false);\n\n  const setRelease = (_, selection) => {\n    change(input.name, selection);\n    setIsOpen(false);\n  };\n\n  const handleClear = () => {\n    change(input.name, null);\n  };\n\n  return (\n    <FormGroup isRequired={isRequired} label={label}>\n      <Select\n        variant={SelectVariant.single}\n        onToggle={() => setIsOpen(!isOpen)}\n        onSelect={setRelease}\n        onClear={handleClear}\n        selections={RELEASES[getState()?.values?.[input.name]]}\n        isOpen={isOpen}\n      >\n        {Object.entries(RELEASES)\n          .filter(([key]) => {\n            // Only show non-RHEL distros in beta\n            if (insights.chrome.isBeta()) {\n              return true;\n            }\n\n            return isRhel(key);\n          })\n          .map(([key, release], index) => {\n            return (\n              <SelectOption key={index} value={key}>\n                {release}\n              </SelectOption>\n            );\n          })}\n      </Select>\n    </FormGroup>\n  );\n};\n\nImageOutputReleaseSelect.propTypes = {\n  label: PropTypes.node,\n  isRequired: PropTypes.bool,\n};\n\nexport default ImageOutputReleaseSelect;\n","import React from 'react';\nimport FormRenderer from '@data-driven-forms/react-form-renderer/form-renderer';\nimport Pf4FormTemplate from '@data-driven-forms/pf4-component-mapper/form-template';\nimport { componentMapper } from '@data-driven-forms/pf4-component-mapper';\nimport { Spinner } from '@patternfly/react-core';\nimport PropTypes from 'prop-types';\nimport Review from './formComponents/ReviewStep';\nimport TargetEnvironment from './formComponents/TargetEnvironment';\nimport Packages from './formComponents/Packages';\nimport RadioWithPopover from './formComponents/RadioWithPopover';\nimport AzureAuthButton from './formComponents/AzureAuthButton';\nimport AzureAuthExpandable from './formComponents/AzureAuthExpandable';\nimport ActivationKeys from './formComponents/ActivationKeys';\nimport Select from '@data-driven-forms/pf4-component-mapper/select';\nimport FileSystemConfiguration from './formComponents/FileSystemConfiguration';\nimport FileSystemConfigToggle from './formComponents/FileSystemConfigToggle';\nimport ImageOutputReleaseSelect from './formComponents/ImageOutputReleaseSelect';\n\nconst ImageCreator = ({\n  schema,\n  onSubmit,\n  onClose,\n  customComponentMapper,\n  customValidatorMapper,\n  defaultArch,\n  className,\n  ...props\n}) => {\n  return schema ? (\n    <FormRenderer\n      initialValues={props.initialValues}\n      schema={schema}\n      className={`image-builder${className ? ` ${className}` : ''}`}\n      subscription={{ values: true }}\n      FormTemplate={(props) => (\n        <Pf4FormTemplate {...props} showFormControls={false} />\n      )}\n      onSubmit={(formValues) => onSubmit(formValues)}\n      validatorMapper={{ ...customValidatorMapper }}\n      componentMapper={{\n        ...componentMapper,\n        review: Review,\n        output: TargetEnvironment,\n        select: Select,\n        'package-selector': {\n          component: Packages,\n          defaultArch,\n        },\n        'radio-popover': RadioWithPopover,\n        'azure-auth-expandable': AzureAuthExpandable,\n        'azure-auth-button': AzureAuthButton,\n        'activation-keys': ActivationKeys,\n        'file-system-config-toggle': FileSystemConfigToggle,\n        'file-system-configuration': FileSystemConfiguration,\n        'image-output-release-select': ImageOutputReleaseSelect,\n        ...customComponentMapper,\n      }}\n      onCancel={onClose}\n      {...props}\n    />\n  ) : (\n    <Spinner />\n  );\n};\n\nImageCreator.propTypes = {\n  schema: PropTypes.object,\n  onSubmit: PropTypes.func.isRequired,\n  onClose: PropTypes.func.isRequired,\n  customComponentMapper: PropTypes.shape({\n    [PropTypes.string]: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.shape({\n        component: PropTypes.node,\n      }),\n    ]),\n  }),\n  customValidatorMapper: PropTypes.shape({\n    [PropTypes.string]: PropTypes.func,\n  }),\n  defaultArch: PropTypes.string,\n  className: PropTypes.string,\n  initialValues: PropTypes.object,\n};\n\nexport default ImageCreator;\n","import React from 'react';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/validator-types';\nimport nextStepMapper from './imageOutputStepMapper';\nimport { Title } from '@patternfly/react-core';\nimport StepTemplate from './stepTemplate';\n\nexport default {\n  StepTemplate,\n  id: 'wizard-target-aws',\n  title: 'Amazon Web Services',\n  customTitle: (\n    <Title headingLevel=\"h1\" size=\"xl\">\n      Target environment - Amazon Web Service\n    </Title>\n  ),\n  name: 'aws-target-env',\n  substepOf: 'Target environment',\n  nextStep: ({ values }) => nextStepMapper(values, { skipAws: true }),\n  fields: [\n    {\n      component: componentTypes.PLAIN_TEXT,\n      name: 'plain-text-component',\n      label: (\n        <p>\n          Your image will be uploaded to AWS and shared with the account you\n          provide below. <br />\n          The image should be copied to your account within 14 days.\n        </p>\n      ),\n    },\n    {\n      component: componentTypes.TEXT_FIELD,\n      name: 'aws-account-id',\n      className: 'pf-u-w-25',\n      'data-testid': 'aws-account-id',\n      type: 'text',\n      label: 'AWS account ID',\n      isRequired: true,\n      autoFocus: true,\n      validate: [\n        {\n          type: validatorTypes.REQUIRED,\n        },\n        {\n          type: validatorTypes.EXACT_LENGTH,\n          threshold: 12,\n        },\n      ],\n    },\n  ],\n};\n","import React from 'react';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/validator-types';\nimport { Title, Text } from '@patternfly/react-core';\nimport nextStepMapper from './imageOutputStepMapper';\nimport StepTemplate from './stepTemplate';\n\nexport default {\n  StepTemplate,\n  id: 'wizard-target-msazure',\n  title: 'Microsoft Azure',\n  customTitle: (\n    <Title headingLevel=\"h1\" size=\"xl\">\n      Target environment - Microsoft Azure\n    </Title>\n  ),\n  name: 'ms-azure-target-env',\n  substepOf: 'Target environment',\n  nextStep: ({ values }) =>\n    nextStepMapper(values, {\n      skipAws: true,\n      skipGoogle: true,\n      skipAzure: true,\n    }),\n  fields: [\n    {\n      component: componentTypes.PLAIN_TEXT,\n      name: 'azure-description',\n      label: (\n        <Text>\n          Image Builder sends an image to an authorized Azure account.\n        </Text>\n      ),\n    },\n    {\n      component: 'azure-auth-expandable',\n      name: 'azure-auth-expandable',\n    },\n    {\n      component: componentTypes.PLAIN_TEXT,\n      name: 'azure-destination',\n      label: (\n        <>\n          <Title headingLevel=\"h2\">Destination</Title>\n          <Text>\n            Your image will be uploaded to the resource group in the\n            subscription you specify.\n          </Text>\n        </>\n      ),\n    },\n    {\n      component: componentTypes.TEXT_FIELD,\n      name: 'azure-tenant-id',\n      className: 'pf-u-w-50',\n      'data-testid': 'azure-tenant-id',\n      type: 'text',\n      label: 'Tenant ID',\n      required: true,\n      isRequired: true,\n      autoFocus: true,\n      validate: [\n        {\n          type: validatorTypes.REQUIRED,\n        },\n        {\n          type: validatorTypes.PATTERN,\n          pattern:\n            /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,\n          message: 'Please enter a valid tenant ID',\n        },\n      ],\n    },\n    {\n      component: 'azure-auth-button',\n      name: 'azure-auth-button',\n      'data-testid': 'azure-auth-button',\n      required: true,\n      isRequired: true,\n    },\n    {\n      component: componentTypes.TEXT_FIELD,\n      name: 'azure-subscription-id',\n      className: 'pf-u-w-50',\n      'data-testid': 'azure-subscription-id',\n      type: 'text',\n      label: 'Subscription ID',\n      isRequired: true,\n      validate: [\n        {\n          type: validatorTypes.REQUIRED,\n        },\n        {\n          type: validatorTypes.PATTERN,\n          pattern:\n            /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,\n          message: 'Please enter a valid subscription ID',\n        },\n      ],\n    },\n    {\n      component: componentTypes.TEXT_FIELD,\n      name: 'azure-resource-group',\n      className: 'pf-u-w-50',\n      'data-testid': 'azure-resource-group',\n      type: 'text',\n      label: 'Resource group',\n      isRequired: true,\n      validate: [\n        {\n          type: validatorTypes.REQUIRED,\n        },\n        {\n          type: validatorTypes.PATTERN,\n          pattern: /^[-\\w._()]+[-\\w_()]$/,\n          message:\n            'Resource group names only allow alphanumeric characters, ' +\n            'periods, underscores, hyphens, and parenthesis and cannot end in a period',\n        },\n      ],\n    },\n    // TODO check oauth2 thing too here?\n  ],\n};\n","import React from 'react';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport { Text } from '@patternfly/react-core';\nimport StepTemplate from './stepTemplate';\n\nexport default {\n  StepTemplate,\n  id: 'wizard-systemconfiguration-packages',\n  title: 'Packages',\n  name: 'packages',\n  substepOf: 'System Configuration',\n  nextStep: 'image-name',\n  fields: [\n    {\n      component: componentTypes.PLAIN_TEXT,\n      name: 'packages-text-component',\n      label: (\n        <Text>\n          Add optional additional packages to your image by searching available\n          packages.\n        </Text>\n      ),\n    },\n    {\n      component: 'package-selector',\n      name: 'selected-packages',\n      label: 'Available options',\n    },\n  ],\n};\n","import React from 'react';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/validator-types';\nimport {\n  Button,\n  Popover,\n  Text,\n  TextContent,\n  TextVariants,\n} from '@patternfly/react-core';\nimport { ExternalLinkAltIcon, HelpIcon } from '@patternfly/react-icons';\nimport StepTemplate from './stepTemplate';\n\nconst PopoverActivation = () => {\n  return (\n    <Popover\n      hasAutoWidth\n      maxWidth=\"35rem\"\n      bodyContent={\n        <TextContent>\n          <Text>\n            Activation keys allow you to register a system with appropriate\n            subscriptions and system purpose attached.\n          </Text>\n        </TextContent>\n      }\n    >\n      <Button\n        variant=\"plain\"\n        aria-label=\"Activation key popover\"\n        aria-describedby=\"subscription-activation-key\"\n        className=\"pf-c-form__group-label-help\"\n      >\n        <HelpIcon />\n      </Button>\n    </Popover>\n  );\n};\n\nexport default {\n  StepTemplate,\n  id: 'wizard-registration',\n  title: 'Registration',\n  name: 'registration',\n  nextStep: 'File system configuration',\n  fields: [\n    {\n      component: componentTypes.RADIO,\n      label: 'Register images with Red Hat',\n      name: 'register-system',\n      initialValue: 'register-now-insights',\n      options: [\n        {\n          label: 'Register and connect image instances with Red Hat',\n          description: 'Includes Subscriptions and Red Hat Insights',\n          value: 'register-now-insights',\n          'data-testid': 'radio-register-now-insights',\n          autoFocus: true,\n        },\n        {\n          label: 'Register image instances only',\n          description: 'Includes Subscriptions only',\n          value: 'register-now',\n          className: 'pf-u-mt-sm',\n          'data-testid': 'radio-register-now',\n        },\n        {\n          label: 'Register later',\n          value: 'register-later',\n          className: 'pf-u-mt-sm',\n          'data-testid': 'radio-register-later',\n        },\n      ],\n    },\n    {\n      component: 'activation-keys',\n      name: 'subscription-activation-key',\n      required: true,\n      label: (\n        <>\n          Activation key to use for this image\n          <PopoverActivation />\n        </>\n      ),\n      condition: {\n        or: [\n          { when: 'register-system', is: 'register-now-insights' },\n          { when: 'register-system', is: 'register-now' },\n        ],\n      },\n      isRequired: true,\n      validate: [\n        {\n          type: validatorTypes.REQUIRED,\n        },\n      ],\n    },\n    {\n      component: componentTypes.PLAIN_TEXT,\n      name: 'subscription-activation-description',\n      label: (\n        <>\n          Create and manage activation keys in the&nbsp;\n          <Button\n            component=\"a\"\n            target=\"_blank\"\n            variant=\"link\"\n            icon={<ExternalLinkAltIcon />}\n            iconPosition=\"right\"\n            isInline\n            href=\"https://access.redhat.com/\"\n          >\n            Customer Portal\n          </Button>\n        </>\n      ),\n      condition: {\n        or: [\n          { when: 'register-system', is: 'register-now-insights' },\n          { when: 'register-system', is: 'register-now' },\n        ],\n      },\n    },\n    {\n      component: componentTypes.PLAIN_TEXT,\n      name: 'subscription-register-later',\n      label: (\n        <TextContent>\n          <Text component={TextVariants.h3}>Register Later</Text>\n          <Text>\n            On initial boot, systems will need to be registered manually before\n            having access to updates or Red Hat services.\n          </Text>\n          <Text>Registering now is recommended.</Text>\n        </TextContent>\n      ),\n      condition: {\n        or: [{ when: 'register-system', is: 'register-later' }],\n      },\n    },\n  ],\n};\n","import React, { useContext, useState } from 'react';\nimport { Button } from '@patternfly/react-core';\nimport { FormSpy } from '@data-driven-forms/react-form-renderer';\nimport WizardContext from '@data-driven-forms/react-form-renderer/wizard-context';\nimport PropTypes from 'prop-types';\n\nconst CustomButtons = ({ buttonLabels: { cancel, submit, back } }) => {\n  const [isSaving, setIsSaving] = useState(false);\n  const { handlePrev, formOptions } = useContext(WizardContext);\n  return (\n    <FormSpy>\n      {() => (\n        <React.Fragment>\n          <Button\n            variant=\"primary\"\n            type=\"button\"\n            isDisabled={\n              !formOptions.valid ||\n              formOptions.getState().validating ||\n              isSaving\n            }\n            isLoading={isSaving}\n            onClick={() => {\n              formOptions.onSubmit({\n                values: formOptions.getState().values,\n                setIsSaving,\n              });\n            }}\n          >\n            {isSaving ? 'Creating image' : submit}\n          </Button>\n          <Button\n            type=\"button\"\n            variant=\"secondary\"\n            onClick={handlePrev}\n            isDisabled={isSaving}\n          >\n            {back}\n          </Button>\n          <div className=\"pf-c-wizard__footer-cancel\">\n            <Button\n              type=\"button\"\n              variant=\"link\"\n              onClick={formOptions.onCancel}\n              isDisabled={isSaving}\n            >\n              {cancel}\n            </Button>\n          </div>\n        </React.Fragment>\n      )}\n    </FormSpy>\n  );\n};\n\nCustomButtons.propTypes = {\n  buttonLabels: PropTypes.shape({\n    cancel: PropTypes.node,\n    submit: PropTypes.node,\n    back: PropTypes.node,\n  }),\n  isSaving: PropTypes.bool,\n};\n\nexport default CustomButtons;\n","import CustomButtons from '../formComponents/CustomSubmitButtons';\nimport StepTemplate from './stepTemplate';\n\nexport default {\n  StepTemplate,\n  id: 'wizard-review',\n  name: 'review',\n  title: 'Review',\n  buttons: CustomButtons,\n  fields: [\n    {\n      name: 'review',\n      component: 'review',\n    },\n  ],\n};\n","import React from 'react';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/validator-types';\nimport nextStepMapper from './imageOutputStepMapper';\nimport { RHEL_9 } from '../../../constants.js';\nimport { Text } from '@patternfly/react-core';\nimport DocumentationButton from '../../sharedComponents/DocumentationButton';\nimport StepTemplate from './stepTemplate';\n\nexport default {\n  StepTemplate,\n  id: 'wizard-imageoutput',\n  title: 'Image output',\n  name: 'image-output',\n  nextStep: ({ values }) => nextStepMapper(values),\n  fields: [\n    {\n      component: componentTypes.PLAIN_TEXT,\n      name: 'image-output-plain-text',\n      label: (\n        <Text>\n          Image builder allows you to create a custom image and push it to\n          target environments.\n          <br />\n          <DocumentationButton />\n        </Text>\n      ),\n    },\n    {\n      component: 'image-output-release-select',\n      label: 'Release',\n      name: 'release',\n      initialValue: RHEL_9,\n      isRequired: true,\n      validate: [\n        {\n          type: validatorTypes.REQUIRED,\n        },\n      ],\n    },\n    {\n      component: 'output',\n      name: 'target-environment',\n      label: 'Select target environments',\n      isRequired: true,\n      validate: [\n        {\n          type: validatorTypes.REQUIRED,\n        },\n        {\n          type: 'targetEnvironmentValidator',\n        },\n      ],\n    },\n  ],\n};\n","import React from 'react';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/validator-types';\nimport { Text } from '@patternfly/react-core';\n\nimport StepTemplate from './stepTemplate';\n\nexport default {\n  StepTemplate,\n  id: 'wizard-systemconfiguration-filesystem',\n  title: 'File system configuration',\n  name: 'File system configuration',\n  substepOf: 'System Configuration',\n  nextStep: 'packages',\n  fields: [\n    {\n      component: componentTypes.PLAIN_TEXT,\n      name: 'file-system-configuration-text-component',\n      label: (\n        <>\n          <Text>\n            Red Hat recommends using automatic partitioning for most\n            installations.\n          </Text>\n          <Text>\n            Alternatively, you may manually configure the file system of your\n            image by adding, removing, and editing partitions.\n          </Text>\n        </>\n      ),\n    },\n    {\n      component: 'file-system-config-toggle',\n      name: 'file-system-config-toggle',\n      label: 'File system configurations toggle',\n    },\n    {\n      component: 'file-system-configuration',\n      name: 'file-system-configuration',\n      label: 'File system configurations',\n      validate: [\n        { type: 'fileSystemConfigurationValidator' },\n        { type: validatorTypes.REQUIRED },\n      ],\n      condition: {\n        when: 'file-system-config-toggle',\n        is: 'manual',\n      },\n    },\n  ],\n};\n","import React from 'react';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/validator-types';\nimport StepTemplate from './stepTemplate';\n\nexport default {\n  StepTemplate,\n  id: 'wizard-details',\n  name: 'image-name',\n  title: 'Name image',\n  nextStep: 'review',\n  fields: [\n    {\n      component: componentTypes.PLAIN_TEXT,\n      name: 'plain-text-component',\n      label: (\n        <p>\n          Optionally enter a name for your image. All images will have a UUID.\n        </p>\n      ),\n    },\n    {\n      component: componentTypes.TEXT_FIELD,\n      name: 'image-name',\n      type: 'text',\n      label: 'Image name',\n      autoFocus: true,\n      validate: [\n        {\n          type: validatorTypes.MAX_LENGTH,\n          threshold: 100,\n        },\n      ],\n    },\n  ],\n};\n","const FileSystemConfigurationValidator = () => (fsc) => {\n  if (!fsc) {\n    return undefined;\n  }\n\n  let mpFreqs = {};\n  for (const fs of fsc) {\n    const mp = fs.mountpoint;\n    if (mp in mpFreqs) {\n      mpFreqs[mp]++;\n    } else {\n      mpFreqs[mp] = 1;\n    }\n  }\n\n  let duplicates = [];\n  for (const [k, v] of Object.entries(mpFreqs)) {\n    if (v > 1) {\n      duplicates.push(k);\n    }\n  }\n\n  let root = mpFreqs['/'] >= 1;\n  return duplicates.length === 0 && root\n    ? undefined\n    : {\n        duplicates: duplicates === [] ? undefined : duplicates,\n        root,\n      };\n};\n\nexport default FileSystemConfigurationValidator;\n","const TargetEnvironmentValidator = () => (targets) => {\n  if (!targets) {\n    return undefined;\n  }\n\n  // at least one of the target environments must\n  // be set to true. This reduces the value to\n  // a single boolean which is a flag for whether\n  // at least one target has been selected or not\n  let valid = Object.values(targets).reduce(\n    (prev, curr) => curr || prev,\n    false\n  );\n  return !valid ? 'Please select an image' : undefined;\n};\n\nexport default TargetEnvironmentValidator;\n","import React from 'react';\nimport ImageCreator from './ImageCreator';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport DocumentationButton from '../sharedComponents/DocumentationButton';\nimport './CreateImageWizard.scss';\nimport { useDispatch } from 'react-redux';\nimport api from '../../api';\nimport { UNIT_KIB, UNIT_MIB, UNIT_GIB } from '../../constants';\nimport isRhel from '../../Utilities/isRhel';\nimport { composeAdded } from '../../store/actions/actions';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\n\nimport {\n  review,\n  awsTarget,\n  registration,\n  googleCloudTarger,\n  msAzureTarget,\n  packages,\n  imageOutput,\n  fileSystemConfiguration,\n  imageName,\n} from './steps';\n\nimport {\n  fileSystemConfigurationValidator,\n  targetEnvironmentValidator,\n} from './validators';\n\nconst handleKeyDown = (e, handleClose) => {\n  if (e.key === 'Escape') {\n    handleClose();\n  }\n};\n\nconst onSave = (values) => {\n  let customizations = {\n    packages: values['selected-packages']?.map((p) => p.name),\n  };\n\n  if (values['register-system'] === 'register-now-insights') {\n    customizations.subscription = {\n      'activation-key': values['subscription-activation-key'],\n      insights: true,\n      organization: Number(values['subscription-organization-id']),\n      'server-url': 'subscription.rhsm.redhat.com',\n      'base-url': 'https://cdn.redhat.com/',\n    };\n  } else if (values['register-system'] === 'register-now') {\n    customizations.subscription = {\n      'activation-key': values['subscription-activation-key'],\n      insights: false,\n      organization: Number(values['subscription-organization-id']),\n      'server-url': 'subscription.rhsm.redhat.com',\n      'base-url': 'https://cdn.redhat.com/',\n    };\n  }\n\n  if (values['file-system-config-toggle'] === 'manual') {\n    customizations.filesystem = [];\n    for (let fsc of values['file-system-configuration']) {\n      customizations.filesystem.push({\n        mountpoint: fsc.mountpoint,\n        min_size: fsc.size * fsc.unit,\n      });\n    }\n  }\n\n  let requests = [];\n  if (values['target-environment']?.aws) {\n    let request = {\n      distribution: values.release,\n      image_name: values?.['image-name'],\n      image_requests: [\n        {\n          architecture: 'x86_64',\n          image_type: 'ami',\n          upload_request: {\n            type: 'aws',\n            options: {\n              share_with_accounts: [values['aws-account-id']],\n            },\n          },\n        },\n      ],\n      customizations,\n    };\n    requests.push(request);\n  }\n\n  if (values['target-environment']?.gcp) {\n    let share = '';\n    switch (values['google-account-type']) {\n      case 'googleAccount':\n        share = `user:${values['google-email']}`;\n        break;\n      case 'serviceAccount':\n        share = `serviceAccount:${values['google-email']}`;\n        break;\n      case 'googleGroup':\n        share = `group:${values['google-email']}`;\n        break;\n      case 'domain':\n        share = `domain:${values['google-domain']}`;\n        break;\n    }\n\n    let request = {\n      distribution: values.release,\n      image_name: values?.['image-name'],\n      image_requests: [\n        {\n          architecture: 'x86_64',\n          image_type: 'gcp',\n          upload_request: {\n            type: 'gcp',\n            options: {\n              share_with_accounts: [share],\n            },\n          },\n        },\n      ],\n      customizations,\n    };\n\n    requests.push(request);\n  }\n\n  if (values['target-environment']?.azure) {\n    let request = {\n      distribution: values.release,\n      image_name: values?.['image-name'],\n      image_requests: [\n        {\n          architecture: 'x86_64',\n          image_type: 'vhd',\n          upload_request: {\n            type: 'azure',\n            options: {\n              tenant_id: values['azure-tenant-id'],\n              subscription_id: values['azure-subscription-id'],\n              resource_group: values['azure-resource-group'],\n            },\n          },\n        },\n      ],\n      customizations,\n    };\n    requests.push(request);\n  }\n\n  if (values['target-environment']?.vsphere) {\n    let request = {\n      distribution: values.release,\n      image_name: values?.['image-name'],\n      image_requests: [\n        {\n          architecture: 'x86_64',\n          image_type: 'vsphere',\n          upload_request: {\n            type: 'aws.s3',\n            options: {},\n          },\n        },\n      ],\n      customizations,\n    };\n    requests.push(request);\n  }\n\n  if (values['target-environment']?.['guest-image']) {\n    let request = {\n      distribution: values.release,\n      image_name: values?.['image-name'],\n      image_requests: [\n        {\n          architecture: 'x86_64',\n          image_type: 'guest-image',\n          upload_request: {\n            type: 'aws.s3',\n            options: {},\n          },\n        },\n      ],\n      customizations,\n    };\n    requests.push(request);\n  }\n\n  if (values['target-environment']?.['image-installer']) {\n    let request = {\n      distribution: values.release,\n      image_name: values?.['image-name'],\n      image_requests: [\n        {\n          architecture: 'x86_64',\n          image_type: 'image-installer',\n          upload_request: {\n            type: 'aws.s3',\n            options: {},\n          },\n        },\n      ],\n      customizations,\n    };\n    requests.push(request);\n  }\n\n  return requests;\n};\n\nconst parseSizeUnit = (bytesize) => {\n  let size;\n  let unit;\n\n  if (bytesize % UNIT_GIB === 0) {\n    size = bytesize / UNIT_GIB;\n    unit = UNIT_GIB;\n  } else if (bytesize % UNIT_MIB === 0) {\n    size = bytesize / UNIT_MIB;\n    unit = UNIT_MIB;\n  } else if (bytesize % UNIT_KIB === 0) {\n    size = bytesize / UNIT_KIB;\n    unit = UNIT_KIB;\n  }\n\n  return [size, unit];\n};\n\nconst getPackageDescription = async (release, arch, packageName) => {\n  const args = [release, arch, packageName];\n  let { data, meta } = await api.getPackages(...args);\n  let summary;\n\n  // the package should be found in the 0 index\n  // if not then fetch all package matches and search for the package\n  if (data[0]?.name === packageName) {\n    summary = data[0]?.summary;\n  } else {\n    if (data?.length !== meta.count) {\n      ({ data } = await api.getPackages(...args, meta.count));\n    }\n\n    const pack = data.find((pack) => packageName === pack.name);\n    summary = pack?.summary;\n  }\n\n  // if no matching package is found return an empty string for description\n  return summary || '';\n};\n\n// map the compose request object to the expected form state\nconst requestToState = (composeRequest) => {\n  if (composeRequest) {\n    const imageRequest = composeRequest.image_requests[0];\n    const uploadRequest = imageRequest.upload_request;\n    let formState = {};\n\n    formState['image-name'] = composeRequest.image_name;\n\n    formState.release = composeRequest?.distribution;\n    // set defaults for target environment first\n    formState['target-environment'] = {\n      aws: false,\n      azure: false,\n      gcp: false,\n      'guest-image': false,\n    };\n    // then select the one from the request\n    // if the image type is to a cloud provider we use the upload_request.type\n    // or if the image is intended for download we use the image_type\n    let targetEnvironment;\n    if (uploadRequest.type === 'aws.s3') {\n      targetEnvironment = imageRequest.image_type;\n    } else {\n      targetEnvironment = uploadRequest.type;\n    }\n\n    formState['target-environment'][targetEnvironment] = true;\n\n    if (targetEnvironment === 'aws') {\n      formState['aws-account-id'] =\n        uploadRequest?.options?.share_with_accounts[0];\n    } else if (targetEnvironment === 'azure') {\n      formState['azure-tenant-id'] = uploadRequest?.options?.tenant_id;\n      formState['azure-subscription-id'] =\n        uploadRequest?.options?.subscription_id;\n      formState['azure-resource-group'] =\n        uploadRequest?.options?.resource_group;\n    } else if (targetEnvironment === 'gcp') {\n      // parse google account info\n      // roughly in the format `accountType:accountEmail`\n      const accountInfo = uploadRequest?.options?.share_with_accounts[0];\n      const [accountTypePrefix, account] = accountInfo.split(':');\n\n      switch (accountTypePrefix) {\n        case 'user':\n          formState['google-account-type'] = 'googleAccount';\n          formState['google-email'] = account;\n          break;\n        case 'serviceAccount':\n          formState['google-account-type'] = 'serviceAccount';\n          formState['google-email'] = account;\n          break;\n        case 'group':\n          formState['google-account-type'] = 'googleGroup';\n          formState['google-email'] = account;\n          break;\n        case 'domain':\n          formState['google-account-type'] = 'domain';\n          formState['google-domain'] = account;\n          break;\n      }\n    }\n\n    // customizations\n    // packages\n    let packs = [];\n    composeRequest?.customizations?.packages?.forEach(async (packName) => {\n      const packageDescription = await getPackageDescription(\n        composeRequest?.distribution,\n        imageRequest?.architecture,\n        packName\n      );\n      const pack = {\n        name: packName,\n        summary: packageDescription,\n      };\n      packs.push(pack);\n    });\n    formState['selected-packages'] = packs;\n\n    // filesystem\n    const fs = composeRequest?.customizations?.filesystem;\n    if (fs) {\n      formState['file-system-config-toggle'] = 'manual';\n      let fileSystemConfiguration = [];\n      for (let fsc of fs) {\n        const [size, unit] = parseSizeUnit(fsc.min_size);\n        fileSystemConfiguration.push({\n          mountpoint: fsc.mountpoint,\n          size,\n          unit,\n        });\n      }\n\n      formState['file-system-configuration'] = fileSystemConfiguration;\n    }\n\n    // subscription\n    const subscription = composeRequest?.customizations?.subscription;\n    if (subscription) {\n      if (subscription.insights) {\n        formState['register-system'] = 'register-now-insights';\n      } else {\n        formState['register-system'] = 'register-now';\n      }\n\n      formState['subscription-activation-key'] = subscription['activation-key'];\n      formState['subscription-organization-id'] = subscription.organization;\n    } else {\n      formState['register-system'] = 'register-later';\n    }\n\n    return formState;\n  } else {\n    return;\n  }\n};\n\nconst formStepHistory = (composeRequest) => {\n  if (composeRequest) {\n    const imageRequest = composeRequest.image_requests[0];\n    const uploadRequest = imageRequest.upload_request;\n    let steps = ['image-output'];\n\n    if (uploadRequest.type === 'aws') {\n      steps.push('aws-target-env');\n    } else if (uploadRequest.type === 'azure') {\n      steps.push('azure-target-env');\n    } else if (uploadRequest.type === 'gcp') {\n      steps.push('google-cloud-target-env');\n    }\n\n    if (isRhel(composeRequest?.distribution)) {\n      steps.push('registration');\n    }\n\n    steps = steps.concat([\n      'File system configuration',\n      'packages',\n      'image-name',\n    ]);\n\n    return steps;\n  } else {\n    return [];\n  }\n};\n\nconst CreateImageWizard = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const composeRequest = location?.state?.composeRequest;\n  const initialState = requestToState(composeRequest);\n  const stepHistory = formStepHistory(composeRequest);\n\n  const handleClose = () => navigate('/');\n\n  return (\n    <ImageCreator\n      onClose={handleClose}\n      onSubmit={({ values, setIsSaving }) => {\n        setIsSaving(() => true);\n        const requests = onSave(values);\n        Promise.all(\n          requests.map((request) =>\n            api.composeImage(request).then((response) => {\n              dispatch(\n                composeAdded(\n                  {\n                    ...response,\n                    request,\n                    image_status: { status: 'pending' },\n                  },\n                  true\n                )\n              );\n            })\n          )\n        )\n          .then(() => {\n            navigate('/');\n            dispatch(\n              addNotification({\n                variant: 'success',\n                title: 'Your image is being created',\n              })\n            );\n\n            setIsSaving(false);\n          })\n          .catch((err) => {\n            dispatch(\n              addNotification({\n                variant: 'danger',\n                title: 'Your image could not be created',\n                description:\n                  'Status code ' +\n                  err.response.status +\n                  ': ' +\n                  err.response.statusText,\n              })\n            );\n\n            setIsSaving(false);\n          });\n      }}\n      defaultArch=\"x86_64\"\n      customValidatorMapper={{\n        fileSystemConfigurationValidator,\n        targetEnvironmentValidator,\n      }}\n      schema={{\n        fields: [\n          {\n            component: componentTypes.WIZARD,\n            name: 'image-builder-wizard',\n            className: 'image_builder',\n            isDynamic: true,\n            inModal: true,\n            onKeyDown: (e) => {\n              handleKeyDown(e, handleClose);\n            },\n            buttonLabels: {\n              submit: 'Create image',\n            },\n            showTitles: true,\n            title: 'Create image',\n            crossroads: ['target-environment', 'release'],\n            description: (\n              <>\n                Image builder allows you to create a custom image and push it to\n                target environments. <DocumentationButton />\n              </>\n            ),\n            // order in this array does not reflect order in wizard nav, this order is managed inside\n            // of each step by `nextStep` property!\n            fields: [\n              imageOutput,\n              awsTarget,\n              googleCloudTarger,\n              msAzureTarget,\n              registration,\n              packages,\n              fileSystemConfiguration,\n              imageName,\n              review,\n            ],\n            initialState: {\n              activeStep: location?.state?.initialStep || 'image-output', // name of the active step\n              activeStepIndex: stepHistory.length, // active index\n              maxStepIndex: stepHistory.length, // max achieved index\n              prevSteps: stepHistory, // array with names of previously visited steps\n            },\n          },\n        ],\n      }}\n      initialValues={initialState}\n    />\n  );\n};\n\nexport default CreateImageWizard;\n","import React from 'react';\nimport { Button } from '@patternfly/react-core';\nimport { ExternalLinkAltIcon } from '@patternfly/react-icons';\n\nconst DocumentationButton = () => {\n  const documentationURL =\n    'https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/uploading_a_customized_rhel_system_image_to_cloud_environments/index';\n\n  return (\n    <Button\n      component=\"a\"\n      target=\"_blank\"\n      variant=\"link\"\n      icon={<ExternalLinkAltIcon />}\n      iconPosition=\"right\"\n      isInline\n      href={documentationURL}\n    >\n      Documentation\n    </Button>\n  );\n};\n\nexport default DocumentationButton;\n","import axios from 'axios';\nimport { IMAGE_BUILDER_API, RHSM_API } from './constants';\n\nconst postHeaders = { headers: { 'Content-Type': 'application/json' } };\n\nasync function composeImage(body) {\n  let path = '/compose';\n  const request = await axios.post(\n    IMAGE_BUILDER_API.concat(path),\n    body,\n    postHeaders\n  );\n  return request.data;\n}\n\nasync function getComposes(limit, offset) {\n  const params = new URLSearchParams({\n    limit,\n    offset,\n  });\n  let path = '/composes?' + params.toString();\n  const request = await axios.get(IMAGE_BUILDER_API.concat(path));\n  return request.data;\n}\n\nasync function getComposeStatus(id) {\n  let path = '/composes/' + id;\n  const request = await axios.get(IMAGE_BUILDER_API.concat(path));\n  return request.data;\n}\n\nasync function getPackages(distribution, architecture, search, limit) {\n  const params = new URLSearchParams({\n    distribution,\n    architecture,\n    search,\n  });\n  limit && params.append('limit', limit);\n  let path = '/packages?' + params.toString();\n  const request = await axios.get(IMAGE_BUILDER_API.concat(path));\n  return request.data;\n}\n\nasync function getVersion() {\n  let path = '/version';\n  const request = await axios.get(IMAGE_BUILDER_API.concat(path));\n  return request.data;\n}\n\nasync function getActivationKeys() {\n  const path = '/activation_keys';\n  const request = await axios.get(RHSM_API.concat(path));\n  return request.data.body;\n}\n\nexport default {\n  composeImage,\n  getComposes,\n  getComposeStatus,\n  getPackages,\n  getVersion,\n  getActivationKeys,\n};\n","export const IMAGE_BUILDER_API = '/api/image-builder/v1';\nexport const RHSM_API = '/api/rhsm/v2';\nexport const RHEL_8 = 'rhel-86';\nexport const RHEL_9 = 'rhel-90';\n\nexport const UNIT_KIB = 1024 ** 1;\nexport const UNIT_MIB = 1024 ** 2;\nexport const UNIT_GIB = 1024 ** 3;\n\nexport const RELEASES = {\n  [RHEL_8]: 'Red Hat Enterprise Linux (RHEL) 8',\n  [RHEL_9]: 'Red Hat Enterprise Linux (RHEL) 9',\n  'centos-8': 'CentOS Stream 8',\n  'centos-9': 'CentOS Stream 9',\n};\n","import api from '../../api';\nimport types from '../types';\n\nfunction composeUpdated(compose) {\n  return {\n    type: types.COMPOSE_UPDATED,\n    payload: { compose },\n  };\n}\n\nexport const composeFailed = (error) => ({\n  type: types.COMPOSE_FAILED,\n  payload: { error },\n});\n\nexport const composeAdded = (compose, insert) => ({\n  type: types.COMPOSE_ADDED,\n  payload: { compose, insert },\n});\n\nexport const composeStart = (composeRequest) => async (dispatch) => {\n  // response will be of the format {id: ''}\n  const request = api.composeImage(composeRequest);\n  return request\n    .then((response) => {\n      // add the compose id to the compose object to provide access to the id if iterating through\n      // composes and add an image status of 'pending' alongside the compose request.\n      const compose = Object.assign(\n        {},\n        response,\n        { request: composeRequest },\n        { image_status: { status: 'pending' } }\n      );\n      dispatch(composeAdded(compose, true));\n    })\n    .catch((err) => {\n      if (err.response.status === 500) {\n        dispatch(composeFailed('Error: Something went wrong serverside'));\n      } else {\n        dispatch(composeFailed('Error: Something went wrong with the compose'));\n      }\n    });\n};\n\nexport const composeUpdatedStatus = (id, status) => ({\n  type: types.COMPOSE_UPDATED_STATUS,\n  payload: { id, status },\n});\n\nexport const composeGetStatus = (id) => async (dispatch) => {\n  const request = await api.getComposeStatus(id);\n  dispatch(composeUpdatedStatus(id, request.image_status));\n};\n\nexport const composesUpdatedCount = (count) => ({\n  type: types.COMPOSES_UPDATED_COUNT,\n  payload: { count },\n});\n\nexport const composesGet = (limit, offset) => async (dispatch) => {\n  const request = await api.getComposes(limit, offset);\n  request.data.map((compose) => {\n    dispatch(composeAdded(compose, false));\n    dispatch(composeGetStatus(compose.id));\n  });\n  dispatch(composesUpdatedCount(request.meta.count));\n};\n\nfunction setRelease({ arch, distro }) {\n  return {\n    type: types.SET_RELEASE,\n    payload: {\n      arch,\n      distro,\n    },\n  };\n}\n\nfunction setUploadDestinations({ aws, azure, google }) {\n  return {\n    type: types.SET_UPLOAD_DESTINATIONS,\n    payload: {\n      aws,\n      azure,\n      google,\n    },\n  };\n}\n\nfunction setUploadAWS({ shareWithAccounts }) {\n  return {\n    type: types.SET_UPLOAD_AWS,\n    payload: {\n      shareWithAccounts,\n    },\n  };\n}\n\nfunction setUploadAzure({ tenantId, subscriptionId, resourceGroup }) {\n  return {\n    type: types.SET_UPLOAD_AZURE,\n    payload: {\n      tenantId,\n      subscriptionId,\n      resourceGroup,\n    },\n  };\n}\n\nfunction setUploadGoogle({ accountType, shareWithAccounts }) {\n  return {\n    type: types.SET_UPLOAD_GOOGLE,\n    payload: {\n      accountType,\n      shareWithAccounts,\n    },\n  };\n}\n\nfunction setSelectedPackages(selectedPackages) {\n  return {\n    type: types.SET_SELECTED_PACKAGES,\n    payload: selectedPackages,\n  };\n}\n\nfunction setSubscription({ activationKey, insights, organization }) {\n  return {\n    type: types.SET_SUBSCRIPTION,\n    payload: {\n      activationKey,\n      insights,\n      organization,\n    },\n  };\n}\n\nfunction setSubscribeNow(subscribeNow) {\n  return {\n    type: types.SET_SUBSCRIBE_NOW,\n    payload: subscribeNow,\n  };\n}\n\nexport default {\n  composesGet,\n  composeStart,\n  composeUpdated,\n  composeGetStatus,\n  setRelease,\n  setUploadDestinations,\n  setUploadAWS,\n  setUploadAzure,\n  setUploadGoogle,\n  setSelectedPackages,\n  setSubscription,\n  setSubscribeNow,\n};\n"],"names":["distro","RHEL_8","RHEL_9","targetEnv","release","skipAws","skipGoogle","skipAzure","aws","gcp","azure","isRhel","StepTemplate","id","formFields","formRef","title","customTitle","showTitle","showTitles","ref","className","Title","headingLevel","size","propTypes","PropTypes","formOptions","renderForm","isRequired","current","Element","googleAccType","googleAccount","serviceAccount","googleGroup","domain","PopoverInfo","appendTo","Popover","hasAutoWidth","maxWidth","headerContent","flipBehavior","bodyContent","TextContent","Text","TextList","TextListItem","Button","variant","name","substepOf","nextStep","values","nextStepMapper","fields","component","componentTypes","label","initialValue","options","Object","entries","map","value","autoFocus","validate","type","validatorTypes","condition","or","when","is","pattern","message","FSReviewTable","props","TableComposable","Thead","Tr","Th","Tbody","fsc","r","ri","key","Td","mountpoint","unit","UNIT_GIB","UNIT_MIB","useState","activeTabKey","setActiveTabKey","orgId","setOrgId","minSize","setMinSize","useFormApi","change","getState","useEffect","registerSystem","insights","chrome","auth","getUser","userData","identity","internal","org_id","toFixed","DescriptionList","isCompact","isHorizontal","DescriptionListGroup","DescriptionListTerm","DescriptionListDescription","RELEASES","Tabs","isFilled","activeKey","onSelect","event","tabIndex","Tab","eventKey","TabTitleText","List","isPlain","iconSize","ListItem","icon","src","TextVariants","TextListVariants","TextListItemVariants","vsphere","undefined","Spinner","position","minWidth","length","TargetEnvironment","input","useFieldApi","environment","setEnvironment","handleSetEnvironment","env","prevEnv","newEnv","handleKeyDown","e","FormGroup","Tile","onClick","onKeyDown","isSelected","isStacked","isDisplayLarge","Checkbox","isChecked","onChange","defaultProps","Packages","defaultArch","packagesSearchName","setPackagesSearchName","filterAvailable","setFilterAvailable","filterChosen","setFilterChosen","packagesAvailable","setPackagesAvailable","packagesAvailableFound","setPackagesAvailableFound","packagesChosen","setPackagesChosen","packagesChosenFound","setPackagesChosenFound","focus","setFocus","selectedPackages","searchResultsComparator","useCallback","searchTerm","a","b","toLowerCase","startsWith","setPackagesAvailableSorted","packageList","filter","sortResults","sort","setPackagesChosenSorted","filterPackagesAvailable","availablePackage","some","chosenPackage","getAllPackages","args","architecture","api","data","meta","count","handlePackagesAvailableSearch","packagesAvailableFiltered","keydownHandler","stopPropagation","document","addEventListener","removeEventListener","areFound","pack","includes","isHidden","updateState","updatedPackagesAvailable","updatedPackagesChosen","summary","onOptionSelect","index","isChosen","newChosen","selected","newAvailable","firstInputElement","useRef","DualListSelector","DualListSelectorPane","searchInput","SearchInput","placeholder","onFocus","onBlur","val","submitSearchButtonLabel","onSearch","resetButtonLabel","onClear","DualListSelectorList","DualListSelectorListItem","DualListSelectorControlsWrapper","DualListSelectorControl","isDisabled","option","newPackagesChosen","push","tooltipContent","newPackagesAvailable","found","filteredPackagesChosen","handlePackagesChosenSearch","RadioWithPopover","tenantId","guidRegex","RegExp","target","test","href","expanded","setExpanded","ExpandableSection","toggleText","onToggle","isExpanded","iconPosition","isInline","ActivationKeys","activationKeys","setActivationKeys","isOpen","setIsOpen","isLoading","setIsLoading","activationKeySelected","selectActivationKey","then","keys","Select","SelectVariant","_","selection","selections","placeholderText","typeAheadAriaLabel","SelectOption","isNoResultsOption","isSVG","MountPoint","validPrefixes","prefix","setPrefix","suffix","setSuffix","p","substring","suf","mp","path","pfx","TextInput","v","SizeUnit","setUnit","setSize","isNaN","parseInt","UNIT_KIB","u","initialRow","uuidv4","fstype","draggedItemId","setDraggedItemId","draggingToItemIndex","setDraggingToItemIndex","isDragging","setIsDragging","itemOrder","setItemOrder","tempItemOrder","setTempItemOrder","bodyref","rows","setRows","newRows","newOrder","r2","move","ulNode","nodes","Array","from","children","node","every","i","firstChild","removeChild","lastChild","forEach","appendChild","find","n","onDragOver","evt","preventDefault","curListItem","closest","contains","dragId","newDraggingToItemIndex","findIndex","item","arr","i1","toIndex","fromIndex","indexOf","temp","splice","moveItem","isValidDrop","ulRect","getBoundingClientRect","clientX","x","width","clientY","y","height","onDrop","onDragStart","dataTransfer","effectAllowed","setData","currentTarget","classList","add","styles","setAttribute","onDragEnd","remove","errors","duplicates","Alert","root","onDragLeave","row","rowIndex","draggable","draggableRow","newRow","setMountpoint","s","removeIndex","removeOrderIndex","removeRow","concat","setSelected","ToggleGroup","ToggleGroupItem","text","buttonId","ImageOutputReleaseSelect","isBeta","ImageCreator","schema","onSubmit","onClose","customComponentMapper","customValidatorMapper","initialValues","subscription","FormTemplate","showFormControls","formValues","validatorMapper","componentMapper","review","Review","output","select","AzureAuthExpandable","AzureAuthButton","FileSystemConfigToggle","FileSystemConfiguration","onCancel","threshold","required","PopoverActivation","description","CustomButtons","buttonLabels","cancel","submit","back","isSaving","setIsSaving","useContext","WizardContext","handlePrev","valid","validating","buttons","DocumentationButton","mpFreqs","k","targets","reduce","prev","curr","parseSizeUnit","bytesize","getPackageDescription","arch","packageName","dispatch","useDispatch","navigate","useNavigate","location","useLocation","composeRequest","state","initialState","targetEnvironment","imageRequest","image_requests","uploadRequest","upload_request","formState","image_name","distribution","image_type","share_with_accounts","tenant_id","subscription_id","resource_group","split","accountTypePrefix","account","packs","customizations","packages","packName","packageDescription","fs","filesystem","fileSystemConfiguration","min_size","organization","requestToState","stepHistory","steps","formStepHistory","handleClose","requests","Number","request","share","onSave","Promise","all","response","composeAdded","image_status","status","addNotification","err","statusText","fileSystemConfigurationValidator","targetEnvironmentValidator","isDynamic","inModal","crossroads","imageOutput","awsTarget","googleCloudTarger","msAzureTarget","registration","imageName","activeStep","initialStep","activeStepIndex","maxStepIndex","prevSteps","postHeaders","headers","body","axios","IMAGE_BUILDER_API","limit","offset","params","URLSearchParams","toString","search","append","RHSM_API","composeImage","getComposes","getComposeStatus","getPackages","getVersion","getActivationKeys","compose","insert","types","payload","composeUpdatedStatus","composeGetStatus","composesGet"],"sourceRoot":""}