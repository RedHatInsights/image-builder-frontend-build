{"version":3,"file":"js/106.1657202547661.2d13f0b900b83df5ea95.js","mappings":"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","sources":["webpack:///./src/store/reducers/composes.js","webpack:///./src/store/index.js","webpack:///./src/Router.js","webpack:///./src/App.js","webpack:///./src/AppEntry.js","webpack:///./src/bootstrap.js","webpack:///./src/store/types.js"],"sourcesContent":["import types from '../types';\n\n// Example of action.compose\n// {\n//     \"77e4c693-0497-4b85-936d-b2a3ad69571b\": {\n//         created_at: \"2021-04-21 11:20:46.927594 +0000 UTC\",\n//         id: \"77e4c693-0497-4b85-936d-b2a3ad69571b\",\n//         request: {\n//             distribution: \"rhel-8\",\n//             image_requests: [\n//                 {\n//                     architecture: \"x86_64\",\n//                     image_type: \"ami\",\n//                     upload_request: {\n//                         type: \"aws\",\n//                         options: {}\n//                     }\n//                 }\n//             ]\n//         },\n//         image_status: {\n//             status: \"uploading\",\n//         },\n//     }\n// };\n\nconst initialComposesState = {\n  count: 0,\n  allIds: [],\n  byId: {},\n  error: null,\n};\n\n// only add to array if compose does not exist\nconst updateAllIds = (allIds, id, insert) => {\n  if (allIds.includes(id)) {\n    return allIds;\n  }\n\n  if (insert) {\n    return [id].concat(allIds);\n  }\n\n  return allIds.concat(id);\n};\n\nexport function composes(state = initialComposesState, action) {\n  switch (action.type) {\n    case types.COMPOSE_ADDED:\n      return {\n        ...state,\n        allIds: updateAllIds(\n          state.allIds,\n          action.payload.compose.id,\n          action.payload.insert\n        ),\n        byId: {\n          ...state.byId,\n          [action.payload.compose.id]: action.payload.compose,\n        },\n        error: null,\n      };\n    case types.COMPOSE_FAILED:\n      return {\n        ...state,\n        error: action.payload.error,\n      };\n    case types.COMPOSE_PENDING:\n      return {\n        ...state,\n        error: null,\n      };\n    case types.COMPOSE_UPDATED:\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [action.payload.compose.id]: action.payload.compose,\n        },\n      };\n    case types.COMPOSES_UPDATED_COUNT:\n      return {\n        ...state,\n        count: action.payload.count,\n      };\n    case types.COMPOSE_UPDATED_STATUS:\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [action.payload.id]: {\n            ...state.byId[action.payload.id],\n            image_status: action.payload.status,\n          },\n        },\n      };\n    default:\n      return state;\n  }\n}\n\nexport default composes;\n","import { ReducerRegistry } from '@redhat-cloud-services/frontend-components-utilities/ReducerRegistry';\nimport promiseMiddleware from 'redux-promise-middleware';\nimport thunk from 'redux-thunk';\nimport { notificationsReducer } from '@redhat-cloud-services/frontend-components-notifications/redux';\n\nimport composes from './reducers/composes';\n\nlet registry;\n\nexport function init(store = {}, ...middleware) {\n  if (!registry) {\n    registry = new ReducerRegistry(store, [\n      promiseMiddleware,\n      thunk,\n      ...middleware.filter((item) => typeof item !== 'undefined'),\n    ]);\n\n    registry.register({\n      composes,\n      notifications: notificationsReducer,\n    });\n  }\n\n  return registry;\n}\n\nexport function getStore() {\n  return registry.getStore();\n}\n\nexport function register(...args) {\n  return registry.register(...args);\n}\n\n/* added for testing purposes only */\nexport function clearStore() {\n  registry = undefined;\n}\n","import React, { lazy } from 'react';\nimport { Route, Routes } from 'react-router-dom';\n\nconst LandingPage = lazy(() => import('./Components/LandingPage/LandingPage'));\nconst CreateImageWizard = lazy(() =>\n  import('./Components/CreateImageWizard/CreateImageWizard')\n);\n\nexport const Router = () => {\n  return (\n    <Routes>\n      <Route path=\"/imagewizard/*\" element={<CreateImageWizard />} />\n      <Route path=\"*\" element={<LandingPage />} />\n    </Routes>\n  );\n};\n","import React, { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Router } from './Router';\nimport '@patternfly/patternfly/patternfly-addons.css';\n\nimport { getRegistry } from '@redhat-cloud-services/frontend-components-utilities/Registry';\nimport NotificationsPortal from '@redhat-cloud-services/frontend-components-notifications/NotificationPortal';\nimport { notificationsReducer } from '@redhat-cloud-services/frontend-components-notifications/redux';\n\nconst App = (props) => {\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const registry = getRegistry();\n    registry.register({ notifications: notificationsReducer });\n    document.title = 'Image Builder | Red Hat Insights';\n    insights.chrome.init();\n    insights.chrome.identifyApp('image-builder');\n    const unregister = insights.chrome.on('APP_NAVIGATION', (event) =>\n      navigate(`/${event.navId}`)\n    );\n    return () => {\n      unregister();\n    };\n  }, []);\n\n  return (\n    <React.Fragment>\n      <NotificationsPortal />\n      <Router childProps={props} />\n    </React.Fragment>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { init } from './store';\nimport App from './App';\nimport { getBaseName } from '@redhat-cloud-services/frontend-components-utilities/helpers';\nimport logger from 'redux-logger';\n\nconst ImageBuilder = () => (\n  <Provider\n    store={init(\n      {},\n      ...[process.env.NODE_ENV !== 'production' ? logger : undefined]\n    ).getStore()}\n  >\n    <Router basename={getBaseName(window.location.pathname)}>\n      <App />\n    </Router>\n  </Provider>\n);\n\nexport default ImageBuilder;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ImageBuilder from './AppEntry';\n\nReactDOM.render(<ImageBuilder />, document.getElementById('root'));\n","const COMPOSE_ADDED = 'COMPOSE_ADDED';\nconst COMPOSE_FAILED = 'COMPOSE_FAILED';\nconst COMPOSE_UPDATED = 'COMPOSE_UPDATED';\nconst COMPOSES_UPDATED_COUNT = 'COMPOSES_UPDATED_COUNT';\nconst COMPOSE_UPDATED_STATUS = 'COMPOSE_UPDATED_STATUS';\nconst SET_RELEASE = 'SET_RELEASE';\nconst SET_UPLOAD_DESTINATIONS = 'SET_UPLOAD_DESTINATIONS';\nconst SET_UPLOAD_AWS = 'SET_UPLOAD_AWS';\nconst SET_UPLOAD_AZURE = 'SET_UPLOAD_AZURE';\nconst SET_UPLOAD_GOOGLE = 'SET_UPLOAD_GOOGLE';\nconst SET_SELECTED_PACKAGES = 'SET_SELECTED_PACKAGES';\nconst SET_SUBSCRIPTION = 'SET_SUBSCRIPTION';\nconst SET_SUBSCRIBE_NOW = 'SET_SUBSCRIBE_NOW';\n\nexport default {\n  COMPOSE_ADDED,\n  COMPOSE_FAILED,\n  COMPOSE_UPDATED,\n  COMPOSES_UPDATED_COUNT,\n  COMPOSE_UPDATED_STATUS,\n  SET_RELEASE,\n  SET_UPLOAD_DESTINATIONS,\n  SET_UPLOAD_AWS,\n  SET_UPLOAD_AZURE,\n  SET_UPLOAD_GOOGLE,\n  SET_SELECTED_PACKAGES,\n  SET_SUBSCRIPTION,\n  SET_SUBSCRIBE_NOW,\n};\n"],"names":["initialComposesState","count","allIds","byId","error","updateAllIds","id","insert","includes","concat","state","action","type","types","payload","compose","image_status","status","registry","init","store","middleware","ReducerRegistry","promiseMiddleware","thunk","filter","item","register","composes","notifications","notificationsReducer","LandingPage","lazy","CreateImageWizard","Router","Routes","Route","path","element","props","navigate","useNavigate","useEffect","getRegistry","document","title","insights","chrome","identifyApp","unregister","on","event","navId","childProps","undefined","getStore","basename","getBaseName","window","location","pathname","ReactDOM","getElementById","COMPOSE_ADDED","COMPOSE_FAILED","COMPOSE_UPDATED","COMPOSES_UPDATED_COUNT","COMPOSE_UPDATED_STATUS","SET_RELEASE","SET_UPLOAD_DESTINATIONS","SET_UPLOAD_AWS","SET_UPLOAD_AZURE","SET_UPLOAD_GOOGLE","SET_SELECTED_PACKAGES","SET_SUBSCRIPTION","SET_SUBSCRIBE_NOW"],"sourceRoot":""}