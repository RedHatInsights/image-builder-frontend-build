(self.webpackChunkimage_builder=self.webpackChunkimage_builder||[]).push([[923],{66986:(t,e,n)=>{"use strict";n.d(e,{Z:()=>U});var r=n(6610),o=n(5991),a=n(10379),c=n(86089),i=n(77608),u=n(45697),s=n.n(u),l=n(31154),p=n.n(l),f=n(16530),d=n(88931),E=n(22122),h=n(81253),y=n(87757),S=n.n(y),O=n(92137),m=n(27449);function g(t){return function(e){(0,a.Z)(f,e);var n,u,s,l=(u=f,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=(0,i.Z)(u);if(s){var n=(0,i.Z)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,c.Z)(this,t)});function f(t){var e;return(0,r.Z)(this,f),(e=l.call(this,t)).state={component:null},e}return(0,o.Z)(f,[{key:"componentDidMount",value:(n=(0,O.Z)(S().mark((function e(){var n,r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:n=e.sent,r=n.default,this.setState({component:r});case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var t=this.state.component;return t?p().createElement(t,this.props):p().createElement(m.Skeleton,null)}}]),f}(l.Component)}var P=g((function(){return Promise.all([n.e(410),n.e(57),n.e(955),n.e(513)]).then(n.bind(n,97513))})),v=g((function(){return Promise.all([n.e(410),n.e(955),n.e(50)]).then(n.bind(n,38050))})),_=function(t){var e=t.component,n=t.title,r=(0,h.Z)(t,["component","title"]);return n&&(document.title=n),p().createElement(f.Route,(0,E.Z)({},r,{component:e}))};_.propTypes={component:s().func,title:s().string};var b=function(){return p().createElement(f.Switch,null,p().createElement(_,{exact:!0,path:"/landing",component:P}),p().createElement(_,{exact:!0,path:"/imagewizard",component:v}),p().createElement(f.Redirect,{to:"/landing"}))},D=(n(14154),n(8650)),A=n(65800),T=n(53688),Z=n(90847);const w=function(){return p().createElement(Z.EmptyState,{variant:Z.EmptyStateVariant.large,"data-testid":"empty-state-denied"},p().createElement(Z.EmptyStateIcon,{icon:T.uM}),p().createElement(Z.Title,{headingLevel:"h4",size:"lg"},"Image Builder is not quite ready"),p().createElement(Z.EmptyStateBody,null,"Image Builder is in early development and not ready for use yet. If you're interested in trying it out once it reaches beta, fill out your contact information in the sign up form, and we'll be in touch once it's ready."),p().createElement(Z.Button,{id:"beta-signup-button",variant:"primary"},"Sign up"))};var I=function(t){(0,a.Z)(s,t);var e,n,u=(e=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=(0,i.Z)(e);if(n){var o=(0,i.Z)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,c.Z)(this,t)});function s(){var t;return(0,r.Z)(this,s),(t=u.call(this)).state={permission:!1},t}return(0,o.Z)(s,[{key:"componentDidMount",value:function(){var t=this;insights.chrome.init(),insights.chrome.identifyApp("image-builder").catch((function(){})),this.appNav=insights.chrome.on("APP_NAVIGATION",(function(e){return t.props.history.push("/".concat(e.navId))})),insights.chrome.auth.getUser().then((function(e){t.setState({identity:e.identity}),A.Z.getVersion().then((function(){t.setState({permission:!0})})).catch((function(){t.setState({permission:!1})}))}))}},{key:"componentWillUnmount",value:function(){this.appNav()}},{key:"render",value:function(){return p().createElement(p().Fragment,null,p().createElement(D.NotificationsPortal,null),this.state.permission?p().createElement(b,{childProps:this.props}):p().createElement(w,null))}}]),s}(l.Component);I.propTypes={history:s().object};const U=(0,f.withRouter)((0,d.connect)()(I))},65800:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var r=n(87757),o=n.n(r),a=n(92137),c=n(27199),i=n.n(c),u="/api/image-builder/v1",s={headers:{"Content-Type":"application/json"}};function l(){return(l=(0,a.Z)(o().mark((function t(e){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,i().post(u.concat("/compose"),e,s);case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(){return(p=(0,a.Z)(o().mark((function t(e,n){var r,a,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new URLSearchParams({limit:e,offset:n}),a="/composes?"+r.toString(),t.next=4,i().get(u.concat(a));case 4:return c=t.sent,t.abrupt("return",c.data);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(){return(f=(0,a.Z)(o().mark((function t(e){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/composes/"+e,t.next=3,i().get(u.concat(n));case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(){return(d=(0,a.Z)(o().mark((function t(e,n,r){var a,c,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new URLSearchParams({distribution:e,architecture:n,search:r}),c="/packages?"+a.toString(),t.next=4,i().get(u.concat(c));case 4:return s=t.sent,t.abrupt("return",s.data);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(){return(E=(0,a.Z)(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,i().get(u.concat("/version"));case 3:return e=t.sent,t.abrupt("return",e.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}const h={composeImage:function(t){return l.apply(this,arguments)},getComposes:function(t,e){return p.apply(this,arguments)},getComposeStatus:function(t){return f.apply(this,arguments)},getPackages:function(t,e,n){return d.apply(this,arguments)},getVersion:function(){return E.apply(this,arguments)}}},11916:(t,e,n)=>{"use strict";n.d(e,{S1:()=>g});var r=n(18546),o=n(68573),a=n.n(o),c=n(53894),i=n(83215),u=n(96156),s=n(26698);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){(0,u.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={count:0,allIds:[],byId:{},error:null},d=function(t,e,n){return t.includes(e)?t:n?[e].concat(t):t.concat(e)};const E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case s.Z.COMPOSE_ADDED:return p({},t,{allIds:d(t.allIds,e.payload.compose.id,e.payload.insert),byId:p({},t.byId,(0,u.Z)({},e.payload.compose.id,e.payload.compose)),error:null});case s.Z.COMPOSE_FAILED:return p({},t,{error:e.payload.error});case s.Z.COMPOSE_PENDING:return p({},t,{error:null});case s.Z.COMPOSE_UPDATED:return p({},t,{byId:p({},t.byId,(0,u.Z)({},e.payload.compose.id,e.payload.compose))});case s.Z.COMPOSES_UPDATED_COUNT:return p({},t,{count:e.payload.count});case s.Z.COMPOSE_UPDATED_STATUS:return p({},t,{byId:p({},t.byId,(0,u.Z)({},e.payload.id,p({},t.byId[e.payload.id],{image_status:e.payload.status})))});default:return t}};function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){(0,u.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var S={release:{arch:"x86_64",distro:"rhel-8"},uploadDestinations:{aws:!1,azure:!1,google:!1},uploadAWS:{shareWithAccounts:[]},uploadAzure:{tenantId:null,subscriptionId:null,resourceGroup:null},uploadGoogle:{accountType:"googleAccount",shareWithAccounts:[]},selectedPackages:[],subscription:{activationKey:null,insights:!0,organization:null},subscribeNow:!1};const O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case s.Z.SET_RELEASE:return y({},t,{release:e.payload});case s.Z.SET_UPLOAD_DESTINATIONS:return y({},t,{uploadDestinations:e.payload});case s.Z.SET_UPLOAD_AWS:return y({},t,{uploadAWS:e.payload});case s.Z.SET_UPLOAD_AZURE:return y({},t,{uploadAzure:e.payload});case s.Z.SET_UPLOAD_GOOGLE:return y({},t,{uploadGoogle:e.payload});case s.Z.SET_SELECTED_PACKAGES:return y({},t,{selectedPackages:e.payload});case s.Z.SET_SUBSCRIPTION:return y({},t,{subscription:e.payload});case s.Z.SET_SUBSCRIBE_NOW:return y({},t,{subscribeNow:e.payload});default:return t}};var m;function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(m)throw new Error("store already initialized");for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return(m=new r.xI(t,[a(),c.Z].concat(n))).register({composes:E,pendingCompose:O,notifications:i.ee}),m}},26698:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={COMPOSE_ADDED:"COMPOSE_ADDED",COMPOSE_FAILED:"COMPOSE_FAILED",COMPOSE_UPDATED:"COMPOSE_UPDATED",COMPOSES_UPDATED_COUNT:"COMPOSES_UPDATED_COUNT",COMPOSE_UPDATED_STATUS:"COMPOSE_UPDATED_STATUS",SET_RELEASE:"SET_RELEASE",SET_UPLOAD_DESTINATIONS:"SET_UPLOAD_DESTINATIONS",SET_UPLOAD_AWS:"SET_UPLOAD_AWS",SET_UPLOAD_AZURE:"SET_UPLOAD_AZURE",SET_UPLOAD_GOOGLE:"SET_UPLOAD_GOOGLE",SET_SELECTED_PACKAGES:"SET_SELECTED_PACKAGES",SET_SUBSCRIPTION:"SET_SUBSCRIPTION",SET_SUBSCRIBE_NOW:"SET_SUBSCRIBE_NOW"}},67073:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var r=n(23645),o=n.n(r),a=n(35747),c=o()((function(t){return t[1]}));c.i(a.Z),c.push([t.id,".image-builder{}.image-builder :root{--ins-color--orange: #ec7a08}\n",""]);const i=c},14154:(t,e,n)=>{"use strict";var r=n(93379),o=n.n(r),a=n(67073),c=o()(a.default,{insert:"head",singleton:!1});if(!a.default.locals||t.hot.invalidate){var i=a.default.locals;t.hot.accept(67073,(e=>{a=n(67073),function(t,e,n){if(!t&&e||t&&!e)return!1;var r;for(r in t)if(t[r]!==e[r])return!1;for(r in e)if(!t[r])return!1;return!0}(i,a.default.locals)?(i=a.default.locals,c(a.default)):t.hot.invalidate()}))}t.hot.dispose((function(){c()})),a.default.locals}}]);