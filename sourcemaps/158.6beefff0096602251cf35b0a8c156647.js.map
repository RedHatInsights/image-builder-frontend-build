{"version":3,"file":"js/158.1676026871790.a0aaf0c92e29af12b446.js","mappings":"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","sources":["webpack:///./src/Components/ShareImageModal/RegionsSelect.js","webpack:///./src/Components/ShareImageModal/ShareImageModal.js","webpack:///./src/Router.js","webpack:///./src/App.js","webpack:///./src/Utilities/path.js","webpack:///./src/api.js","webpack:///./src/constants.js","webpack:///./src/store/clonesSlice.js","webpack:///./src/store/composesSlice.js","webpack:///./src/store/apiSlice.js","webpack:///./src/store/index.js","webpack:///./src/store/repositoriesSlice.js"],"sourcesContent":["import React, { useState } from 'react';\n\nimport {\n  ActionGroup,\n  Button,\n  Form,\n  FormGroup,\n  Popover,\n  Select,\n  SelectOption,\n  SelectVariant,\n} from '@patternfly/react-core';\nimport { ExclamationCircleIcon, HelpIcon } from '@patternfly/react-icons';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport { createSelector } from '@reduxjs/toolkit';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\n\nimport api from '../../api';\nimport { AWS_REGIONS } from '../../constants';\nimport { cloneAdded } from '../../store/clonesSlice';\nimport { selectClonesById, selectComposeById } from '../../store/composesSlice';\nimport { resolveRelPath } from '../../Utilities/path';\n\nexport const selectRegionsToDisable = createSelector(\n  [selectComposeById, selectClonesById],\n  (compose, clones) => {\n    const regions = new Set();\n    regions.add(compose.region);\n    clones.map((clone) => {\n      clone.region &&\n        clone.share_with_accounts[0] === compose.share_with_accounts[0] &&\n        clone.status !== 'failure' &&\n        regions.add(clone.region);\n    });\n\n    return regions;\n  }\n);\n\nconst prepareRegions = (regionsToDisable) => {\n  const regions = AWS_REGIONS.map((region) => ({\n    ...region,\n    disabled: regionsToDisable.has(region.value),\n  }));\n\n  return regions;\n};\n\nconst RegionsSelect = ({\n  composeId,\n  handleClose,\n  handleToggle,\n  isOpen,\n  setIsOpen,\n}) => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [isSaving, setIsSaving] = useState(false);\n  const [selected, setSelected] = useState([]);\n  const titleId = 'Clone this image';\n  const [validated, setValidated] = useState('default');\n  const [helperTextInvalid] = useState(\n    'Select at least one region to share to.'\n  );\n\n  const compose = useSelector((state) => selectComposeById(state, composeId));\n\n  const regionsToDisable = useSelector((state) =>\n    selectRegionsToDisable(state, composeId)\n  );\n  const [options] = useState(prepareRegions(regionsToDisable));\n\n  const handleSelect = (event, selection) => {\n    let nextSelected;\n    if (selected.includes(selection)) {\n      nextSelected = selected.filter((region) => region !== selection);\n      setSelected(nextSelected);\n    } else {\n      nextSelected = [...selected, selection];\n      setSelected(nextSelected);\n    }\n    nextSelected.length === 0 ? setValidated('error') : setValidated('default');\n  };\n\n  const handleClear = () => {\n    setSelected([]);\n    setIsOpen(false);\n    setValidated('error');\n  };\n\n  const generateRequests = () => {\n    const requests = selected.map((region) => {\n      return {\n        region: region,\n        share_with_accounts: [compose.share_with_accounts[0]],\n      };\n    });\n    return requests;\n  };\n\n  const handleSubmit = () => {\n    setIsSaving(true);\n    const requests = generateRequests();\n    Promise.all(\n      requests.map((request) =>\n        api.cloneImage(composeId, request).then((response) => {\n          dispatch(\n            cloneAdded({\n              clone: {\n                ...response,\n                request,\n                image_status: { status: 'pending' },\n              },\n              parent: composeId,\n            })\n          );\n        })\n      )\n    )\n      .then(() => {\n        navigate(resolveRelPath(''));\n        dispatch(\n          addNotification({\n            variant: 'success',\n            title: 'Your image is being shared',\n          })\n        );\n\n        setIsSaving(false);\n      })\n      .catch((err) => {\n        navigate(resolveRelPath(''));\n        dispatch(\n          addNotification({\n            variant: 'danger',\n            title: 'Your image could not be created',\n            description: `Status code ${err.response.status}: ${err.response.statusText}`,\n          })\n        );\n      });\n  };\n\n  return (\n    <Form>\n      <span id={titleId} hidden>\n        Select a region\n      </span>\n      <FormGroup\n        label=\"Select region\"\n        isRequired\n        validated={validated}\n        helperTextInvalid={helperTextInvalid}\n        helperTextInvalidIcon={<ExclamationCircleIcon />}\n        labelIcon={\n          <Popover\n            headerContent={<div>Sharing images to other regions</div>}\n            bodyContent={\n              <div>\n                Your image will be built, uploaded to AWS, and shared to the\n                regions you select. The shared image will expire within 14 days.\n                To permanently access the image, copy the image, which will be\n                shared to your account by Red Hat, to your own AWS account.\n              </div>\n            }\n          >\n            <button\n              type=\"button\"\n              aria-label=\"More info for name field\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"simple-form-name-01\"\n              className=\"pf-c-form__group-label-help\"\n            >\n              <HelpIcon noVerticalAlign />\n            </button>\n          </Popover>\n        }\n      >\n        <Select\n          variant={SelectVariant.typeaheadMulti}\n          typeAheadAriaLabel=\"Select a region\"\n          onToggle={handleToggle}\n          onSelect={handleSelect}\n          onClear={handleClear}\n          selections={selected}\n          isOpen={isOpen}\n          aria-labelledby={titleId}\n          placeholderText=\"Select a region\"\n          menuAppendTo=\"parent\"\n          validated={validated}\n          maxHeight=\"25rem\"\n        >\n          {options.map((option, index) => (\n            <SelectOption\n              isDisabled={option.disabled}\n              key={index}\n              value={option.value}\n              {...(option.description && { description: option.description })}\n            />\n          ))}\n        </Select>\n      </FormGroup>\n      <ActionGroup>\n        <Button\n          onClick={handleSubmit}\n          variant=\"primary\"\n          key=\"share\"\n          isDisabled={selected.length === 0 || isSaving}\n          isLoading={isSaving}\n        >\n          Share\n        </Button>\n        <Button variant=\"link\" onClick={handleClose} key=\"cancel\">\n          Cancel\n        </Button>\n      </ActionGroup>\n    </Form>\n  );\n};\n\nRegionsSelect.propTypes = {\n  composeId: PropTypes.string,\n  handleClose: PropTypes.func,\n  handleToggle: PropTypes.func,\n  isOpen: PropTypes.bool,\n  setIsOpen: PropTypes.func,\n};\n\nexport default RegionsSelect;\n","import React, { useState } from 'react';\n\nimport { Modal } from '@patternfly/react-core';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nimport RegionsSelect from './RegionsSelect';\n\nimport { resolveRelPath } from '../../Utilities/path';\n\nconst ShareToRegionsModal = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const handleClose = () => navigate(resolveRelPath(''));\n  const [isOpen, setIsOpen] = useState(false);\n\n  const composeId = location?.state?.composeId;\n\n  const handleToggle = (isOpen) => setIsOpen(isOpen);\n\n  const handleEscapePress = () => {\n    if (isOpen) {\n      handleToggle(isOpen);\n    } else {\n      handleClose();\n    }\n  };\n\n  return (\n    <Modal\n      isOpen={true}\n      variant=\"small\"\n      aria-label=\"Share to new region\"\n      onClose={handleClose}\n      title=\"Share to new region\"\n      description=\"Configure new regions for this image that will run on your AWS. All the\n        regions will launch with the same configuration.\"\n      onEscapePress={handleEscapePress}\n    >\n      <RegionsSelect\n        composeId={composeId}\n        handleClose={handleClose}\n        handleToggle={handleToggle}\n        isOpen={isOpen}\n        setIsOpen={setIsOpen}\n      />\n    </Modal>\n  );\n};\n\nexport default ShareToRegionsModal;\n","import React, { lazy } from 'react';\n\nimport { Route, Routes } from 'react-router-dom';\n\nimport ShareImageModal from './Components/ShareImageModal/ShareImageModal';\n\nconst LandingPage = lazy(() => import('./Components/LandingPage/LandingPage'));\nconst CreateImageWizard = lazy(() =>\n  import('./Components/CreateImageWizard/CreateImageWizard')\n);\n\nexport const Router = () => {\n  return (\n    <Routes>\n      <Route path=\"*\" element={<LandingPage />}>\n        <Route path=\"imagewizard/*\" element={<CreateImageWizard />} />\n        <Route path=\"share/*\" element={<ShareImageModal />} />\n      </Route>\n    </Routes>\n  );\n};\n","import React, { useEffect } from 'react';\n\nimport NotificationsPortal from '@redhat-cloud-services/frontend-components-notifications/NotificationPortal';\nimport { useStore } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport '@patternfly/patternfly/patternfly-addons.css';\n\nimport { Router } from './Router';\nimport { resolveRelPath } from './Utilities/path';\n\nconst App = (props) => {\n  const navigate = useNavigate();\n  const store = useStore();\n\n  useEffect(() => {\n    document.title = 'Image Builder | Red Hat Insights';\n    insights.chrome.init();\n    insights.chrome.identifyApp('image-builder');\n    const unregister = insights.chrome.on('APP_NAVIGATION', () =>\n      navigate(resolveRelPath(''))\n    );\n    return () => {\n      unregister();\n    };\n  }, []);\n\n  return (\n    <React.Fragment>\n      <NotificationsPortal store={store} />\n      <Router childProps={props} />\n    </React.Fragment>\n  );\n};\n\nexport default App;\n","function getBaseName(pathname) {\n  let release = '/';\n  const pathName = pathname.split('/');\n\n  pathName.shift();\n\n  if (pathName[0] === 'beta') {\n    pathName.shift();\n    release = `/beta/`;\n  }\n\n  return `${release}`;\n}\n\nfunction resolveRelPath(path = '') {\n  return `/insights/image-builder${path.length > 0 ? `/${path}` : ''}`;\n}\n\nexport { getBaseName, resolveRelPath };\n","import axios from 'axios';\n\nimport { CONTENT_SOURCES, IMAGE_BUILDER_API, RHSM_API } from './constants';\n\nconst postHeaders = { headers: { 'Content-Type': 'application/json' } };\n\nasync function composeImage(body) {\n  const path = '/compose';\n  const request = await axios.post(\n    IMAGE_BUILDER_API.concat(path),\n    body,\n    postHeaders\n  );\n  return request.data;\n}\n\nasync function getComposes(limit, offset) {\n  const params = new URLSearchParams({\n    limit,\n    offset,\n  });\n  const path = '/composes?' + params.toString();\n  const request = await axios.get(IMAGE_BUILDER_API.concat(path));\n  return request.data;\n}\n\nasync function getComposeStatus(id) {\n  const path = '/composes/' + id;\n  const request = await axios.get(IMAGE_BUILDER_API.concat(path));\n  return request.data;\n}\n\nasync function getPackages(distribution, architecture, search, limit) {\n  const params = new URLSearchParams({\n    distribution,\n    architecture,\n    search,\n  });\n  limit && params.append('limit', limit);\n  const path = '/packages?' + params.toString();\n  const request = await axios.get(IMAGE_BUILDER_API.concat(path));\n  return request.data;\n}\n\nasync function getRepositories(limit) {\n  const params = new URLSearchParams();\n  limit && params.append('limit', limit);\n  const path = '/repositories/' + params.toString();\n  const request = await axios.get(CONTENT_SOURCES.concat(path));\n  return request.data;\n}\n\nasync function getPackagesContentSources(repoUrls, search) {\n  // content-sources expects an array of urls but we store the whole repo object\n  // so map the urls into an array to send to the content-sources api\n  const body = {\n    urls: repoUrls,\n    search,\n  };\n  const path = '/rpms/names';\n  const request = await axios.post(\n    CONTENT_SOURCES.concat(path),\n    body,\n    postHeaders\n  );\n  // map `package_name` key to just `name` since that's what we use across the UI\n  const packages = request.data.map(({ package_name: name, ...rest }) => ({\n    name,\n    ...rest,\n  }));\n  return packages;\n}\n\nasync function getVersion() {\n  const path = '/version';\n  const request = await axios.get(IMAGE_BUILDER_API.concat(path));\n  return request.data;\n}\n\nasync function getActivationKeys() {\n  const path = '/activation_keys';\n  const request = await axios.get(RHSM_API.concat(path));\n  return request.data.body;\n}\n\nasync function getActivationKey(name) {\n  const path = `/activation_keys/${name}`;\n  const request = await axios.get(RHSM_API.concat(path));\n  return request.data.body;\n}\n\n// get clones of a compose\nasync function getClones(id, limit, offset) {\n  const params = new URLSearchParams({\n    limit,\n    offset,\n  });\n  const path = `/composes/${id}/clones?${params}`;\n  const request = await axios.get(IMAGE_BUILDER_API.concat(path));\n  return request.data;\n}\n\nasync function getCloneStatus(id) {\n  const path = `/clones/${id}`;\n  const request = await axios.get(IMAGE_BUILDER_API.concat(path));\n  return request.data;\n}\n\nasync function cloneImage(composeId, body) {\n  const path = `/composes/${composeId}/clone`;\n  const request = await axios.post(\n    IMAGE_BUILDER_API.concat(path),\n    body,\n    postHeaders\n  );\n  return request.data;\n}\n\nexport default {\n  cloneImage,\n  composeImage,\n  getClones,\n  getCloneStatus,\n  getComposes,\n  getComposeStatus,\n  getPackages,\n  getPackagesContentSources,\n  getRepositories,\n  getVersion,\n  getActivationKeys,\n  getActivationKey,\n};\n","export const IMAGE_BUILDER_API = '/api/image-builder/v1';\nexport const RHSM_API = '/api/rhsm/v2';\nexport const CONTENT_SOURCES = '/api/content-sources/v1';\nexport const RHEL_8 = 'rhel-87';\nexport const RHEL_9 = 'rhel-91';\n\nexport const UNIT_KIB = 1024 ** 1;\nexport const UNIT_MIB = 1024 ** 2;\nexport const UNIT_GIB = 1024 ** 3;\n\nexport const RELEASES = new Map([\n  [RHEL_9, 'Red Hat Enterprise Linux (RHEL) 9'],\n  [RHEL_8, 'Red Hat Enterprise Linux (RHEL) 8'],\n  ['centos-9', 'CentOS Stream 9'],\n  ['centos-8', 'CentOS Stream 8'],\n]);\n\nexport const DEFAULT_AWS_REGION = 'us-east-1';\n\n// https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html\nexport const AWS_REGIONS = [\n  { description: 'US East (Ohio)', value: 'us-east-2' },\n  { description: 'US East (N. Virginia)', value: 'us-east-1' },\n  { description: 'US West (N. California)', value: 'us-west-1' },\n  { description: 'US West (Oregon)', value: 'us-west-2' },\n  { description: 'Africa (Cape Town)', value: 'af-south-1' },\n  { description: 'Asia Pacific (Hong Kong)', value: 'ap-east-1' },\n  { description: 'Asia Pacific (Jakarta)', value: 'ap-southeast-3' },\n  { description: 'Asia Pacific (Mumbai)', value: 'ap-south-1' },\n  { description: 'Asia Pacific (Osaka)', value: 'ap-northeast-3' },\n  { description: 'Asia Pacific (Seoul)', value: 'ap-northeast-2' },\n  { description: 'Asia Pacific (Singapore)', value: 'ap-southeast-1' },\n  { description: 'Asia Pacific (Sydney)', value: 'ap-southeast-2' },\n  { description: 'Asia Pacific (Tokyo)', value: 'ap-northeast-1' },\n  { description: 'Canada (Central)', value: 'ca-central-1' },\n  { description: 'Europe (Frankfurt)', value: 'eu-central-1' },\n  { description: 'Europe (Ireland)', value: 'eu-west-1' },\n  { description: 'Europe (London)', value: 'eu-west-2' },\n  { description: 'Europe (Milan)', value: 'eu-south-1' },\n  { description: 'Europe (Paris)', value: 'eu-west-3' },\n  { description: 'Europe (Stockholm)', value: 'eu-north-1' },\n  { description: 'Middle East (Bahrain)', value: 'me-south-1' },\n  { description: 'Middle East (UAE)', value: 'me-central-1' },\n  { description: 'South America (S\\u00e3o Paolo)', value: 'sa-east-1' },\n];\n\nexport const AWS_S3_EXPIRATION_TIME_IN_HOURS = 6;\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  allIds: [],\n  byId: {},\n  error: null,\n};\n\nexport const clonesSlice = createSlice({\n  name: 'clones',\n  initialState,\n  reducers: {\n    cloneAdded: (state, action) => {\n      if (!state.allIds.includes(action.payload.clone.id)) {\n        state.allIds.push(action.payload.clone.id);\n      }\n      state.byId[action.payload.clone.id] = { ...action.payload.clone };\n      state.byId[action.payload.clone.id].parent = action.payload.parent;\n      state.error = null;\n    },\n    cloneUpdatedStatus: (state, action) => {\n      const image_status = {\n        status: action.payload.status.status,\n        upload_status: action.payload.status,\n      };\n      state.byId[action.payload.id].image_status = image_status;\n    },\n  },\n});\n\nexport const selectCloneById = (state, cloneId) => {\n  const clone = state.clones.byId[cloneId];\n\n  if (clone !== undefined) {\n    return {\n      created_at: clone.created_at,\n      id: clone.id,\n      region: clone.request.region,\n      ami: clone.image_status?.upload_status?.options?.ami,\n      share_with_accounts: clone.request.share_with_accounts,\n      status: clone.image_status?.status,\n      uploadStatus: clone.image_status?.upload_status,\n      parent: clone.parent,\n      imageType: 'aws',\n      isClone: true,\n    };\n  } else {\n    return null;\n  }\n};\n\nexport const { cloneAdded, cloneUpdatedStatus } = clonesSlice.actions;\nexport default clonesSlice.reducer;\n","import { createSelector, createSlice } from '@reduxjs/toolkit';\n\nimport { selectCloneById } from './clonesSlice';\n\nconst initialState = {\n  count: 0,\n  allIds: [],\n  byId: {},\n  error: null,\n};\n\nconst composesSlice = createSlice({\n  name: 'composes',\n  initialState,\n  reducers: {\n    composeAdded: (state, action) => {\n      // only add to array if compose does not exist\n      if (!state.allIds.includes(action.payload.compose.id)) {\n        if (action.payload.insert) {\n          state.allIds.unshift(action.payload.compose.id);\n        } else {\n          state.allIds.push(action.payload.compose.id);\n        }\n      }\n      state.byId[action.payload.compose.id] = action.payload.compose;\n\n      // initialize empty clones array\n      if (!state.byId[action.payload.compose.id].clones) {\n        state.byId[action.payload.compose.id].clones = [];\n      }\n\n      state.error = null;\n    },\n    composesUpdatedCount: (state, action) => {\n      state.count = action.payload.count;\n    },\n    composeUpdatedStatus: (state, action) => {\n      state.byId[action.payload.id].image_status = action.payload.status;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase('clones/cloneAdded', (state, action) => {\n      state.byId[action.payload.parent].clones.push(action.payload.clone.id);\n    });\n  },\n});\n\nexport const selectComposeById = (state, composeId) => {\n  const compose = state.composes.byId[composeId];\n\n  if (compose !== undefined) {\n    return {\n      created_at: compose.created_at,\n      id: compose.id,\n      imageName: compose.image_name || compose.id,\n      region: compose.image_status?.upload_status?.options?.region,\n      ami: compose.image_status?.upload_status?.options?.ami,\n      share_with_accounts:\n        compose.request.image_requests[0].upload_request?.options\n          .share_with_accounts,\n      status: compose.image_status?.status,\n      clones: [...compose.clones],\n      imageType: compose.request.image_requests[0].image_type,\n      uploadType: compose.request.image_requests[0].upload_request.type,\n      uploadOptions: compose.request.image_requests[0].upload_request.options,\n      uploadStatus: compose.image_status?.upload_status,\n      request: compose.request,\n      architecture: compose.request.image_requests[0].architecture,\n      isClone: false,\n    };\n  } else {\n    return null;\n  }\n};\n\nexport const selectClonesById = (state, composeId) => {\n  const compose = state.composes.byId[composeId];\n\n  if (compose.clones.length !== 0) {\n    const clones = compose.clones.map((cloneId) => {\n      const clone = state.clones.byId[cloneId];\n      return {\n        created_at: clone.created_at,\n        id: clone.id,\n        region: clone.request.region,\n        ami: clone.image_status?.upload_status?.options?.ami,\n        share_with_accounts: clone.request.share_with_accounts,\n        status: clone.image_status?.status,\n      };\n    });\n    return clones;\n  }\n\n  return [];\n};\n\nexport const selectImageById = (state, imageId) => {\n  const image = state.composes.allIds.includes(imageId)\n    ? selectComposeById(state, imageId)\n    : selectCloneById(state, imageId);\n\n  return image;\n};\n\nexport const selectImagesById = createSelector(\n  [selectComposeById, selectClonesById],\n  (compose, clones) => [compose, ...clones]\n);\n\nexport const selectImageStatusesById = createSelector(\n  [selectImagesById],\n  (images) => {\n    return images.map((image) => image.status);\n  }\n);\n\nexport const { composeAdded, composesUpdatedCount, composeUpdatedStatus } =\n  composesSlice.actions;\nexport default composesSlice.reducer;\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\n\nexport const apiSlice = createApi({\n  reducerPath: 'api',\n  baseQuery: fetchBaseQuery({ baseUrl: '/api' }),\n  endpoints: (builder) => ({\n    getSources: builder.query({\n      query: () => '/provisioning/v1/sources',\n    }),\n  }),\n});\n\nexport const { useGetSourcesQuery } = apiSlice;\n","import { notificationsReducer } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport { configureStore } from '@reduxjs/toolkit';\nimport promiseMiddleware from 'redux-promise-middleware';\n\nimport { apiSlice } from './apiSlice';\nimport clonesSlice from './clonesSlice';\nimport composesSlice from './composesSlice';\nimport repositoriesSlice from './repositoriesSlice';\n\nexport const reducer = {\n  [apiSlice.reducerPath]: apiSlice.reducer,\n  clones: clonesSlice,\n  composes: composesSlice,\n  notifications: notificationsReducer,\n  repositories: repositoriesSlice,\n};\n\nexport const middleware = (getDefaultMiddleware) =>\n  getDefaultMiddleware().concat(promiseMiddleware).concat(apiSlice.middleware);\n\nexport const store = configureStore({ reducer, middleware });\n","import { createSlice } from '@reduxjs/toolkit';\n\nimport api from '../api';\n\nconst initialState = {\n  count: 0,\n  allIds: [],\n  byId: {},\n  error: null,\n};\n\nexport const fetchRepositories = () => async (dispatch) => {\n  const response = await api.getRepositories();\n  let { data } = response;\n  const { meta } = response;\n  if (data.length < meta.count) {\n    ({ data } = await api.getRepositories(meta.count));\n  }\n  dispatch(repositoriesAdded({ repositories: data }));\n  dispatch(repositoriesUpdatedCount({ count: data.length }));\n};\n\nexport const repositoriesSlice = createSlice({\n  name: 'repositories',\n  initialState,\n  reducers: {\n    repositoriesAdded: (state, action) => {\n      action.payload.repositories.map((repo) => {\n        // The repo url is used as the id\n        if (!state.allIds.includes(repo.url)) {\n          state.allIds.push(repo.url);\n        }\n        state.byId[repo.url] = repo;\n      });\n    },\n    repositoriesUpdatedCount: (state, action) => {\n      state.count = action.payload.count;\n    },\n  },\n});\n\nexport const selectRepositoryById = (state, repoId) =>\n  state.repositories.byId[repoId];\n\nexport const selectValidRepositoryIds = (state) => {\n  const validRepositoryIds = [];\n  for (const repoId of state.repositories.allIds) {\n    if (state.repositories.byId[repoId].status === 'Valid') {\n      validRepositoryIds.push(repoId);\n    }\n  }\n  return validRepositoryIds;\n};\n\nexport const selectValidRepositories = (state) => {\n  const validRepositories = {};\n  for (const repoId of state.repositories.allIds) {\n    if (state.repositories.byId[repoId].status === 'Valid') {\n      validRepositories[repoId] = state.repositories.byId[repoId];\n    }\n  }\n  return validRepositories;\n};\n\nexport const { repositoriesAdded, repositoriesUpdatedCount } =\n  repositoriesSlice.actions;\nexport default repositoriesSlice.reducer;\n"],"names":["selectRegionsToDisable","createSelector","selectComposeById","selectClonesById","compose","clones","regions","Set","add","region","map","clone","share_with_accounts","status","RegionsSelect","composeId","handleClose","handleToggle","isOpen","setIsOpen","dispatch","useDispatch","navigate","useNavigate","useState","isSaving","setIsSaving","selected","setSelected","titleId","validated","setValidated","helperTextInvalid","useSelector","state","regionsToDisable","AWS_REGIONS","disabled","has","value","prepareRegions","options","Form","id","hidden","FormGroup","label","isRequired","helperTextInvalidIcon","labelIcon","Popover","headerContent","bodyContent","type","onClick","e","preventDefault","className","noVerticalAlign","Select","variant","SelectVariant","typeAheadAriaLabel","onToggle","onSelect","event","selection","nextSelected","includes","filter","length","onClear","selections","placeholderText","menuAppendTo","maxHeight","option","index","SelectOption","isDisabled","key","description","ActionGroup","Button","requests","Promise","all","request","api","then","response","cloneAdded","image_status","parent","resolveRelPath","addNotification","title","err","statusText","isLoading","propTypes","PropTypes","location","useLocation","Modal","onClose","onEscapePress","LandingPage","lazy","CreateImageWizard","Router","Routes","Route","path","element","ShareImageModal","props","store","useStore","useEffect","document","insights","chrome","init","identifyApp","unregister","on","childProps","postHeaders","headers","body","axios","IMAGE_BUILDER_API","data","limit","offset","params","URLSearchParams","toString","distribution","architecture","search","append","CONTENT_SOURCES","repoUrls","urls","packages","name","package_name","RHSM_API","cloneImage","composeImage","getClones","getCloneStatus","getComposes","getComposeStatus","getPackages","getPackagesContentSources","getRepositories","getVersion","getActivationKeys","getActivationKey","RHEL_8","RHEL_9","UNIT_KIB","UNIT_MIB","UNIT_GIB","RELEASES","Map","DEFAULT_AWS_REGION","AWS_S3_EXPIRATION_TIME_IN_HOURS","clonesSlice","createSlice","initialState","allIds","byId","error","reducers","action","payload","push","cloneUpdatedStatus","upload_status","selectCloneById","cloneId","undefined","created_at","ami","uploadStatus","imageType","isClone","actions","composesSlice","count","composeAdded","insert","unshift","composesUpdatedCount","composeUpdatedStatus","extraReducers","builder","addCase","composes","imageName","image_name","image_requests","upload_request","image_type","uploadType","uploadOptions","selectImageById","imageId","selectImagesById","selectImageStatusesById","images","image","apiSlice","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","endpoints","getSources","query","useGetSourcesQuery","reducer","notificationsReducer","repositoriesSlice","configureStore","middleware","getDefaultMiddleware","concat","promiseMiddleware","fetchRepositories","meta","repositoriesAdded","repositories","repositoriesUpdatedCount","repo","url","selectValidRepositories","validRepositories","repoId"],"sourceRoot":""}