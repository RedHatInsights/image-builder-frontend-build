{"version":3,"file":"js/184.1650983618160.9d7f898f6cf33ea3b774.js","mappings":"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","sources":["webpack:///./src/Components/CreateImageWizard/steps/imageOutputStepMapper.js","webpack:///./src/Components/CreateImageWizard/steps/stepTemplate.js","webpack:///./src/Components/CreateImageWizard/steps/googleCloud.js","webpack:///./src/Components/CreateImageWizard/formComponents/ReviewStep.js","webpack:///./src/Components/CreateImageWizard/formComponents/TargetEnvironment.js","webpack:///./src/Components/CreateImageWizard/formComponents/Packages.js","webpack:///./src/Components/CreateImageWizard/formComponents/RadioWithPopover.js","webpack:///./src/Components/CreateImageWizard/formComponents/AzureAuthButton.js","webpack:///./src/Components/CreateImageWizard/formComponents/AzureAuthExpandable.js","webpack:///./src/Components/CreateImageWizard/formComponents/ActivationKeys.js","webpack:///./src/Components/CreateImageWizard/formComponents/MountPoint.js","webpack:///./src/Components/CreateImageWizard/formComponents/SizeUnit.js","webpack:///./src/Components/CreateImageWizard/formComponents/FileSystemConfiguration.js","webpack:///./src/Components/CreateImageWizard/formComponents/FileSystemConfigToggle.js","webpack:///./src/Components/CreateImageWizard/formComponents/ImageOutputReleaseSelect.js","webpack:///./src/Components/CreateImageWizard/ImageCreator.js","webpack:///./src/Components/CreateImageWizard/steps/aws.js","webpack:///./src/Components/CreateImageWizard/steps/msAzure.js","webpack:///./src/Components/CreateImageWizard/steps/packages.js","webpack:///./src/Components/CreateImageWizard/steps/registration.js","webpack:///./src/Components/CreateImageWizard/formComponents/CustomSubmitButtons.js","webpack:///./src/Components/CreateImageWizard/steps/review.js","webpack:///./src/Components/CreateImageWizard/steps/imageOutput.js","webpack:///./src/Components/CreateImageWizard/steps/fileSystemConfiguration.js","webpack:///./src/Components/CreateImageWizard/steps/imageName.js","webpack:///./src/Components/CreateImageWizard/validators/fileSystemConfigurationValidator.js","webpack:///./src/Components/CreateImageWizard/validators/targetEnvironmentValidator.js","webpack:///./src/Components/CreateImageWizard/CreateImageWizard.js","webpack:///./src/Components/sharedComponents/DocumentationButton.js","webpack:///./src/api.js","webpack:///./src/constants.js","webpack:///./src/store/actions/actions.js"],"sourcesContent":["import { RHEL_8 } from '../../../constants.js';\n\nexport default ({ 'target-environment': targetEnv, release } = {}, { skipAws, skipGoogle, skipAzure } = {}) => {\n    if (!skipAws && targetEnv?.aws) {\n        return 'aws-target-env';\n    }\n\n    if (!skipGoogle && targetEnv?.gcp) {\n        return 'google-cloud-target-env';\n    }\n\n    if (!skipAzure && targetEnv?.azure) {\n        return 'ms-azure-target-env';\n    }\n\n    return release === RHEL_8 ? 'registration' : 'File system configuration';\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Title } from '@patternfly/react-core';\n\nconst StepTemplate = ({ id, formFields, formRef, title, customTitle, showTitle, showTitles }) => (\n    <div id={ id } ref={ formRef } className=\"pf-c-form\">\n        {((showTitles && showTitle !== false) || showTitle) &&\n         (customTitle ? (\n             customTitle\n         ) : (\n             <Title headingLevel=\"h1\" size=\"xl\">\n                 {title}\n             </Title>\n         ))}\n        {formFields}\n    </div>\n);\n\nStepTemplate.propTypes = {\n    id: PropTypes.string,\n    title: PropTypes.node,\n    customTitle: PropTypes.node,\n    formFields: PropTypes.array.isRequired,\n    formOptions: PropTypes.shape({\n        renderForm: PropTypes.func.isRequired,\n    }).isRequired,\n    showTitles: PropTypes.bool,\n    showTitle: PropTypes.bool,\n    formRef: PropTypes.oneOfType([ PropTypes.func, PropTypes.shape({ current: PropTypes.instanceOf(Element) }) ]),\n};\n\nexport default StepTemplate;\n","import React from 'react';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/validator-types';\nimport { HelpIcon } from '@patternfly/react-icons';\nimport nextStepMapper from './imageOutputStepMapper';\nimport { Title, Text, Popover, TextContent, TextList, TextListItem, Button } from '@patternfly/react-core';\nimport PropTypes from 'prop-types';\nimport StepTemplate from './stepTemplate';\n\nexport const googleAccType = {\n    googleAccount: 'Google account',\n    serviceAccount: 'Service account',\n    googleGroup: 'Google group',\n    domain: 'Domain'\n};\n\nconst PopoverInfo = ({ appendTo }) => {\n    return <Popover\n        appendTo={ appendTo }\n        hasAutoWidth\n        maxWidth='35rem'\n        headerContent={ 'Valid account types' }\n        flipBehavior={ [ 'right', 'bottom', 'top', 'left' ] }\n        bodyContent={ <TextContent>\n            <Text>The following account types can have an image shared with them:</Text>\n            <TextList className='pf-u-ml-0'>\n                <TextListItem>\n                    <strong>Google account:</strong> A Google account represents a developer, an administrator,\n    or any other person who interacts with Google Cloud. e.g., <em>`alice@gmail.com`</em>.\n                </TextListItem>\n                <TextListItem>\n                    <strong>Service account:</strong> A service account is an account for an application instead\n    of an individual end user. e.g., <em>`myapp@appspot.gserviceaccount.com`</em>.\n                </TextListItem>\n                <TextListItem>\n                    <strong>Google group:</strong> A Google group is a named collection of Google accounts and\n    service accounts. e.g., <em>`admins@example.com`</em>.\n                </TextListItem>\n                <TextListItem>\n                    <strong>Google Workspace domain/Cloud Identity domain:</strong> A Google workspace or cloud identity\n    domain represents a virtual group of all the Google accounts in an organization. These domains\n    represent your organization&apos;s internet domain name. e.g., <em>`mycompany.com`</em>.\n                </TextListItem>\n            </TextList>\n        </TextContent> }>\n        <Button\n            variant=\"plain\"\n            aria-label=\"Account info\"\n            aria-describedby=\"google-account-type\"\n            className=\"pf-c-form__group-label-help\">\n            <HelpIcon />\n        </Button>\n    </Popover>;\n};\n\nPopoverInfo.propTypes = {\n    appendTo: PropTypes.any\n};\n\nexport default {\n    StepTemplate,\n    id: 'wizard-target-gcp',\n    title: 'Google Cloud Platform',\n    customTitle: <Title headingLevel=\"h1\" size=\"xl\">Target environment - Google Cloud Platform</Title>,\n    name: 'google-cloud-target-env',\n    substepOf: 'Target environment',\n    nextStep: ({ values }) => nextStepMapper(values, { skipGoogle: true, skipAws: true }),\n    fields: [\n        {\n            component: componentTypes.PLAIN_TEXT,\n            name: 'google-cloud-text-component',\n            label: <Text>\n            Your image will be uploaded to Google Cloud Platform and shared with the email you provide below. <br />\n            The image should be copied to your account within 14 days.\n            </Text>\n        },\n        {\n            component: 'radio-popover',\n            label: 'Type',\n            isRequired: true,\n            Popover: PopoverInfo,\n            name: 'google-account-type',\n            initialValue: 'googleAccount',\n            options: Object.entries(googleAccType).map(([ value, label ]) => ({\n                label: value === 'domain' ? 'Google Workspace domain or Cloud Identity domain' : label,\n                value,\n                autoFocus: value === 'googleAccount' ? true : false\n            })),\n            validate: [\n                {\n                    type: validatorTypes.REQUIRED,\n                },\n            ],\n        },\n        {\n            component: componentTypes.TEXT_FIELD,\n            name: 'google-email',\n            'data-testid': 'input-google-email',\n            type: 'text',\n            label: 'Email address',\n            condition: {\n                or: [\n                    { when: 'google-account-type', is: 'googleAccount' },\n                    { when: 'google-account-type', is: 'serviceAccount' },\n                    { when: 'google-account-type', is: 'googleGroup' },\n                    { when: 'google-account-type', is: null },\n                ]\n            },\n            isRequired: true,\n            validate: [\n                {\n                    type: validatorTypes.REQUIRED,\n                },\n                {\n                    type: validatorTypes.PATTERN,\n                    pattern: '[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,}$',\n                    message: 'Please enter a valid email address'\n                }\n            ],\n        },\n        {\n            component: componentTypes.TEXT_FIELD,\n            name: 'google-domain',\n            type: 'text',\n            label: 'Domain',\n            condition: {\n                when: 'google-account-type',\n                is: 'domain'\n            },\n            isRequired: true,\n            validate: [\n                {\n                    type: validatorTypes.REQUIRED,\n                },\n            ],\n        }\n    ]\n};\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n    Button,\n    DescriptionList, DescriptionListTerm, DescriptionListGroup, DescriptionListDescription,\n    List, ListItem,\n    Popover,\n    Spinner,\n    Tabs, Tab, TabTitleText,\n    Text, TextContent, TextVariants, TextList, TextListVariants, TextListItem, TextListItemVariants,\n} from '@patternfly/react-core';\nimport {\n    TableComposable,\n    Thead,\n    Tbody,\n    Tr,\n    Th,\n    Td,\n} from '@patternfly/react-table';\nimport { HelpIcon } from '@patternfly/react-icons';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport { googleAccType } from '../steps/googleCloud';\nimport { RELEASES, UNIT_GIB, UNIT_MIB } from '../../../constants';\n\nconst FSReviewTable = ({ ...props }) => {\n    return (\n        <TableComposable\n            aria-label=\"File system configuration table\"\n            variant=\"compact\">\n            <Thead>\n                <Tr>\n                    <Th>Mount point</Th>\n                    <Th>Type</Th>\n                    <Th>Minimum size</Th>\n                </Tr>\n            </Thead>\n            <Tbody data-testid=\"file-system-configuration-tbody-review\">\n                {props.fsc.map((r, ri) =>\n                    <Tr key={ ri }>\n                        <Td className=\"pf-m-width-60\">{ r.mountpoint }</Td>\n                        <Td className=\"pf-m-width-10\">xfs</Td>\n                        <Td className=\"pf-m-width-30\">{ r.size } { r.unit === UNIT_GIB ? 'GiB' : r.unit === UNIT_MIB ? 'MiB' : 'KiB' }</Td>\n                    </Tr>\n                )}\n            </Tbody>\n        </TableComposable>\n    );\n};\n\nFSReviewTable.propTypes = {\n    fsc: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nconst ReviewStep = () => {\n    const [ activeTabKey, setActiveTabKey ] = useState(0);\n    const [ orgId, setOrgId ] = useState();\n    const [ minSize, setMinSize ] = useState();\n    const { change, getState } = useFormApi();\n\n    useEffect(() => {\n        const registerSystem = getState()?.values?.['register-system'];\n        if (registerSystem === 'register-now' || registerSystem === 'register-now-insights') {\n            (async () => {\n                const userData = await insights?.chrome?.auth?.getUser();\n                const id = userData?.identity?.internal?.org_id;\n                setOrgId(id);\n                change('subscription-organization-id', id);\n            })();\n        }\n\n        if (getState()?.values?.['file-system-config-toggle'] === 'manual' &&\n            getState()?.values?.['file-system-configuration']) {\n            let size = 0;\n            for (const fsc of getState().values['file-system-configuration']) {\n                size += (fsc.size * fsc.unit);\n            }\n\n            size = (size / UNIT_GIB).toFixed(1);\n            if (size < 1) {\n                setMinSize(`Less than 1 GiB`);\n            } else {\n                setMinSize(`${size} GiB`);\n            }\n        }\n    });\n\n    const handleTabClick = (event, tabIndex) => {\n        setActiveTabKey(tabIndex);\n    };\n\n    return (\n        <>\n            <Text>\n                    Review the information and click &quot;Create image&quot;\n                    to create the image using the following criteria.\n            </Text>\n            <DescriptionList isCompact isHorizontal>\n                <DescriptionListGroup>\n                    {getState()?.values?.['image-name'] &&\n                        <>\n                            <DescriptionListTerm>Image name</DescriptionListTerm>\n                            <DescriptionListDescription>\n                                {getState()?.values?.['image-name']}\n                            </DescriptionListDescription>\n                        </>\n                    }\n                    <DescriptionListTerm>Release</DescriptionListTerm>\n                    <DescriptionListDescription>\n                        {RELEASES[getState()?.values?.release]}\n                    </DescriptionListDescription>\n                </DescriptionListGroup>\n            </DescriptionList>\n            <Tabs isFilled activeKey={ activeTabKey } onSelect={ handleTabClick } className=\"pf-u-w-75\">\n                <Tab eventKey={ 0 } title={ <TabTitleText>Target environment</TabTitleText> } data-testid='tab-target' autoFocus>\n                    <List isPlain iconSize=\"large\">\n                        {getState()?.values?.['target-environment']?.aws &&\n                            <ListItem icon={ <img className='provider-icon' src='/apps/frontend-assets/partners-icons/aws.svg' /> }>\n                                <TextContent>\n                                    <Text component={ TextVariants.h3 }>\n                                    Amazon Web Services\n                                    </Text>\n                                    <TextList component={ TextListVariants.dl }>\n                                        <TextListItem component={ TextListItemVariants.dt }>Account ID</TextListItem>\n                                        <TextListItem component={ TextListItemVariants.dd }>\n                                            {getState()?.values?.['aws-account-id']}\n                                        </TextListItem>\n                                    </TextList>\n                                </TextContent>\n                            </ListItem>\n                        }\n                        {getState()?.values?.['target-environment']?.gcp &&\n                            <ListItem\n                                className='pf-c-list__item pf-u-mt-md'\n                                icon={ <img className='provider-icon' src='/apps/frontend-assets/partners-icons/google-cloud-short.svg' /> }>\n                                <TextContent>\n                                    <Text component={ TextVariants.h3 }>Google Cloud Platform</Text>\n                                    <TextList component={ TextListVariants.dl }>\n                                        <TextListItem component={ TextListItemVariants.dt }>\n                                            {googleAccType?.[getState()?.values?.['google-account-type']]}\n                                        </TextListItem>\n                                        <TextListItem component={ TextListItemVariants.dd }>\n                                            {getState()?.values?.['google-email'] || getState()?.values?.['google-domain']}\n                                        </TextListItem>\n                                    </TextList>\n                                </TextContent>\n                            </ListItem>\n                        }\n                        {getState()?.values?.['target-environment']?.azure &&\n                            <ListItem\n                                className='pf-c-list__item pf-u-mt-md'\n                                icon={ <img className='provider-icon' src='/apps/frontend-assets/partners-icons/microsoft-azure-short.svg' /> }>\n                                <TextContent>\n                                    <Text component={ TextVariants.h3 }>Microsoft Azure</Text>\n                                    <TextList component={ TextListVariants.dl }>\n                                        <TextListItem component={ TextListItemVariants.dt }>\n                                        Subscription ID\n                                        </TextListItem>\n                                        <TextListItem component={ TextListItemVariants.dd }>\n                                            {getState()?.values?.['azure-subscription-id']}\n                                        </TextListItem>\n                                        <TextListItem component={ TextListItemVariants.dt }>\n                                    Tenant ID\n                                        </TextListItem>\n                                        <TextListItem component={ TextListItemVariants.dd }>\n                                            {getState()?.values?.['azure-tenant-id']}\n                                        </TextListItem>\n                                        <TextListItem component={ TextListItemVariants.dt }>\n                                        Resource group\n                                        </TextListItem>\n                                        <TextListItem component={ TextListItemVariants.dd }>\n                                            {getState()?.values?.['azure-resource-group']}\n                                        </TextListItem>\n                                    </TextList>\n                                </TextContent>\n                            </ListItem>\n                        }\n                        {getState()?.values?.['target-environment']?.vsphere &&\n                            <ListItem>\n                                <TextContent>\n                                    <Text component={ TextVariants.h3 }>\n                                        VMWare\n                                    </Text>\n                                </TextContent>\n                            </ListItem>\n                        }\n                        {getState()?.values?.['target-environment']?.['guest-image'] &&\n                            <ListItem>\n                                <TextContent>\n                                    <Text component={ TextVariants.h3 }>\n                                        Virtualization - Guest image\n                                    </Text>\n                                </TextContent>\n                            </ListItem>\n                        }\n                        {getState()?.values?.['target-environment']?.['image-installer'] &&\n                            <ListItem>\n                                <TextContent>\n                                    <Text component={ TextVariants.h3 }>\n                                        Bare metal - Installer\n                                    </Text>\n                                </TextContent>\n                            </ListItem>\n                        }\n                    </List>\n                </Tab>\n                {getState()?.values?.release.includes('rhel') &&\n                    <Tab eventKey={ 1 } title={ <TabTitleText>Registration</TabTitleText> } data-testid='tab-registration'>\n                        {getState()?.values?.['register-system'] === 'register-later' &&\n                            <TextContent>\n                                <TextList component={ TextListVariants.dl }>\n                                    <TextListItem component={ TextListItemVariants.dt }>\n                                        Subscription\n                                    </TextListItem>\n                                    <TextListItem component={ TextListItemVariants.dd }>\n                                        Register the system later\n                                    </TextListItem>\n                                </TextList>\n                            </TextContent>\n                        }\n                        {(getState()?.values?.['register-system'] === 'register-now' ||\n                            getState()?.values?.['register-system'] === 'register-now-insights') &&\n                            <TextContent>\n                                <TextList component={ TextListVariants.dl }>\n                                    <TextListItem component={ TextListItemVariants.dt }>\n                                        Subscription\n                                    </TextListItem>\n                                    <TextListItem component={ TextListItemVariants.dd }>\n                                        {getState()?.values?.['register-system'] === 'register-now-insights' &&\n                                            'Register with Subscriptions and Red Hat Insights'\n                                        }\n                                        {getState()?.values?.['register-system'] === 'register-now' &&\n                                            'Register with Subscriptions'\n                                        }\n                                    </TextListItem>\n                                    <TextListItem component={ TextListItemVariants.dt }>\n                                        Activation key\n                                    </TextListItem>\n                                    <TextListItem component={ TextListItemVariants.dd }>\n                                        {getState()?.values?.['subscription-activation-key']}\n                                    </TextListItem>\n                                    <TextListItem component={ TextListItemVariants.dt }>\n                                        Organization ID\n                                    </TextListItem>\n                                    {orgId !== undefined ? (\n                                        <TextListItem component={ TextListItemVariants.dd } data-testid='organization-id'>\n                                            {orgId}\n                                        </TextListItem>\n                                    ) : (\n                                        <TextListItem component={ TextListItemVariants.dd }>\n                                            <Spinner />\n                                        </TextListItem>\n                                    )}\n                                </TextList>\n                            </TextContent>\n                        }\n                    </Tab>\n                }\n                <Tab eventKey={ 2 } title={ <TabTitleText>System configuration</TabTitleText> } data-testid='tab-system'>\n                    <TextContent>\n                        <Text component={ TextVariants.h3 }>File system configuration</Text>\n                        <TextList component={ TextListVariants.dl }>\n                            <TextListItem component={ TextListItemVariants.dt }>\n                                Partitioning\n                            </TextListItem>\n                            <TextListItem component={ TextListItemVariants.dd } data-testid='partitioning-auto-manual'>\n                                {getState()?.values?.['file-system-config-toggle'] === 'manual' ? 'Manual' : 'Automatic'}\n                                {getState()?.values?.['file-system-config-toggle'] === 'manual' &&\n                                 <>\n                                     {' '}\n                                     <Popover\n                                         position=\"bottom\"\n                                         headerContent=\"Partitions\"\n                                         hasAutoWidth\n                                         minWidth=\"30rem\"\n                                         bodyContent={ <FSReviewTable fsc={ getState().values['file-system-configuration'] } /> }>\n                                         <Button\n                                             data-testid='file-system-configuration-popover'\n                                             variant=\"link\"\n                                             aria-label=\"File system configuration info\"\n                                             aria-describedby=\"file-system-configuration-info\">\n                                             View partitions\n                                         </Button>\n                                     </Popover>\n                                 </>\n                                }\n                            </TextListItem>\n                            {getState()?.values?.['file-system-config-toggle'] === 'manual' &&\n                             <>\n                                 <TextListItem component={ TextListItemVariants.dt }>\n                                     Image size (minimum)\n                                     <Popover\n                                         hasAutoWidth\n                                         bodyContent={ <TextContent>\n                                             <Text>\n                                                     Image Builder may extend this size based on requirements,\n                                                     selected packages, and configurations.\n                                             </Text>\n                                         </TextContent> }>\n                                         <Button\n                                             variant=\"plain\"\n                                             aria-label=\"File system configuration info\"\n                                             aria-describedby=\"file-system-configuration-info\"\n                                             className=\"pf-c-form__group-label-help\">\n                                             <HelpIcon />\n                                         </Button>\n                                     </Popover>\n                                 </TextListItem>\n                                 <TextListItem component={ TextListItemVariants.dd }>\n                                     { minSize }\n                                 </TextListItem>\n                             </>\n                            }\n                        </TextList>\n                        <Text component={ TextVariants.h3 }>Packages</Text>\n                        <TextList component={ TextListVariants.dl }>\n                            <TextListItem component={ TextListItemVariants.dt }>\n                                Chosen\n                            </TextListItem>\n                            <TextListItem component={ TextListItemVariants.dd } data-testid='chosen-packages-count'>\n                                {getState()?.values?.['selected-packages']?.length || 0}\n                            </TextListItem>\n                        </TextList>\n                    </TextContent>\n                </Tab>\n            </Tabs>\n        </>\n    );\n};\n\nexport default ReviewStep;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport useFieldApi from '@data-driven-forms/react-form-renderer/use-field-api';\nimport { Checkbox, FormGroup, Text, TextVariants, Tile } from '@patternfly/react-core';\n\nconst TargetEnvironment = ({ label, isRequired, ...props }) => {\n    const { getState, change } = useFormApi();\n    const { input } = useFieldApi({ label, isRequired, ...props });\n    const [ environment, setEnvironment ] = useState({\n        aws: false,\n        azure: false,\n        gcp: false,\n        vsphere: false,\n        'guest-image': false,\n        'image-installer': false,\n    });\n\n    useEffect(() => {\n        if (getState()?.values?.[input.name]) {\n            setEnvironment(getState().values[input.name]);\n        }\n    }, []);\n\n    const handleSetEnvironment = (env) => setEnvironment((prevEnv) => {\n        const newEnv = ({\n            ...prevEnv,\n            [env]: !prevEnv[env]\n        });\n        change(input.name, newEnv);\n        return newEnv;\n    });\n\n    const handleKeyDown = (e, env) => {\n        if (e.key === ' ') {\n            handleSetEnvironment(env);\n        }\n    };\n\n    return (\n        <>\n            <FormGroup isRequired={ isRequired } label={ label } data-testid=\"target-select\">\n                <FormGroup label={ <Text component={ TextVariants.small }>Public cloud</Text> } data-testid=\"target-public\">\n                    <div className=\"tiles\">\n                        <Tile\n                            className=\"tile pf-u-mr-sm\"\n                            data-testid=\"upload-aws\"\n                            title=\"Amazon Web Services\"\n                            icon={ <img\n                                className='provider-icon'\n                                src={ '/apps/frontend-assets/partners-icons/aws.svg' } /> }\n                            onClick={ () => handleSetEnvironment('aws') }\n                            onKeyDown = { (e) => handleKeyDown(e, 'aws') }\n                            isSelected={ environment.aws }\n                            isStacked\n                            isDisplayLarge />\n                        <Tile\n                            className=\"tile pf-u-mr-sm\"\n                            data-testid=\"upload-google\"\n                            title=\"Google Cloud Platform\"\n                            icon={ <img\n                                className='provider-icon'\n                                src={ '/apps/frontend-assets/partners-icons/google-cloud-short.svg' } /> }\n                            onClick={ () => handleSetEnvironment('gcp') }\n                            isSelected={ environment.gcp }\n                            onKeyDown = { (e) => handleKeyDown(e, 'gcp') }\n                            isStacked\n                            isDisplayLarge />\n                        <Tile\n                            className=\"tile pf-u-mr-sm\"\n                            data-testid=\"upload-azure\"\n                            title=\"Microsoft Azure\"\n                            icon={ <img\n                                className='provider-icon'\n                                src={ '/apps/frontend-assets/partners-icons/microsoft-azure-short.svg' } /> }\n                            onClick={ () => handleSetEnvironment('azure') }\n                            onKeyDown = { (e) => handleKeyDown(e, 'azure') }\n                            isSelected={ environment.azure }\n                            isStacked\n                            isDisplayLarge />\n                    </div>\n                </FormGroup>\n                <FormGroup label={ <Text component={ TextVariants.small }>Private cloud</Text> } data-testid=\"target-private\">\n                    <Checkbox\n                        label=\"VMWare\"\n                        isChecked={ environment.vsphere }\n                        onChange={ () => handleSetEnvironment('vsphere') }\n                        aria-label=\"VMWare checkbox\"\n                        id=\"checkbox-vmware\"\n                        name=\"VMWare\"\n                        data-testid=\"checkbox-vmware\" />\n                </FormGroup>\n                <FormGroup label={ <Text component={ TextVariants.small }>Other</Text> } data-testid=\"target-other\">\n                    <Checkbox\n                        label=\"Virtualization - Guest image\"\n                        isChecked={ environment['guest-image'] }\n                        onChange={ () => handleSetEnvironment('guest-image') }\n                        aria-label=\"Virtualization guest image checkbox\"\n                        id=\"checkbox-guest-image\"\n                        name=\"Virtualization guest image\"\n                        data-testid=\"checkbox-guest-image\" />\n                    <Checkbox\n                        label=\"Bare metal - Installer\"\n                        isChecked={ environment['image-installer'] }\n                        onChange={ () => handleSetEnvironment('image-installer') }\n                        aria-label=\"Bare metal installer checkbox\"\n                        id=\"checkbox-image-installer\"\n                        name=\"Bare metal installer\"\n                        data-testid=\"checkbox-image-installer\" />\n                </FormGroup>\n            </FormGroup>\n        </>\n    );\n};\n\nTargetEnvironment.propTypes = {\n    label: PropTypes.node,\n    isRequired: PropTypes.bool\n};\n\nTargetEnvironment.defaultProps = {\n    label: '',\n    isRequired: false\n};\n\nexport default TargetEnvironment;\n","import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport useFieldApi from '@data-driven-forms/react-form-renderer/use-field-api';\nimport api from '../../../api';\nimport PropTypes from 'prop-types';\nimport {\n    DualListSelector,\n    DualListSelectorPane,\n    DualListSelectorList,\n    DualListSelectorListItem,\n    DualListSelectorControlsWrapper,\n    DualListSelectorControl,\n    SearchInput,\n    TextContent\n} from '@patternfly/react-core';\nimport { AngleDoubleLeftIcon, AngleLeftIcon, AngleDoubleRightIcon, AngleRightIcon } from '@patternfly/react-icons';\n\n// the fields isHidden and isSelected should not be included in the package list sent for image creation\nconst removePackagesDisplayFields = (packages) => packages.map((pack) => ({\n    name: pack.name,\n    summary: pack.summary,\n}));\n\nconst Packages = ({ defaultArch, ...props }) => {\n    const { change, getState } = useFormApi();\n    const { input } = useFieldApi(props);\n    const [ packagesSearchName, setPackagesSearchName ] = useState(undefined);\n    const [ filterAvailable, setFilterAvailable ] = useState(undefined);\n    const [ filterChosen, setFilterChosen ] = useState(undefined);\n    const [ packagesAvailable, setPackagesAvailable ] = useState([]);\n    const [ packagesAvailableFound, setPackagesAvailableFound ] = useState(true);\n    const [ packagesChosen, setPackagesChosen ] = useState([]);\n    const [ packagesChosenFound, setPackagesChosenFound ] = useState(true);\n    const [ focus, setFocus ] = useState('');\n\n    // this effect only triggers on mount\n    useEffect(() => {\n        const selectedPackages = getState()?.values?.['selected-packages'];\n        if (selectedPackages) {\n            setPackagesChosen(selectedPackages);\n        }\n    }, []);\n\n    const searchResultsComparator = useCallback((searchTerm) => {\n        return (a, b) => {\n            a = a.name.toLowerCase();\n            b = b.name.toLowerCase();\n\n            // check exact match first\n            if (a === searchTerm) {\n                return -1;\n            }\n\n            if (b === searchTerm) {\n                return 1;\n            }\n\n            // check for packages that start with the search term\n            if (a.startsWith(searchTerm) && !b.startsWith(searchTerm)) {\n                return -1;\n            }\n\n            if (b.startsWith(searchTerm) && !a.startsWith(searchTerm)) {\n                return 1;\n            }\n\n            // if both (or neither) start with the search term\n            // sort alphabetically\n            if (a < b) {\n                return -1;\n            }\n\n            if (b < a) {\n                return 1;\n            }\n\n            return 0;\n        };\n    });\n\n    const setPackagesAvailableSorted = (packageList, filter = filterAvailable) => {\n        const sortResults = packageList.sort(searchResultsComparator(filter));\n        setPackagesAvailable(sortResults);\n    };\n\n    const setPackagesChosenSorted = (packageList) => {\n        const sortResults = packageList.sort(searchResultsComparator(filterChosen));\n        setPackagesChosen(sortResults);\n    };\n\n    // filter the packages by name\n    const filterPackagesAvailable = (packageList) => {\n        return packageList.filter((availablePackage) => {\n            // returns true if no packages in the available or chosen list have the same name\n            return !packagesChosen.some((chosenPackage) => availablePackage.name === chosenPackage.name);\n        });\n    };\n\n    const getAllPackages = async () => {\n        const args = [\n            getState()?.values?.release,\n            getState()?.values?.architecture || defaultArch,\n            packagesSearchName\n        ];\n        let { data, meta } = await api.getPackages(...args);\n        if (data?.length === meta.count) {\n            return data;\n        } else if (data) {\n            ({ data } = await api.getPackages(...args, meta.count));\n            return data;\n        }\n    };\n\n    // call api to list available packages\n    const handlePackagesAvailableSearch = async () => {\n        setFilterAvailable(packagesSearchName);\n\n        const packageList = await getAllPackages();\n        if (packageList) {\n            const packagesAvailableFiltered = filterPackagesAvailable(packageList);\n            setPackagesAvailableSorted(packagesAvailableFiltered, packagesSearchName);\n            setPackagesAvailableFound(packagesAvailableFiltered.length ? true : false);\n        } else {\n            setPackagesAvailable([]);\n            setPackagesAvailableFound(false);\n        }\n    };\n\n    // filter displayed selected packages\n    const handlePackagesChosenSearch = (val) => {\n        let found = false;\n        const filteredPackagesChosen = packagesChosen.map((pack) => {\n            if (!pack.name.includes(val)) {\n                pack.isHidden = true;\n            } else {\n                pack.isHidden = false;\n                found = true;\n            }\n\n            return pack;\n        });\n\n        setFilterChosen(val);\n        setPackagesChosenFound(found);\n        setPackagesChosenSorted(filteredPackagesChosen);\n    };\n\n    const keydownHandler = (event) => {\n        if (event.key === 'Enter') {\n            if (focus === 'available') {\n                event.stopPropagation();\n                handlePackagesAvailableSearch();\n            }\n        }\n    };\n\n    useEffect(() => {\n        document.addEventListener('keydown', keydownHandler, true);\n\n        return () => {\n            document.removeEventListener('keydown', keydownHandler, true);\n        };\n    });\n\n    const areFound = (filter, packageList) => {\n        if (filter === undefined) {\n            return true;\n        } else if (packageList.some(pack => pack.name.includes(filter))) {\n            return true;\n        } else {\n            return false;\n        }\n    };\n\n    const isHidden = (filter, pack) => filter && !pack.name.includes(filter) ? true : false;\n\n    const updateState = (updatedPackagesAvailable, updatedPackagesChosen) => {\n        setPackagesChosenSorted(updatedPackagesChosen);\n        setPackagesAvailableSorted(updatedPackagesAvailable);\n        setPackagesAvailableFound(areFound(filterAvailable, updatedPackagesAvailable));\n        setPackagesChosenFound(areFound(filterChosen, updatedPackagesChosen));\n        // set the steps field to the current chosen packages list\n        change(input.name, removePackagesDisplayFields(updatedPackagesChosen));\n    };\n\n    const moveSelectedToChosen = () => {\n        const newPackagesChosen = [];\n\n        const updatedPackagesAvailable = packagesAvailable.filter((pack) => {\n            if (pack.selected) {\n                pack.selected = false;\n                pack.isHidden = isHidden(filterChosen, pack);\n                newPackagesChosen.push(pack);\n                return false;\n            }\n\n            return true;\n        });\n\n        const updatedPackagesChosen = [ ...newPackagesChosen, ...packagesChosen ];\n\n        updateState(updatedPackagesAvailable, updatedPackagesChosen);\n    };\n\n    const moveSelectedToAvailable = () => {\n        const newPackagesAvailable = [];\n\n        const updatedPackagesChosen = packagesChosen.filter((pack) => {\n            if (pack.selected) {\n                pack.selected = false;\n                pack.isHidden = false;\n                pack.name.includes(filterAvailable) ? newPackagesAvailable.push(pack) : null;\n                return false;\n            }\n\n            return true;\n        });\n\n        const updatedPackagesAvailable = [ ...newPackagesAvailable, ...packagesAvailable ];\n\n        updateState(updatedPackagesAvailable, updatedPackagesChosen);\n    };\n\n    const moveAllToChosen = () => {\n        const newPackagesChosen = packagesAvailable.map(pack => {\n            return { ...pack, selected: false, isHidden: isHidden(filterChosen, pack) };\n        });\n\n        const updatedPackagesAvailable = [];\n        const updatedPackagesChosen = [ ...newPackagesChosen, ...packagesChosen ];\n\n        updateState(updatedPackagesAvailable, updatedPackagesChosen);\n    };\n\n    const moveAllToAvailable = () => {\n        const updatedPackagesChosen = packagesChosen.filter(pack => pack.isHidden);\n\n        const newPackagesAvailable = filterAvailable === undefined ? [] :\n            packagesChosen\n                .filter(pack => !pack.isHidden && pack.name.includes(filterAvailable))\n                .map(pack => { return { ...pack, selected: false };});\n\n        const updatedPackagesAvailable = [ ...newPackagesAvailable, ...packagesAvailable ];\n\n        updateState(updatedPackagesAvailable, updatedPackagesChosen);\n    };\n\n    const onOptionSelect = (event, index, isChosen) => {\n        if (isChosen) {\n            const newChosen = [ ...packagesChosen ];\n            newChosen[index].selected = !packagesChosen[index].selected;\n            setPackagesChosenSorted(newChosen);\n        } else {\n            const newAvailable = [ ...packagesAvailable ];\n            newAvailable[index].selected = !packagesAvailable[index].selected;\n            setPackagesAvailableSorted(newAvailable);\n        }\n    };\n\n    const firstInputElement = useRef(null);\n\n    useEffect(() => {\n        firstInputElement.current?.focus();\n    }, []);\n\n    const handleClearAvailableSearch = () => {\n        setPackagesSearchName(undefined);\n        setFilterAvailable(undefined);\n        setPackagesAvailable([]);\n        setPackagesAvailableFound(true);\n    };\n\n    const handleClearChosenSearch = () => {\n        setFilterChosen(undefined);\n        setPackagesChosenSorted(packagesChosen.map(pack => {\n            return { ...pack, isHidden: false };}));\n        setPackagesChosenFound(true);\n    };\n\n    return (\n        <DualListSelector>\n            <DualListSelectorPane\n                title=\"Available packages\"\n                searchInput={ <SearchInput\n                    placeholder=\"Search for a package\"\n                    data-testid=\"search-available-pkgs-input\"\n                    value={ packagesSearchName }\n                    ref={ firstInputElement }\n                    onFocus={ () => setFocus('available') }\n                    onBlur={ () => setFocus('') }\n                    onChange={ (val) => setPackagesSearchName(val) }\n                    submitSearchButtonLabel=\"Search button for available packages\"\n                    onSearch={ handlePackagesAvailableSearch }\n                    resetButtonLabel=\"Clear available packages search\"\n                    onClear={ handleClearAvailableSearch } /> }>\n                <DualListSelectorList data-testid=\"available-pkgs-list\">\n                    {!packagesAvailable.length ? (\n                        <p className=\"pf-u-text-align-center pf-u-mt-md\">\n                            {!packagesAvailableFound\n                                ? 'No packages found'\n                                : <>Search above to add additional<br />packages to your image</>\n                            }\n                        </p>\n                    ) : (packagesAvailable.map((pack, index) => {\n                        return !pack.isHidden ? (\n                            <DualListSelectorListItem\n                                key={ index }\n                                isSelected={ pack.selected }\n                                onOptionSelect={ (e) => onOptionSelect(e, index, false) }>\n                                <TextContent key={ `${pack.name}-${index}` }>\n                                    <span className=\"pf-c-dual-list-selector__item-text\">{ pack.name }</span>\n                                    <small>{ pack.summary }</small>\n                                </TextContent>\n                            </DualListSelectorListItem>\n                        ) : null;\n                    }))}\n                </DualListSelectorList>\n            </DualListSelectorPane>\n            <DualListSelectorControlsWrapper\n                aria-label=\"Selector controls\">\n                <DualListSelectorControl\n                    isDisabled={ !packagesAvailable.some(option => option.selected) }\n                    onClick={ () => moveSelectedToChosen() }\n                    aria-label=\"Add selected\"\n                    tooltipContent=\"Add selected\">\n                    <AngleRightIcon />\n                </DualListSelectorControl>\n                <DualListSelectorControl\n                    isDisabled={ !packagesAvailable.length }\n                    onClick={ () => moveAllToChosen() }\n                    aria-label=\"Add all\"\n                    tooltipContent=\"Add all\">\n                    <AngleDoubleRightIcon />\n                </DualListSelectorControl>\n                <DualListSelectorControl\n                    isDisabled={ !packagesChosen.length || !packagesChosenFound }\n                    onClick={ () => moveAllToAvailable() }\n                    aria-label=\"Remove all\"\n                    tooltipContent=\"Remove all\">\n                    <AngleDoubleLeftIcon />\n                </DualListSelectorControl>\n                <DualListSelectorControl\n                    onClick={ () => moveSelectedToAvailable() }\n                    isDisabled={ !packagesChosen.some(option => option.selected) || !packagesChosenFound }\n                    aria-label=\"Remove selected\"\n                    tooltipContent=\"Remove selected\">\n                    <AngleLeftIcon />\n                </DualListSelectorControl>\n            </DualListSelectorControlsWrapper>\n            <DualListSelectorPane\n                title=\"Chosen packages\"\n                searchInput={ <SearchInput\n                    placeholder=\"Search for a package\"\n                    data-testid=\"search-chosen-pkgs-input\"\n                    value={ filterChosen }\n                    onFocus={ () => setFocus('chosen') }\n                    onBlur={ () => setFocus('') }\n                    onChange={ (val) => handlePackagesChosenSearch(val) }\n                    resetButtonLabel=\"Clear chosen packages search\"\n                    onClear={ handleClearChosenSearch } /> }\n                isChosen>\n                <DualListSelectorList data-testid=\"chosen-pkgs-list\">\n                    {!packagesChosen.length ? (\n                        <p className=\"pf-u-text-align-center pf-u-mt-md\">\n                            No packages added\n                        </p>\n                    ) : !packagesChosenFound ? (\n                        <p className=\"pf-u-text-align-center pf-u-mt-md\">\n                            No packages found\n                        </p>\n                    ) : (packagesChosen.map((pack, index) => {\n                        return !pack.isHidden ? (\n                            <DualListSelectorListItem\n                                key={ index }\n                                isSelected={ pack.selected }\n                                onOptionSelect={ (e) => onOptionSelect(e, index, true) }>\n                                <TextContent key={ `${pack.name}-${index}` }>\n                                    <span className=\"pf-c-dual-list-selector__item-text\">{ pack.name }</span>\n                                    <small>{ pack.summary }</small>\n                                </TextContent>\n                            </DualListSelectorListItem>\n                        ) : null;\n                    }))}\n                </DualListSelectorList>\n            </DualListSelectorPane>\n        </DualListSelector>\n    );\n};\n\nPackages.propTypes = {\n    defaultArch: PropTypes.string,\n};\n\nexport default Packages;\n","import React, { useRef } from 'react';\nimport Radio from '@data-driven-forms/pf4-component-mapper/radio';\nimport PropTypes from 'prop-types';\n\nconst RadioWithPopover = ({ Popover, ...props }) => {\n    const ref = useRef();\n    return <Radio { ...props } label={ <span ref={ ref } className=\"ins-c-image--builder__popover\">{props.label}\n        <Popover />\n    </span> } />;\n};\n\nRadioWithPopover.propTypes = {\n    Popover: PropTypes.elementType.isRequired,\n    label: PropTypes.node\n};\n\nexport default RadioWithPopover;\n","import React from 'react';\nimport { Button, FormGroup } from '@patternfly/react-core';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\n\nconst AzureAuthButton = () => {\n    const { getState } = useFormApi();\n\n    const tenantId = getState()?.values?.['azure-tenant-id'];\n    const guidRegex = new RegExp('^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$', 'i');\n\n    return (\n        <FormGroup>\n            <Button\n                component=\"a\"\n                target=\"_blank\"\n                variant=\"secondary\"\n                isDisabled={ !guidRegex.test(tenantId) }\n                href={ 'https://login.microsoftonline.com/' + tenantId +\n                '/oauth2/v2.0/authorize?client_id=b94bb246-b02c-4985-9c22-d44e66f657f4&scope=openid&' +\n                'response_type=code&response_mode=query&redirect_uri=https://portal.azure.com' }>\n                Authorize Image Builder\n            </Button>\n        </FormGroup>);\n};\n\nexport default AzureAuthButton;\n","import React, { useState } from 'react';\nimport { Button, ExpandableSection, Text, Title } from '@patternfly/react-core';\nimport { ExternalLinkAltIcon } from '@patternfly/react-icons';\n\nconst AzureAuthExpandable = () => {\n    const [ expanded, setExpanded ] = useState(true);\n\n    return (\n        <>\n            <ExpandableSection\n                className='azureAuthExpandable'\n                toggleText={ <Title headingLevel=\"h3\">Authorizing an Azure account</Title> }\n                onToggle={ () => setExpanded(!expanded) }\n                isExpanded={ expanded }>\n                <Text>\n                To authorize Image Builder to push images to Microsoft Azure, the account owner\n                must configure Image Builder as an authorized application for a specific tenant ID and give it the role of\n                &quot;Contributor&quot; to at least one resource group.<br />\n                </Text>\n                <small>\n                    <Button\n                        component=\"a\"\n                        target=\"_blank\"\n                        variant=\"link\"\n                        icon={ <ExternalLinkAltIcon /> }\n                        iconPosition=\"right\"\n                        isInline\n                        href=\"https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow\">\n                        Learn more about OAuth 2.0\n                    </Button>\n                </small>\n            </ExpandableSection>\n        </>);\n};\n\nexport default AzureAuthExpandable;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormGroup, Spinner, Select, SelectOption, SelectVariant } from '@patternfly/react-core';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport useFieldApi from '@data-driven-forms/react-form-renderer/use-field-api';\nimport api from '../../../api';\n\nconst ActivationKeys = ({ label, isRequired, ...props }) => {\n    const { change, getState } = useFormApi();\n    const { input } = useFieldApi(props);\n    const [ activationKeys, setActivationKeys ] = useState([]);\n    const [ isOpen, setIsOpen ] = useState(false);\n    const [ isLoading, setIsLoading ] = useState(false);\n    const [ activationKeySelected, selectActivationKey ] = useState(getState()?.values?.['subscription-activation-key']);\n\n    useEffect(() => {\n        setIsLoading(true);\n        const data = api.getActivationKeys();\n        data.then(keys => {\n            setActivationKeys(keys);\n            setIsLoading(false);\n        });\n    }, []);\n\n    const setActivationKey = (_, selection) => {\n        selectActivationKey(selection);\n        setIsOpen(false);\n        change(input.name, selection);\n    };\n\n    const handleClear = () => {\n        selectActivationKey();\n        change(input.name, undefined);\n    };\n\n    return (\n        <FormGroup isRequired={ isRequired } label={ label } data-testid='subscription-activation-key'>\n            <Select\n                variant={ SelectVariant.typeahead }\n                onToggle={ () => setIsOpen(!isOpen) }\n                onSelect={ setActivationKey }\n                onClear={ handleClear }\n                selections={ activationKeySelected }\n                isOpen={ isOpen }\n                placeholderText=\"Select activation key\"\n                typeAheadAriaLabel=\"Select activation key\">\n                {isLoading &&\n                    <SelectOption isNoResultsOption={ true } data-testid='activation-keys-loading'>\n                        <Spinner isSVG size=\"lg\" />\n                    </SelectOption>\n                }\n                {activationKeys.map((key, index) => (\n                    <SelectOption\n                        key={ index }\n                        value={ key.name } />\n                ))}\n            </Select>\n        </FormGroup>);\n};\n\nActivationKeys.propTypes = {\n    label: PropTypes.node,\n    isRequired: PropTypes.bool\n};\n\nActivationKeys.defaultProps = {\n    label: '',\n    isRequired: false\n};\n\nexport default ActivationKeys;\n","import React, {\n    useEffect,\n    useState,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport {\n    Select,\n    SelectOption,\n    SelectVariant,\n    TextInput,\n} from '@patternfly/react-core';\nimport path from 'path';\n\nconst MountPoint = ({ ...props }) => {\n    // check '/' last!\n    const validPrefixes = [ '/home', '/opt', '/srv', '/usr', '/usr/local', '/var', '/app', '/data', '/' ];\n    const [ isOpen, setIsOpen ] = useState(false);\n    const [ prefix, setPrefix ] = useState('/');\n    const [ suffix, setSuffix ] = useState('');\n\n    // split\n    useEffect(() => {\n        for (let p of validPrefixes) {\n            if (props.mountpoint.startsWith(p)) {\n                setPrefix(p);\n                setSuffix(props.mountpoint.substring(p.length));\n                return;\n            }\n        }\n    }, []);\n\n    useEffect(() => {\n        let suf = suffix;\n        let mp = prefix;\n        if (suf) {\n            if (mp !== '/' && suf[0] !== '/') {\n                suf = '/' + suf;\n            }\n\n            mp += suf;\n        }\n\n        props.onChange(path.normalize(mp));\n    }, [ prefix, suffix ]);\n\n    const onToggle = (isOpen) => {\n        setIsOpen(isOpen);\n    };\n\n    const onSelect = (event, selection) => {\n        setPrefix(selection);\n        setIsOpen(false);\n    };\n\n    return (\n        <>\n            <Select\n                className=\"pf-u-w-50\"\n                isOpen={ isOpen }\n                onToggle={ onToggle }\n                onSelect={ onSelect }\n                selections={ prefix }\n                variant={ SelectVariant.single }>\n                {validPrefixes.map((pfx, index) => {\n                    return <SelectOption key={ index } value={ pfx } />;\n                })\n                }\n            </Select>\n            { prefix !== '/' &&\n              <TextInput\n                  className=\"pf-u-w-50\"\n                  type=\"text\"\n                  value={ suffix }\n                  aria-label=\"Mount point suffix text input\"\n                  onChange={ v => setSuffix(v) } />\n            }\n        </>\n    );\n};\n\nMountPoint.propTypes = {\n    mountpoint: PropTypes.string.isRequired,\n    onChange: PropTypes.func.isRequired,\n};\n\nexport default MountPoint;\n","import React, {\n    useEffect,\n    useState,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport {\n    Select,\n    SelectOption,\n    SelectVariant,\n    TextInput,\n} from '@patternfly/react-core';\n\nimport { UNIT_KIB, UNIT_MIB, UNIT_GIB } from '../../../constants';\n\nconst SizeUnit = ({ ...props }) => {\n    const [ isOpen, setIsOpen ] = useState(false);\n    const [ unit, setUnit ] = useState(props.unit || UNIT_GIB);\n    const [ size, setSize ] = useState(props.size || 1);\n\n    useEffect(() => {\n        props.onChange(size, unit);\n    }, [ unit, size ]);\n\n    const onToggle = (isOpen) => {\n        setIsOpen(isOpen);\n    };\n\n    const onSelect = (event, selection) => {\n        switch (selection) {\n            case 'KiB':\n                setUnit(UNIT_KIB);\n                break;\n            case 'MiB':\n                setUnit(UNIT_MIB);\n                break;\n            case 'GiB':\n                setUnit(UNIT_GIB);\n                break;\n        }\n\n        setIsOpen(false);\n    };\n\n    return (\n        <>\n            <TextInput\n                className=\"pf-u-w-50\"\n                type=\"text\"\n                value={ size }\n                aria-label=\"Size text input\"\n                onChange={ v => setSize(isNaN(parseInt(v)) ? 0 : parseInt(v)) } />\n            <Select\n                className=\"pf-u-w-50\"\n                isOpen={ isOpen }\n                onToggle={ onToggle }\n                onSelect={ onSelect }\n                selections={ unit === UNIT_KIB ? 'KiB' : unit === UNIT_MIB ? 'MiB' : 'GiB' }\n                variant={ SelectVariant.single }\n                aria-label=\"Unit select\">\n                {[ 'KiB', 'MiB', 'GiB' ].map((u, index) => {\n                    return <SelectOption key={ index } value={ u } />;\n                })}\n            </Select>\n        </>\n    );\n};\n\nSizeUnit.propTypes = {\n    size: PropTypes.number.isRequired,\n    unit: PropTypes.number.isRequired,\n    onChange: PropTypes.func.isRequired,\n};\n\nexport default SizeUnit;\n","import React, {\n    useEffect,\n    useState,\n    useRef,\n} from 'react';\nimport { HelpIcon, MinusCircleIcon, PlusCircleIcon } from '@patternfly/react-icons';\nimport {\n    Alert,\n    Button,\n    Popover,\n    Text,\n    TextContent,\n    TextVariants,\n} from '@patternfly/react-core';\nimport {\n    TableComposable,\n    Thead,\n    Tbody,\n    Tr,\n    Th,\n    Td,\n} from '@patternfly/react-table';\nimport styles from '@patternfly/react-styles/css/components/Table/table';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport useFieldApi from '@data-driven-forms/react-form-renderer/use-field-api';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport { UNIT_GIB } from '../../../constants';\nimport MountPoint from './MountPoint';\nimport SizeUnit from './SizeUnit';\n\nlet initialRow = {\n    id: uuidv4(),\n    mountpoint: '/',\n    fstype: 'xfs',\n    size: 10,\n    unit: UNIT_GIB,\n};\n\nconst FileSystemConfiguration = ({ ...props }) => {\n    const { change, getState } = useFormApi();\n    const { input } = useFieldApi(props);\n    const [ draggedItemId, setDraggedItemId ] = useState(null);\n    const [ draggingToItemIndex, setDraggingToItemIndex ] = useState(null);\n    const [ isDragging, setIsDragging ] = useState(false);\n    const [ itemOrder, setItemOrder ] = useState([ initialRow.id ]);\n    const [ tempItemOrder, setTempItemOrder ] = useState([]);\n    const bodyref = useRef();\n    const [ rows, setRows ] = useState([ initialRow ]);\n\n    useEffect(() => {\n        const fsc = getState()?.values?.['file-system-configuration'];\n        if (!fsc) {\n            return;\n        }\n\n        const newRows = [];\n        const newOrder = [];\n        fsc.map(r => {\n            const id = uuidv4();\n            newRows.push({\n                id,\n                mountpoint: r.mountpoint,\n                fstype: 'xfs',\n                size: r.size,\n                unit: r.unit,\n            });\n            newOrder.push(id);\n        });\n        setRows(newRows);\n        setItemOrder(newOrder);\n    }, []);\n\n    useEffect(() => {\n        change(input.name, itemOrder.map(r => {\n            for (const r2 of rows) {\n                if (r2.id === r) {\n                    return {\n                        mountpoint: r2.mountpoint,\n                        size: r2.size,\n                        unit: r2.unit,\n                    };\n                }\n            }\n        }));\n    }, [ rows, itemOrder ]);\n\n    const addRow = () => {\n        const id = uuidv4();\n        setRows(rows.concat([{\n            id,\n            mountpoint: '/home',\n            fstype: 'xfs',\n            size: 1,\n            unit: UNIT_GIB,\n        }]));\n        setItemOrder(itemOrder.concat([ id ]));\n    };\n\n    const removeRow = id => {\n        let removeIndex = rows.map(e => e.id).indexOf(id);\n        let newRows = [ ...rows ];\n        newRows.splice(removeIndex, 1);\n\n        let removeOrderIndex = itemOrder.indexOf(id);\n        let newOrder = [ ...itemOrder ];\n        newOrder.splice(removeOrderIndex, 1);\n\n        setRows(newRows);\n        setItemOrder(newOrder);\n    };\n\n    const moveItem = (arr, i1, toIndex) => {\n        const fromIndex = arr.indexOf(i1);\n        if (fromIndex === toIndex) {\n            return arr;\n        }\n\n        const temp = arr.splice(fromIndex, 1);\n        arr.splice(toIndex, 0, temp[0]);\n        return arr;\n    };\n\n    const move = itemOrder => {\n        const ulNode = bodyref.current;\n        const nodes = Array.from(ulNode.children);\n        if (nodes.map(node => node.id).every((id, i) => id === itemOrder[i])) {\n            return;\n        }\n\n        while (ulNode.firstChild) {\n            ulNode.removeChild(ulNode.lastChild);\n        }\n\n        itemOrder.forEach(id => {\n            ulNode.appendChild(nodes.find(n => n.id === id));\n        });\n    };\n\n    const onDragOver = evt => {\n        evt.preventDefault();\n\n        const curListItem = evt.target.closest('tr');\n        if (!curListItem || !bodyref.current.contains(curListItem)) {\n            return null;\n        }\n\n        const dragId = curListItem.id;\n        const newDraggingToItemIndex = Array.from(bodyref.current.children).findIndex(item => item.id === dragId);\n        if (newDraggingToItemIndex !== draggingToItemIndex) {\n            const tempItemOrder = moveItem([ ...itemOrder ], draggedItemId, newDraggingToItemIndex);\n            move(tempItemOrder);\n            setDraggingToItemIndex(newDraggingToItemIndex);\n            setTempItemOrder(tempItemOrder);\n        }\n    };\n\n    const isValidDrop = evt => {\n        const ulRect = bodyref.current.getBoundingClientRect();\n        return (\n            evt.clientX > ulRect.x &&\n                evt.clientX < ulRect.x + ulRect.width &&\n                evt.clientY > ulRect.y &&\n                evt.clientY < ulRect.y + ulRect.height\n        );\n    };\n\n    const onDragLeave = evt => {\n        if (!isValidDrop(evt)) {\n            move(itemOrder);\n            setDraggingToItemIndex(null);\n        }\n    };\n\n    const onDrop = evt => {\n        if (isValidDrop(evt)) {\n            setItemOrder(tempItemOrder);\n        }\n    };\n\n    const onDragStart = evt => {\n        evt.dataTransfer.effectAllowed = 'move';\n        evt.dataTransfer.setData('text/plain', evt.currentTarget.id);\n        evt.currentTarget.classList.add(styles.modifiers.ghostRow);\n        evt.currentTarget.setAttribute('aria-pressed', 'true');\n        setDraggedItemId(evt.currentTarget.id);\n        setIsDragging(true);\n    };\n\n    const onDragEnd = evt => {\n        evt.target.classList.remove(styles.modifiers.ghostRow);\n        evt.target.setAttribute('aria-pressed', 'false');\n        setDraggedItemId(null);\n        setDraggingToItemIndex(null);\n        setIsDragging(false);\n    };\n\n    const setMountpoint = (id, mp) => {\n        let newRows = [ ...rows ];\n        for (let i = 0; i < newRows.length; i++) {\n            if (newRows[i].id === id) {\n                let newRow = { ...newRows[i] };\n                newRow.mountpoint = mp;\n                newRows.splice(i, 1, newRow);\n                break;\n            }\n        }\n\n        setRows(newRows);\n    };\n\n    const setSize = (id, s, u) => {\n        let newRows = [ ...rows ];\n        for (let i = 0; i < newRows.length; i++) {\n            if (newRows[i].id === id) {\n                let newRow = { ...newRows[i] };\n                newRow.size = s;\n                newRow.unit = u;\n                newRows.splice(i, 1, newRow);\n                break;\n            }\n        }\n\n        setRows(newRows);\n    };\n\n    return (\n        <>\n            <TextContent>\n                <Text component={ TextVariants.h3 }>Configure partitions</Text>\n            </TextContent>\n            { rows.length > 1 && getState()?.errors?.['file-system-configuration']?.duplicates &&\n              <Alert variant=\"danger\" isInline\n                  title=\"Duplicate mount points: All mount points must be unique. Remove the duplicate or choose a new mount point.\" />\n            }\n            { rows.length >= 1 && getState()?.errors?.['file-system-configuration']?.root === false &&\n              <Alert variant=\"danger\" isInline\n                  title=\"No root partition configured.\" />\n            }\n            <TextContent>\n                <Text>\n                    Partitions have been generated and given default values based on best practices from Red Hat,\n                    and your selections in previous steps of the wizard.\n                </Text>\n            </TextContent>\n            <TableComposable aria-label=\"File system table\" className={ isDragging && styles.modifiers.dragOver } variant=\"compact\">\n                <Thead>\n                    <Tr>\n                        <Th />\n                        <Th>Mount point</Th>\n                        <Th>Type</Th>\n                        <Th>Minimum size\n                            <Popover\n                                hasAutoWidth\n                                bodyContent={ <TextContent>\n                                    <Text>\n                                            Image Builder may extend this size based on requirements, selected packages, and configurations.\n                                    </Text>\n                                </TextContent> }>\n                                <Button\n                                    variant=\"plain\"\n                                    aria-label=\"File system configuration info\"\n                                    aria-describedby=\"file-system-configuration-info\"\n                                    className=\"pf-c-form__group-label-help\">\n                                    <HelpIcon />\n                                </Button>\n                            </Popover>\n                        </Th>\n                        <Th />\n                    </Tr>\n                </Thead>\n                <Tbody\n                    ref={ bodyref }\n                    onDragOver={ onDragOver }\n                    onDrop={ onDragOver }\n                    onDragLeave={ onDragLeave }\n                    data-testid=\"file-system-configuration-tbody\">\n                    {rows.map((row, rowIndex) => (\n                        <Tr key={ rowIndex } id={ row.id } draggable onDrop={ onDrop } onDragEnd={ onDragEnd } onDragStart={ onDragStart }>\n                            <Td draggableRow={ {\n                                id: `draggable-row-${row.id}`\n                            } } />\n                            <Td className=\"pf-m-width-30\">\n                                <MountPoint\n                                    key={ row.id + '-mountpoint' }\n                                    mountpoint={ row.mountpoint }\n                                    onChange={ mp => setMountpoint(row.id, mp) } />\n                                { getState().errors['file-system-configuration']?.duplicates &&\n                                  getState().errors['file-system-configuration']?.duplicates.indexOf(row.mountpoint) !== -1 &&\n                                  <Alert variant=\"danger\" isInline isPlain title=\"Duplicate mount point.\" /> }\n                            </Td>\n                            <Td className=\"pf-m-width-20\">\n                                { /* always xfs */ }\n                                {row.fstype}\n                            </Td>\n                            <Td className=\"pf-m-width-30\">\n                                <SizeUnit\n                                    key={ row.id + '-sizeunit' }\n                                    size={ row.size }\n                                    unit={ row.unit }\n                                    onChange={ (s, u) => setSize(row.id, s, u) } />\n                            </Td>\n                            <Td className=\"pf-m-width-10\">\n                                <Button\n                                    variant=\"link\"\n                                    icon={ <MinusCircleIcon /> }\n                                    onClick={ () => removeRow(row.id) } />\n                            </Td>\n                        </Tr>\n                    ))}\n                </Tbody>\n            </TableComposable>\n            <TextContent>\n                <Button\n                    data-testid=\"file-system-add-partition\"\n                    className=\"pf-u-text-align-left\"\n                    variant=\"link\"\n                    icon={ <PlusCircleIcon /> }\n                    onClick={ addRow }>\n                    Add partition\n                </Button>\n            </TextContent>\n        </>\n    );\n};\n\nexport default FileSystemConfiguration;\n","import React, {\n    useState,\n    useEffect,\n} from 'react';\nimport {\n    ToggleGroup,\n    ToggleGroupItem,\n} from '@patternfly/react-core';\n\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport useFieldApi from '@data-driven-forms/react-form-renderer/use-field-api';\n\nconst FileSystemConfigToggle = ({ ...props }) => {\n    const { change, getState } = useFormApi();\n    const { input } = useFieldApi(props);\n    const [ selected, setSelected ] =\n          useState(getState()?.values?.['file-system-config-toggle'] || 'auto');\n\n    useEffect(() => {\n        change(input.name, selected);\n    }, [ selected ]);\n\n    const onClick = (_, evt) => {\n        setSelected(evt.currentTarget.id);\n    };\n\n    return (\n        <>\n            <ToggleGroup\n                data-testid=\"fsc-paritioning-toggle\"\n                aria-label=\"Automatic partitioning toggle\">\n                <ToggleGroupItem\n                    onChange={ onClick }\n                    text=\"Use automatic partitioning\"\n                    buttonId=\"auto\"\n                    isSelected={ selected === 'auto' } />\n                <ToggleGroupItem\n                    onChange={ onClick }\n                    text=\"Manually configure partitions\"\n                    buttonId=\"manual\"\n                    isSelected={ selected === 'manual' }\n                    data-testid=\"file-system-config-toggle-manual\" />\n            </ToggleGroup>\n        </>\n    );\n};\n\nexport default FileSystemConfigToggle;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormGroup, Select, SelectOption, SelectVariant } from '@patternfly/react-core';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport useFieldApi from '@data-driven-forms/react-form-renderer/use-field-api';\nimport { RELEASES } from '../../../constants';\n\nconst ImageOutputReleaseSelect = ({ label, isRequired, ...props }) => {\n    const { change, getState } = useFormApi();\n    const { input } = useFieldApi(props);\n    const [ isOpen, setIsOpen ] = useState(false);\n\n    const setRelease = (_, selection) => {\n        change(input.name, selection);\n        setIsOpen(false);\n    };\n\n    const handleClear = () => {\n        change(input.name, null);\n    };\n\n    return (\n        <FormGroup isRequired={ isRequired } label={ label }>\n            <Select\n                variant={ SelectVariant.single }\n                onToggle={ () => setIsOpen(!isOpen) }\n                onSelect={ setRelease }\n                onClear={ handleClear }\n                selections={ RELEASES[getState()?.values?.[input.name]] }\n                isOpen={ isOpen }>\n                {\n                    Object.entries(RELEASES)\n                        .filter(([ key ]) => {\n                            // Only show non-RHEL distros in beta\n                            if (!(insights.chrome.isBeta() || key.includes('rhel'))) {\n                                return false;\n                            }\n\n                            return true;\n                        })\n                        .map(([ key, release ], index) => {\n                            return <SelectOption key={ index } value={ key }>\n                                { release }\n                            </SelectOption>;\n                        })\n                }\n            </Select>\n        </FormGroup>\n    );\n};\n\nImageOutputReleaseSelect.propTypes = {\n    label: PropTypes.node,\n    isRequired: PropTypes.bool\n};\n\nexport default ImageOutputReleaseSelect;\n","import React from 'react';\nimport FormRenderer from '@data-driven-forms/react-form-renderer/form-renderer';\nimport Pf4FormTemplate from '@data-driven-forms/pf4-component-mapper/form-template';\nimport { componentMapper } from '@data-driven-forms/pf4-component-mapper';\nimport { Spinner } from '@patternfly/react-core';\nimport PropTypes from 'prop-types';\nimport Review from './formComponents/ReviewStep';\nimport TargetEnvironment from './formComponents/TargetEnvironment';\nimport Packages from './formComponents/Packages';\nimport RadioWithPopover from './formComponents/RadioWithPopover';\nimport AzureAuthButton from './formComponents/AzureAuthButton';\nimport AzureAuthExpandable from './formComponents/AzureAuthExpandable';\nimport ActivationKeys from './formComponents/ActivationKeys';\nimport Select from '@data-driven-forms/pf4-component-mapper/select';\nimport FileSystemConfiguration from './formComponents/FileSystemConfiguration';\nimport FileSystemConfigToggle from './formComponents/FileSystemConfigToggle';\nimport ImageOutputReleaseSelect from './formComponents/ImageOutputReleaseSelect';\n\nconst ImageCreator = ({ schema, onSubmit, onClose, customComponentMapper, customValidatorMapper, defaultArch, className, ...props }) => {\n    return schema ? <FormRenderer\n        initialValues={ props.initialValues }\n        schema={ schema }\n        className={ `image-builder${className ? ` ${className}` : ''}` }\n        subscription={ { values: true } }\n        FormTemplate={ (props) => <Pf4FormTemplate { ...props } showFormControls={ false } /> }\n        onSubmit={ (formValues) => onSubmit(formValues) }\n        validatorMapper={ { ...customValidatorMapper } }\n        componentMapper={ {\n            ...componentMapper,\n            review: Review,\n            output: TargetEnvironment,\n            select: Select,\n            'package-selector': {\n                component: Packages,\n                defaultArch\n            },\n            'radio-popover': RadioWithPopover,\n            'azure-auth-expandable': AzureAuthExpandable,\n            'azure-auth-button': AzureAuthButton,\n            'activation-keys': ActivationKeys,\n            'file-system-config-toggle': FileSystemConfigToggle,\n            'file-system-configuration': FileSystemConfiguration,\n            'image-output-release-select': ImageOutputReleaseSelect,\n            ...customComponentMapper,\n        } }\n        onCancel={ onClose }\n        { ...props } /> : <Spinner />;\n};\n\nImageCreator.propTypes = {\n    schema: PropTypes.object,\n    onSubmit: PropTypes.func.isRequired,\n    onClose: PropTypes.func.isRequired,\n    customComponentMapper: PropTypes.shape({\n        [PropTypes.string]: PropTypes.oneOfType([ PropTypes.node, PropTypes.shape({\n            component: PropTypes.node\n        }) ])\n    }),\n    customValidatorMapper: PropTypes.shape({\n        [PropTypes.string]: PropTypes.func\n    }),\n    defaultArch: PropTypes.string,\n    className: PropTypes.string,\n    initialValues: PropTypes.object\n};\n\nexport default ImageCreator;\n","import React from 'react';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/validator-types';\nimport nextStepMapper from './imageOutputStepMapper';\nimport { Title } from '@patternfly/react-core';\nimport StepTemplate from './stepTemplate';\n\nexport default {\n    StepTemplate,\n    id: 'wizard-target-aws',\n    title: 'Amazon Web Services',\n    customTitle: <Title headingLevel=\"h1\" size=\"xl\">Target environment - Amazon Web Service</Title>,\n    name: 'aws-target-env',\n    substepOf: 'Target environment',\n    nextStep: ({ values }) => nextStepMapper(values, { skipAws: true }),\n    fields: [\n        {\n            component: componentTypes.PLAIN_TEXT,\n            name: 'plain-text-component',\n            label: <p>\n                Your image will be uploaded to AWS and shared with the account you provide below. <br />\n                The image should be copied to your account within 14 days.\n            </p>\n        },\n        {\n            component: componentTypes.TEXT_FIELD,\n            name: 'aws-account-id',\n            className: 'pf-u-w-25',\n            'data-testid': 'aws-account-id',\n            type: 'text',\n            label: 'AWS account ID',\n            isRequired: true,\n            autoFocus: true,\n            validate: [\n                {\n                    type: validatorTypes.REQUIRED,\n                },\n                {\n                    type: validatorTypes.EXACT_LENGTH,\n                    threshold: 12\n                }\n            ],\n        }\n    ]\n};\n","import React from 'react';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/validator-types';\nimport { Title, Text } from '@patternfly/react-core';\nimport nextStepMapper from './imageOutputStepMapper';\nimport StepTemplate from './stepTemplate';\n\nexport default {\n    StepTemplate,\n    id: 'wizard-target-msazure',\n    title: 'Microsoft Azure',\n    customTitle: <Title headingLevel=\"h1\" size=\"xl\">Target environment - Microsoft Azure</Title>,\n    name: 'ms-azure-target-env',\n    substepOf: 'Target environment',\n    nextStep: ({ values }) => nextStepMapper(values, { skipAws: true, skipGoogle: true, skipAzure: true }),\n    fields: [\n        {\n            component: componentTypes.PLAIN_TEXT,\n            name: 'azure-description',\n            label: <Text>\n                Image Builder sends an image to an authorized Azure account.\n            </Text>\n        },\n        {\n            component: 'azure-auth-expandable',\n            name: 'azure-auth-expandable'\n        },\n        {\n            component: componentTypes.PLAIN_TEXT,\n            name: 'azure-destination',\n            label: <>\n                <Title headingLevel=\"h2\">Destination</Title>\n                <Text>\n                        Your image will be uploaded to the resource group in the subscription you specify.\n                </Text>\n            </>\n\n        },\n        {\n            component: componentTypes.TEXT_FIELD,\n            name: 'azure-tenant-id',\n            className: 'pf-u-w-50',\n            'data-testid': 'azure-tenant-id',\n            type: 'text',\n            label: 'Tenant ID',\n            required: true,\n            isRequired: true,\n            autoFocus: true,\n            validate: [\n                {\n                    type: validatorTypes.REQUIRED,\n                },\n                {\n                    type: validatorTypes.PATTERN,\n                    pattern: /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,\n                    message: 'Please enter a valid tenant ID',\n                }\n            ],\n        },\n        {\n            component: 'azure-auth-button',\n            name: 'azure-auth-button',\n            'data-testid': 'azure-auth-button',\n            required: true,\n            isRequired: true,\n        },\n        {\n            component: componentTypes.TEXT_FIELD,\n            name: 'azure-subscription-id',\n            className: 'pf-u-w-50',\n            'data-testid': 'azure-subscription-id',\n            type: 'text',\n            label: 'Subscription ID',\n            isRequired: true,\n            validate: [\n                {\n                    type: validatorTypes.REQUIRED,\n                },\n                {\n                    type: validatorTypes.PATTERN,\n                    pattern: /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,\n                    message: 'Please enter a valid subscription ID',\n                },\n            ],\n        },\n        {\n            component: componentTypes.TEXT_FIELD,\n            name: 'azure-resource-group',\n            className: 'pf-u-w-50',\n            'data-testid': 'azure-resource-group',\n            type: 'text',\n            label: 'Resource group',\n            isRequired: true,\n            validate: [\n                {\n                    type: validatorTypes.REQUIRED,\n                },\n                {\n                    type: validatorTypes.PATTERN,\n                    pattern: /^[-\\w._()]+[-\\w_()]$/,\n                    message: 'Resource group names only allow alphanumeric characters, ' +\n                        'periods, underscores, hyphens, and parenthesis and cannot end in a period',\n                },\n            ],\n        }\n        // TODO check oauth2 thing too here?\n    ]\n};\n","import React from 'react';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport { Text } from '@patternfly/react-core';\nimport StepTemplate from './stepTemplate';\n\nexport default {\n    StepTemplate,\n    id: 'wizard-systemconfiguration-packages',\n    title: 'Packages',\n    name: 'packages',\n    substepOf: 'System Configuration',\n    nextStep: 'image-name',\n    fields: [\n        {\n            component: componentTypes.PLAIN_TEXT,\n            name: 'packages-text-component',\n            label: <Text>Add optional additional packages to your image by searching available packages.</Text>\n        },\n        {\n            component: 'package-selector',\n            name: 'selected-packages',\n            label: 'Available options'\n        }\n    ]\n};\n","import React from 'react';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/validator-types';\nimport { Button, Popover, Text, TextContent, TextVariants } from '@patternfly/react-core';\nimport { ExternalLinkAltIcon, HelpIcon } from '@patternfly/react-icons';\nimport StepTemplate from './stepTemplate';\n\nconst PopoverActivation = () => {\n    return <Popover\n        hasAutoWidth\n        maxWidth='35rem'\n        bodyContent={ <TextContent>\n            <Text>\n                Activation keys allow you to register a system with\n                appropriate subscriptions and system purpose attached.\n            </Text>\n        </TextContent> }>\n        <Button\n            variant=\"plain\"\n            aria-label=\"Activation key popover\"\n            aria-describedby=\"subscription-activation-key\"\n            className=\"pf-c-form__group-label-help\">\n            <HelpIcon />\n        </Button>\n    </Popover>;\n};\n\nexport default {\n    StepTemplate,\n    id: 'wizard-registration',\n    title: 'Registration',\n    name: 'registration',\n    nextStep: 'File system configuration',\n    fields: [\n        {\n            component: componentTypes.RADIO,\n            label: 'Register images with Red Hat',\n            name: 'register-system',\n            initialValue: 'register-now-insights',\n            options: [\n                {\n                    label: 'Register and connect image instances with Red Hat',\n                    description: 'Includes Subscriptions and Red Hat Insights',\n                    value: 'register-now-insights',\n                    'data-testid': 'radio-register-now-insights',\n                    autoFocus: true,\n                },\n                {\n                    label: 'Register image instances only',\n                    description: 'Includes Subscriptions only',\n                    value: 'register-now',\n                    className: 'pf-u-mt-sm',\n                    'data-testid': 'radio-register-now',\n                },\n                {\n                    label: 'Register later',\n                    value: 'register-later',\n                    className: 'pf-u-mt-sm',\n                    'data-testid': 'radio-register-later',\n                },\n            ]\n        },\n        {\n            component: 'activation-keys',\n            name: 'subscription-activation-key',\n            required: true,\n            label: (\n                <>\n                    Activation key to use for this image\n                    <PopoverActivation />\n                </>\n            ),\n            condition: {\n                or: [\n                    { when: 'register-system', is: 'register-now-insights' },\n                    { when: 'register-system', is: 'register-now' },\n                ]\n            },\n            isRequired: true,\n            validate: [\n                {\n                    type: validatorTypes.REQUIRED,\n                },\n            ],\n        },\n        {\n            component: componentTypes.PLAIN_TEXT,\n            name: 'subscription-activation-description',\n            label: (\n                <>\n                    Create and manage activation keys in the&nbsp;\n                    <Button\n                        component=\"a\"\n                        target=\"_blank\"\n                        variant=\"link\"\n                        icon={ <ExternalLinkAltIcon /> }\n                        iconPosition=\"right\"\n                        isInline\n                        href=\"https://access.redhat.com/\">\n                            Customer Portal\n                    </Button>\n                </>\n            ),\n            condition: {\n                or: [\n                    { when: 'register-system', is: 'register-now-insights' },\n                    { when: 'register-system', is: 'register-now' },\n                ]\n            },\n        },\n        {\n            component: componentTypes.PLAIN_TEXT,\n            name: 'subscription-register-later',\n            label: (\n                <TextContent>\n                    <Text component={ TextVariants.h3 }>Register Later</Text>\n                    <Text>\n                        On initial boot, systems will need to be registered manually\n                        before having access to updates or Red Hat services.\n                    </Text>\n                    <Text>\n                        Registering now is recommended.\n                    </Text>\n                </TextContent>\n            ),\n            condition: {\n                or: [\n                    { when: 'register-system', is: 'register-later' },\n                ]\n            },\n        }\n    ]\n};\n","import React, { useContext, useState } from 'react';\nimport { Button } from '@patternfly/react-core';\nimport { FormSpy } from '@data-driven-forms/react-form-renderer';\nimport WizardContext from '@data-driven-forms/react-form-renderer/wizard-context';\nimport PropTypes from 'prop-types';\n\nconst CustomButtons = ({ buttonLabels: { cancel, submit, back }}) => {\n    const [ isSaving, setIsSaving ] = useState(false);\n    const { handlePrev, formOptions } = useContext(WizardContext);\n    return <FormSpy>\n        {() => (\n            <React.Fragment>\n                <Button\n                    variant=\"primary\"\n                    type=\"button\"\n                    isDisabled={ !formOptions.valid || formOptions.getState().validating || isSaving }\n                    isLoading={ isSaving }\n                    onClick={ () => {\n                        formOptions.onSubmit({\n                            values: formOptions.getState().values,\n                            setIsSaving\n                        });\n                    } }>\n                    { isSaving ? 'Creating image' : submit}\n                </Button>\n                <Button type=\"button\" variant=\"secondary\" onClick={ handlePrev } isDisabled={ isSaving }>\n                    {back}\n                </Button>\n                <div className=\"pf-c-wizard__footer-cancel\">\n                    <Button type=\"button\" variant=\"link\" onClick={ formOptions.onCancel } isDisabled={ isSaving }>\n                        {cancel}\n                    </Button>\n                </div>\n            </React.Fragment>\n        )}\n    </FormSpy>;\n};\n\nCustomButtons.propTypes = {\n    buttonLabels: PropTypes.shape({\n        cancel: PropTypes.node,\n        submit: PropTypes.node,\n        back: PropTypes.node,\n    }),\n    isSaving: PropTypes.bool\n};\n\nexport default CustomButtons;\n","import CustomButtons from '../formComponents/CustomSubmitButtons';\nimport StepTemplate from './stepTemplate';\n\nexport default {\n    StepTemplate,\n    id: 'wizard-review',\n    name: 'review',\n    title: 'Review',\n    buttons: CustomButtons,\n    fields: [\n        {\n            name: 'review',\n            component: 'review'\n        }\n    ]\n};\n","import React from 'react';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/validator-types';\nimport nextStepMapper from './imageOutputStepMapper';\nimport { RHEL_8 } from '../../../constants.js';\nimport { Text } from '@patternfly/react-core';\nimport DocumentationButton from '../../sharedComponents/DocumentationButton';\nimport StepTemplate from './stepTemplate';\n\nexport default {\n    StepTemplate,\n    id: 'wizard-imageoutput',\n    title: 'Image output',\n    name: 'image-output',\n    nextStep: ({ values }) => nextStepMapper(values),\n    fields: [\n        {\n            component: componentTypes.PLAIN_TEXT,\n            name: 'image-output-plain-text',\n            label: <Text>Image builder allows you to create a custom image and push it to target environments.<br /><DocumentationButton /></Text>\n        },\n        {\n            component: 'image-output-release-select',\n            label: 'Release',\n            name: 'release',\n            initialValue: RHEL_8,\n            isRequired: true,\n            validate: [\n                {\n                    type: validatorTypes.REQUIRED\n                }\n            ],\n        },\n        {\n            component: 'output',\n            name: 'target-environment',\n            label: 'Select target environments',\n            isRequired: true,\n            validate: [\n                {\n                    type: validatorTypes.REQUIRED\n                },\n                {\n                    type: 'targetEnvironmentValidator'\n                }\n            ],\n        }\n    ]\n};\n","import React from 'react';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/validator-types';\nimport { Text } from '@patternfly/react-core';\n\nimport StepTemplate from './stepTemplate';\n\nexport default {\n    StepTemplate,\n    id: 'wizard-systemconfiguration-filesystem',\n    title: 'File system configuration',\n    name: 'File system configuration',\n    substepOf: 'System Configuration',\n    nextStep: 'packages',\n    fields: [\n        {\n            component: componentTypes.PLAIN_TEXT,\n            name: 'file-system-configuration-text-component',\n            label: <>\n                <Text>Red Hat recommends using automatic partitioning for most installations.</Text>\n                <Text>\n                    Alternatively, you may manually configure the file system of your image by adding, removing, and editing partitions.\n                </Text>\n            </>,\n        },\n        {\n            component: 'file-system-config-toggle',\n            name: 'file-system-config-toggle',\n            label: 'File system configurations toggle',\n        },\n        {\n            component: 'file-system-configuration',\n            name: 'file-system-configuration',\n            label: 'File system configurations',\n            validate: [{ type: 'fileSystemConfigurationValidator' }, { type: validatorTypes.REQUIRED }],\n            condition: {\n                when: 'file-system-config-toggle',\n                is: 'manual',\n            },\n        },\n    ]\n};\n","import React from 'react';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport StepTemplate from './stepTemplate';\n\nexport default {\n    StepTemplate,\n    id: 'wizard-details',\n    name: 'image-name',\n    title: 'Name image',\n    nextStep: 'review',\n    fields: [\n        {\n            component: componentTypes.PLAIN_TEXT,\n            name: 'plain-text-component',\n            label: <p>Optionally enter a name for your image. All images will have a UUID.</p>\n        },\n        {\n            component: componentTypes.TEXT_FIELD,\n            name: 'image-name',\n            type: 'text',\n            label: 'Image name',\n            autoFocus: true,\n        }\n    ]\n};\n","const FileSystemConfigurationValidator = () => fsc => {\n    if (!fsc) {\n        return undefined;\n    }\n\n    let mpFreqs = {};\n    for (const fs of fsc) {\n        const mp = fs.mountpoint;\n        if (mp in mpFreqs) {\n            mpFreqs[mp]++;\n        } else {\n            mpFreqs[mp] = 1;\n        }\n    }\n\n    let duplicates = [];\n    for (const [ k, v ] of Object.entries(mpFreqs)) {\n        if (v > 1) {\n            duplicates.push(k);\n        }\n    }\n\n    let root = mpFreqs['/'] >= 1;\n    return duplicates.length === 0 && root ? undefined : {\n        duplicates: duplicates === [] ? undefined : duplicates,\n        root,\n    };\n};\n\nexport default FileSystemConfigurationValidator;\n","const TargetEnvironmentValidator = () => targets => {\n    if (!targets) {\n        return undefined;\n    }\n\n    // at least one of the target environments must\n    // be set to true. This reduces the value to\n    // a single boolean which is a flag for whether\n    // at least one target has been selected or not\n    let valid = Object.values(targets).reduce((prev, curr) => curr || prev, false);\n    return !valid ? 'Please select an image' : undefined;\n};\n\nexport default TargetEnvironmentValidator;\n","import React from 'react';\nimport ImageCreator from './ImageCreator';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport DocumentationButton from '../sharedComponents/DocumentationButton';\nimport './CreateImageWizard.scss';\nimport { useDispatch } from 'react-redux';\nimport api from '../../api';\nimport { RHEL_8, UNIT_KIB, UNIT_MIB, UNIT_GIB } from '../../constants';\nimport { composeAdded } from '../../store/actions/actions';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\n\nimport {\n    review,\n    awsTarget,\n    registration,\n    googleCloudTarger,\n    msAzureTarget,\n    packages,\n    imageOutput,\n    fileSystemConfiguration,\n    imageName\n} from './steps';\n\nimport {\n    fileSystemConfigurationValidator,\n    targetEnvironmentValidator,\n} from './validators';\n\nconst handleKeyDown = (e, handleClose) => {\n    if (e.key === 'Escape') {\n        handleClose();\n    }\n};\n\nconst onSave = (values) => {\n    let customizations = {\n        packages: values['selected-packages']?.map(p => p.name),\n    };\n\n    if (values['register-system'] === 'register-now-insights') {\n        customizations.subscription = {\n            'activation-key': values['subscription-activation-key'],\n            insights: true,\n            organization: Number(values['subscription-organization-id']),\n            'server-url': 'subscription.rhsm.redhat.com',\n            'base-url': 'https://cdn.redhat.com/',\n        };\n    } else if (values['register-system'] === 'register-now') {\n        customizations.subscription = {\n            'activation-key': values['subscription-activation-key'],\n            insights: false,\n            organization: Number(values['subscription-organization-id']),\n            'server-url': 'subscription.rhsm.redhat.com',\n            'base-url': 'https://cdn.redhat.com/',\n        };\n    }\n\n    if (values['file-system-config-toggle'] === 'manual') {\n        customizations.filesystem = [];\n        for (let fsc of values['file-system-configuration']) {\n            customizations.filesystem.push({\n                mountpoint: fsc.mountpoint,\n                min_size: fsc.size * fsc.unit,\n            });\n        }\n    }\n\n    let requests = [];\n    if (values['target-environment']?.aws) {\n        let request = {\n            distribution: values.release,\n            image_name: values?.['image-name'],\n            image_requests: [\n                {\n                    architecture: 'x86_64',\n                    image_type: 'ami',\n                    upload_request: {\n                        type: 'aws',\n                        options: {\n                            share_with_accounts: [ values['aws-account-id'] ],\n                        },\n                    },\n                }],\n            customizations,\n        };\n        requests.push(request);\n    }\n\n    if (values['target-environment']?.gcp) {\n        let share = '';\n        switch (values['google-account-type']) {\n            case 'googleAccount':\n                share = `user:${values['google-email']}`;\n                break;\n            case 'serviceAccount':\n                share = `serviceAccount:${values['google-email']}`;\n                break;\n            case 'googleGroup':\n                share = `group:${values['google-email']}`;\n                break;\n            case 'domain':\n                share = `domain:${values['google-domain']}`;\n                break;\n        }\n\n        let request = {\n            distribution: values.release,\n            image_name: values?.['image-name'],\n            image_requests: [\n                {\n                    architecture: 'x86_64',\n                    image_type: 'gcp',\n                    upload_request: {\n                        type: 'gcp',\n                        options: {\n                            share_with_accounts: [ share ],\n                        },\n                    },\n                }],\n            customizations,\n        };\n\n        requests.push(request);\n    }\n\n    if (values['target-environment']?.azure) {\n        let request = {\n            distribution: values.release,\n            image_name: values?.['image-name'],\n            image_requests: [\n                {\n                    architecture: 'x86_64',\n                    image_type: 'vhd',\n                    upload_request: {\n                        type: 'azure',\n                        options: {\n                            tenant_id: values['azure-tenant-id'],\n                            subscription_id: values['azure-subscription-id'],\n                            resource_group: values['azure-resource-group'],\n                        },\n                    },\n                }],\n            customizations,\n        };\n        requests.push(request);\n    }\n\n    if (values['target-environment']?.vsphere) {\n        let request = {\n            distribution: values.release,\n            image_name: values?.['image-name'],\n            image_requests: [\n                {\n                    architecture: 'x86_64',\n                    image_type: 'vsphere',\n                    upload_request: {\n                        type: 'aws.s3',\n                        options: {}\n                    }\n                }],\n            customizations,\n        };\n        requests.push(request);\n    }\n\n    if (values['target-environment']?.['guest-image']) {\n        let request = {\n            distribution: values.release,\n            image_name: values?.['image-name'],\n            image_requests: [\n                {\n                    architecture: 'x86_64',\n                    image_type: 'guest-image',\n                    upload_request: {\n                        type: 'aws.s3',\n                        options: {}\n                    }\n                }],\n            customizations,\n        };\n        requests.push(request);\n    }\n\n    if (values['target-environment']?.['image-installer']) {\n        let request = {\n            distribution: values.release,\n            image_name: values?.['image-name'],\n            image_requests: [\n                {\n                    architecture: 'x86_64',\n                    image_type: 'image-installer',\n                    upload_request: {\n                        type: 'aws.s3',\n                        options: {}\n                    }\n                }],\n            customizations,\n        };\n        requests.push(request);\n    }\n\n    return requests;\n};\n\nconst parseSizeUnit = (bytesize) => {\n    let size;\n    let unit;\n\n    if (bytesize % UNIT_GIB === 0) {\n        size = bytesize / UNIT_GIB;\n        unit = UNIT_GIB;\n    } else if (bytesize % UNIT_MIB === 0) {\n        size = bytesize / UNIT_MIB;\n        unit = UNIT_MIB;\n    } else if (bytesize % UNIT_KIB === 0) {\n        size = bytesize / UNIT_KIB;\n        unit = UNIT_KIB;\n    }\n\n    return [ size, unit ];\n};\n\nconst getPackageDescription = async (release, arch, packageName) => {\n    const args = [\n        release,\n        arch,\n        packageName\n    ];\n    let { data, meta } = await api.getPackages(...args);\n    let summary;\n\n    // the package should be found in the 0 index\n    // if not then fetch all package matches and search for the package\n    if (data[0]?.name === packageName) {\n        summary = data[0]?.summary;\n    } else {\n        if (data?.length !== meta.count) {\n            ({ data } = await api.getPackages(...args, meta.count));\n        }\n\n        const pack = data.find(pack => packageName === pack.name);\n        summary = pack?.summary;\n    }\n\n    // if no matching package is found return an empty string for description\n    return summary || '';\n} ;\n\n// map the compose request object to the expected form state\nconst requestToState = (composeRequest) => {\n    if (composeRequest) {\n        const imageRequest = composeRequest.image_requests[0];\n        const uploadRequest = imageRequest.upload_request;\n        let formState = {};\n\n        formState['image-name'] = composeRequest.image_name;\n\n        formState.release = composeRequest?.distribution;\n        // set defaults for target environment first\n        formState['target-environment'] = {\n            aws: false,\n            azure: false,\n            gcp: false,\n            'guest-image': false,\n        };\n        // then select the one from the request\n        // if the image type is to a cloud provider we use the upload_request.type\n        // or if the image is intended for download we use the image_type\n        let targetEnvironment;\n        if (uploadRequest.type === 'aws.s3') {\n            targetEnvironment = imageRequest.image_type;\n        } else {\n            targetEnvironment = uploadRequest.type;\n        }\n\n        formState['target-environment'][targetEnvironment] = true;\n\n        if (targetEnvironment === 'aws') {\n            formState['aws-account-id'] = uploadRequest?.options?.share_with_accounts[0];\n        } else if (targetEnvironment === 'azure') {\n            formState['azure-tenant-id'] = uploadRequest?.options?.tenant_id;\n            formState['azure-subscription-id'] = uploadRequest?.options?.subscription_id;\n            formState['azure-resource-group'] = uploadRequest?.options?.resource_group;\n        } else if (targetEnvironment === 'gcp') {\n            // parse google account info\n            // roughly in the format `accountType:accountEmail`\n            const accountInfo = uploadRequest?.options?.share_with_accounts[0];\n            const [ accountTypePrefix, account ] = accountInfo.split(':');\n\n            switch (accountTypePrefix) {\n                case 'user':\n                    formState['google-account-type'] = 'googleAccount';\n                    formState['google-email'] = account;\n                    break;\n                case 'serviceAccount':\n                    formState['google-account-type'] = 'serviceAccount';\n                    formState['google-email'] = account;\n                    break;\n                case 'group':\n                    formState['google-account-type'] = 'googleGroup';\n                    formState['google-email'] = account;\n                    break;\n                case 'domain':\n                    formState['google-account-type'] = 'domain';\n                    formState['google-domain'] = account;\n                    break;\n            }\n        }\n\n        // customizations\n        // packages\n        let packs = [];\n        composeRequest?.customizations?.packages?.forEach(async (packName) => {\n            const packageDescription = await getPackageDescription(composeRequest?.distribution, imageRequest?.architecture, packName);\n            const pack = ({\n                name: packName,\n                summary: packageDescription\n            });\n            packs.push(pack);\n        });\n        formState['selected-packages'] = packs;\n\n        // filesystem\n        const fs = composeRequest?.customizations?.filesystem;\n        if (fs) {\n            formState['file-system-config-toggle'] = 'manual';\n            let fileSystemConfiguration = [];\n            for (let fsc of fs) {\n                const [ size, unit ] = parseSizeUnit(fsc.min_size);\n                fileSystemConfiguration.push({\n                    mountpoint: fsc.mountpoint,\n                    size,\n                    unit\n                });\n            }\n\n            formState['file-system-configuration'] = fileSystemConfiguration;\n        }\n\n        // subscription\n        const subscription = composeRequest?.customizations?.subscription;\n        if (subscription) {\n            if (subscription.insights) {\n                formState['register-system'] = 'register-now-insights';\n            } else {\n                formState['register-system'] = 'register-now';\n            }\n\n            formState['subscription-activation-key'] = subscription['activation-key'];\n            formState['subscription-organization-id'] = subscription.organization;\n        } else {\n            formState['register-system'] = 'register-later';\n        }\n\n        return formState;\n    } else {\n        return;\n    }\n};\n\nconst formStepHistory = (composeRequest) => {\n    if (composeRequest) {\n        const imageRequest = composeRequest.image_requests[0];\n        const uploadRequest = imageRequest.upload_request;\n        let steps = [\n            'image-output'\n        ];\n\n        if (uploadRequest.type === 'aws') {\n            steps.push('aws-target-env');\n        } else if (uploadRequest.type === 'azure') {\n            steps.push('azure-target-env');\n        } else if (uploadRequest.type === 'gcp') {\n            steps.push('google-cloud-target-env');\n        }\n\n        if (composeRequest?.distribution === RHEL_8) {\n            steps.push('registration');\n        }\n\n        steps = steps.concat([\n            'File system configuration',\n            'packages',\n            'image-name'\n        ]);\n\n        return steps;\n    } else {\n        return [];\n    }\n};\n\nconst CreateImageWizard = () => {\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n    const location = useLocation();\n\n    const composeRequest = location?.state?.composeRequest;\n    const initialState = requestToState(composeRequest);\n    const stepHistory = formStepHistory(composeRequest);\n\n    const handleClose = () => navigate('/');\n\n    return <ImageCreator\n        onClose={ handleClose }\n        onSubmit={ ({ values, setIsSaving }) => {\n            setIsSaving(() => true);\n            const requests = onSave(values);\n            Promise.all(requests.map(request => api.composeImage(request).then((response) => {\n                dispatch(composeAdded({\n                    ...response,\n                    request,\n                    image_status: { status: 'pending' }\n                }, true));\n            })))\n                .then(() => {\n                    navigate('/');\n                    dispatch(addNotification({\n                        variant: 'success',\n                        title: 'Your image is being created',\n                    }));\n\n                    setIsSaving(false);\n                })\n                .catch((err) => {\n                    dispatch(addNotification({\n                        variant: 'danger',\n                        title: 'Your image could not be created',\n                        description: 'Status code ' + err.response.status + ': ' + err.response.statusText,\n                    }));\n\n                    setIsSaving(false);\n                });\n        } }\n        defaultArch=\"x86_64\"\n        customValidatorMapper={ { fileSystemConfigurationValidator, targetEnvironmentValidator } }\n        schema={ {\n            fields: [\n                {\n                    component: componentTypes.WIZARD,\n                    name: 'image-builder-wizard',\n                    className: 'image_builder',\n                    isDynamic: true,\n                    inModal: true,\n                    onKeyDown: (e) => { handleKeyDown(e, handleClose); },\n                    buttonLabels: {\n                        submit: 'Create image',\n                    },\n                    showTitles: true,\n                    title: 'Create image',\n                    crossroads: [ 'target-environment', 'release' ],\n                    description: <>Image builder allows you to create a custom image and push it to target environments. <DocumentationButton /></>,\n                    // order in this array does not reflect order in wizard nav, this order is managed inside\n                    // of each step by `nextStep` property!\n                    fields: [\n                        imageOutput,\n                        awsTarget,\n                        googleCloudTarger,\n                        msAzureTarget,\n                        registration,\n                        packages,\n                        fileSystemConfiguration,\n                        imageName,\n                        review,\n                    ],\n                    initialState: {\n                        activeStep: location?.state?.initialStep || 'image-output', // name of the active step\n                        activeStepIndex: stepHistory.length, // active index\n                        maxStepIndex: stepHistory.length, // max achieved index\n                        prevSteps: stepHistory, // array with names of previously visited steps\n                    }\n                }\n            ]\n        } }\n        initialValues={ initialState } />;\n};\n\nexport default CreateImageWizard;\n","import React from 'react';\nimport { Button } from '@patternfly/react-core';\nimport { ExternalLinkAltIcon } from '@patternfly/react-icons';\n\nconst DocumentationButton = () => {\n    const documentationURL =\n'https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/uploading_a_customized_rhel_system_image_to_cloud_environments/index';\n\n    return (\n        <Button\n            component=\"a\"\n            target=\"_blank\"\n            variant=\"link\"\n            icon={ <ExternalLinkAltIcon /> }\n            iconPosition=\"right\"\n            isInline\n            href={ documentationURL }>Documentation</Button>\n    );\n};\n\nexport default DocumentationButton;\n","import axios from 'axios';\nimport {\n    IMAGE_BUILDER_API,\n    RHSM_API,\n} from './constants';\n\nconst postHeaders = { headers: { 'Content-Type': 'application/json' }};\n\nasync function composeImage(body) {\n    let path = '/compose';\n    const request = await axios.post(IMAGE_BUILDER_API.concat(path), body, postHeaders);\n    return request.data;\n}\n\nasync function getComposes(limit, offset) {\n    const params = new URLSearchParams({\n        limit,\n        offset,\n    });\n    let path = '/composes?' + params.toString();\n    const request = await axios.get(IMAGE_BUILDER_API.concat(path));\n    return request.data;\n}\n\nasync function getComposeStatus(id) {\n    let path = '/composes/' + id;\n    const request = await axios.get(IMAGE_BUILDER_API.concat(path));\n    return request.data;\n}\n\nasync function getPackages(distribution, architecture, search, limit) {\n    const params = new URLSearchParams({\n        distribution,\n        architecture,\n        search,\n    });\n    limit && params.append('limit', limit);\n    let path = '/packages?' + params.toString();\n    const request = await axios.get(IMAGE_BUILDER_API.concat(path));\n    return request.data;\n}\n\nasync function getVersion() {\n    let path = '/version';\n    const request = await axios.get(IMAGE_BUILDER_API.concat(path));\n    return request.data;\n}\n\nasync function getActivationKeys() {\n    const path = '/activation_keys';\n    const request = await axios.get(RHSM_API.concat(path));\n    return request.data.body;\n}\n\nexport default {\n    composeImage,\n    getComposes,\n    getComposeStatus,\n    getPackages,\n    getVersion,\n    getActivationKeys,\n};\n","export const IMAGE_BUILDER_API = '/api/image-builder/v1';\nexport const RHSM_API = '/api/rhsm/v2';\nexport const RHEL_8 = 'rhel-85';\n\nexport const UNIT_KIB = 1024 ** 1;\nexport const UNIT_MIB = 1024 ** 2;\nexport const UNIT_GIB = 1024 ** 3;\n\nexport const RELEASES = {\n    [RHEL_8]: 'Red Hat Enterprise Linux (RHEL) 8',\n    'centos-8': 'CentOS Stream 8',\n    'centos-9': 'CentOS Stream 9',\n};\n","import api from '../../api';\nimport types from '../types';\n\nfunction composeUpdated(compose) {\n    return {\n        type: types.COMPOSE_UPDATED,\n        payload: { compose },\n    };\n}\n\nexport const composeFailed = (error) => ({\n    type: types.COMPOSE_FAILED,\n    payload: { error }\n});\n\nexport const composeAdded = (compose, insert) => ({\n    type: types.COMPOSE_ADDED,\n    payload: { compose, insert },\n});\n\nexport const composeStart = (composeRequest) => async dispatch => {\n    // response will be of the format {id: ''}\n    const request = api.composeImage(composeRequest);\n    return request.then(response => {\n        // add the compose id to the compose object to provide access to the id if iterating through\n        // composes and add an image status of 'pending' alongside the compose request.\n        const compose = Object.assign({}, response, { request: composeRequest },  { image_status: { status: 'pending' }});\n        dispatch(composeAdded(compose, true));\n    }).catch(err => {\n        if (err.response.status === 500) {\n            dispatch(composeFailed('Error: Something went wrong serverside'));\n        } else {\n            dispatch(composeFailed('Error: Something went wrong with the compose'));\n        }\n    });\n};\n\nexport const composeUpdatedStatus = (id, status) => ({\n    type: types.COMPOSE_UPDATED_STATUS,\n    payload: { id, status }\n});\n\nexport const composeGetStatus = (id) => async dispatch => {\n    const request = await api.getComposeStatus(id);\n    dispatch(composeUpdatedStatus(id, request.image_status));\n};\n\nexport const composesUpdatedCount = (count) => ({\n    type: types.COMPOSES_UPDATED_COUNT,\n    payload: { count }\n});\n\nexport const composesGet = (limit, offset) => async dispatch => {\n    const request = await api.getComposes(limit, offset);\n    request.data.map(compose => {\n        dispatch(composeAdded(compose, false));\n        dispatch(composeGetStatus(compose.id));\n    });\n    dispatch(composesUpdatedCount(request.meta.count));\n};\n\nfunction setRelease({ arch, distro }) {\n    return {\n        type: types.SET_RELEASE,\n        payload: {\n            arch,\n            distro,\n        }\n    };\n}\n\nfunction setUploadDestinations({ aws, azure, google }) {\n    return {\n        type: types.SET_UPLOAD_DESTINATIONS,\n        payload: {\n            aws,\n            azure,\n            google,\n        }\n    };\n}\n\nfunction setUploadAWS({ shareWithAccounts }) {\n    return {\n        type: types.SET_UPLOAD_AWS,\n        payload: {\n            shareWithAccounts,\n        }\n    };\n}\n\nfunction setUploadAzure({ tenantId, subscriptionId, resourceGroup }) {\n    return {\n        type: types.SET_UPLOAD_AZURE,\n        payload: {\n            tenantId,\n            subscriptionId,\n            resourceGroup,\n        }\n    };\n}\n\nfunction setUploadGoogle({ accountType, shareWithAccounts }) {\n    return {\n        type: types.SET_UPLOAD_GOOGLE,\n        payload: {\n            accountType,\n            shareWithAccounts,\n        }\n    };\n}\n\nfunction setSelectedPackages(selectedPackages) {\n    return {\n        type: types.SET_SELECTED_PACKAGES,\n        payload: selectedPackages\n    };\n}\n\nfunction setSubscription({ activationKey, insights, organization }) {\n    return {\n        type: types.SET_SUBSCRIPTION,\n        payload: {\n            activationKey,\n            insights,\n            organization,\n        }\n    };\n}\n\nfunction setSubscribeNow(subscribeNow) {\n    return {\n        type: types.SET_SUBSCRIBE_NOW,\n        payload: subscribeNow\n    };\n}\n\nexport default {\n    composesGet,\n    composeStart,\n    composeUpdated,\n    composeGetStatus,\n    setRelease,\n    setUploadDestinations,\n    setUploadAWS,\n    setUploadAzure,\n    setUploadGoogle,\n    setSelectedPackages,\n    setSubscription,\n    setSubscribeNow,\n};\n"],"names":["targetEnv","release","skipAws","skipGoogle","skipAzure","aws","gcp","azure","RHEL_8","StepTemplate","id","formFields","formRef","title","customTitle","showTitle","showTitles","ref","className","Title","headingLevel","size","propTypes","PropTypes","formOptions","renderForm","isRequired","current","Element","googleAccType","googleAccount","serviceAccount","googleGroup","domain","PopoverInfo","appendTo","Popover","hasAutoWidth","maxWidth","headerContent","flipBehavior","bodyContent","TextContent","Text","TextList","TextListItem","Button","variant","name","substepOf","nextStep","values","nextStepMapper","fields","component","componentTypes","label","initialValue","options","Object","entries","map","value","autoFocus","validate","type","validatorTypes","condition","or","when","is","pattern","message","FSReviewTable","props","TableComposable","Thead","Tr","Th","Tbody","fsc","r","ri","key","Td","mountpoint","unit","UNIT_GIB","UNIT_MIB","useState","activeTabKey","setActiveTabKey","orgId","setOrgId","minSize","setMinSize","useFormApi","change","getState","useEffect","registerSystem","insights","chrome","auth","getUser","userData","identity","internal","org_id","toFixed","DescriptionList","isCompact","isHorizontal","DescriptionListGroup","DescriptionListTerm","DescriptionListDescription","RELEASES","Tabs","isFilled","activeKey","onSelect","event","tabIndex","Tab","eventKey","TabTitleText","List","isPlain","iconSize","ListItem","icon","src","TextVariants","TextListVariants","TextListItemVariants","vsphere","includes","undefined","Spinner","position","minWidth","length","TargetEnvironment","input","useFieldApi","environment","setEnvironment","handleSetEnvironment","env","prevEnv","newEnv","handleKeyDown","e","FormGroup","Tile","onClick","onKeyDown","isSelected","isStacked","isDisplayLarge","Checkbox","isChecked","onChange","defaultProps","Packages","defaultArch","packagesSearchName","setPackagesSearchName","filterAvailable","setFilterAvailable","filterChosen","setFilterChosen","packagesAvailable","setPackagesAvailable","packagesAvailableFound","setPackagesAvailableFound","packagesChosen","setPackagesChosen","packagesChosenFound","setPackagesChosenFound","focus","setFocus","selectedPackages","searchResultsComparator","useCallback","searchTerm","a","b","toLowerCase","startsWith","setPackagesAvailableSorted","packageList","filter","sortResults","sort","setPackagesChosenSorted","filterPackagesAvailable","availablePackage","some","chosenPackage","getAllPackages","args","architecture","api","data","meta","count","handlePackagesAvailableSearch","packagesAvailableFiltered","keydownHandler","stopPropagation","document","addEventListener","removeEventListener","areFound","pack","isHidden","updateState","updatedPackagesAvailable","updatedPackagesChosen","summary","onOptionSelect","index","isChosen","newChosen","selected","newAvailable","firstInputElement","useRef","DualListSelector","DualListSelectorPane","searchInput","SearchInput","placeholder","onFocus","onBlur","val","submitSearchButtonLabel","onSearch","resetButtonLabel","onClear","DualListSelectorList","DualListSelectorListItem","DualListSelectorControlsWrapper","DualListSelectorControl","isDisabled","option","newPackagesChosen","push","tooltipContent","newPackagesAvailable","found","filteredPackagesChosen","handlePackagesChosenSearch","RadioWithPopover","tenantId","guidRegex","RegExp","target","test","href","expanded","setExpanded","ExpandableSection","toggleText","onToggle","isExpanded","iconPosition","isInline","ActivationKeys","activationKeys","setActivationKeys","isOpen","setIsOpen","isLoading","setIsLoading","activationKeySelected","selectActivationKey","then","keys","Select","SelectVariant","_","selection","selections","placeholderText","typeAheadAriaLabel","SelectOption","isNoResultsOption","isSVG","MountPoint","validPrefixes","prefix","setPrefix","suffix","setSuffix","p","substring","suf","mp","path","pfx","TextInput","v","SizeUnit","setUnit","setSize","isNaN","parseInt","UNIT_KIB","u","initialRow","uuidv4","fstype","draggedItemId","setDraggedItemId","draggingToItemIndex","setDraggingToItemIndex","isDragging","setIsDragging","itemOrder","setItemOrder","tempItemOrder","setTempItemOrder","bodyref","rows","setRows","newRows","newOrder","r2","move","ulNode","nodes","Array","from","children","node","every","i","firstChild","removeChild","lastChild","forEach","appendChild","find","n","onDragOver","evt","preventDefault","curListItem","closest","contains","dragId","newDraggingToItemIndex","findIndex","item","arr","i1","toIndex","fromIndex","indexOf","temp","splice","moveItem","isValidDrop","ulRect","getBoundingClientRect","clientX","x","width","clientY","y","height","onDrop","onDragStart","dataTransfer","effectAllowed","setData","currentTarget","classList","add","styles","setAttribute","onDragEnd","remove","errors","duplicates","Alert","root","onDragLeave","row","rowIndex","draggable","draggableRow","newRow","setMountpoint","s","removeIndex","removeOrderIndex","removeRow","concat","setSelected","ToggleGroup","ToggleGroupItem","text","buttonId","ImageOutputReleaseSelect","isBeta","ImageCreator","schema","onSubmit","onClose","customComponentMapper","customValidatorMapper","initialValues","subscription","FormTemplate","showFormControls","formValues","validatorMapper","componentMapper","review","Review","output","select","AzureAuthExpandable","AzureAuthButton","FileSystemConfigToggle","FileSystemConfiguration","onCancel","threshold","required","PopoverActivation","description","CustomButtons","buttonLabels","cancel","submit","back","isSaving","setIsSaving","useContext","WizardContext","handlePrev","valid","validating","buttons","DocumentationButton","mpFreqs","k","targets","reduce","prev","curr","parseSizeUnit","bytesize","getPackageDescription","arch","packageName","dispatch","useDispatch","navigate","useNavigate","location","useLocation","composeRequest","state","initialState","targetEnvironment","imageRequest","image_requests","uploadRequest","upload_request","formState","image_name","distribution","image_type","share_with_accounts","tenant_id","subscription_id","resource_group","split","accountTypePrefix","account","packs","customizations","packages","packName","packageDescription","fs","filesystem","fileSystemConfiguration","min_size","organization","requestToState","stepHistory","steps","formStepHistory","handleClose","requests","Number","request","share","onSave","Promise","all","response","composeAdded","image_status","status","addNotification","err","statusText","fileSystemConfigurationValidator","targetEnvironmentValidator","isDynamic","inModal","crossroads","imageOutput","awsTarget","googleCloudTarger","msAzureTarget","registration","imageName","activeStep","initialStep","activeStepIndex","maxStepIndex","prevSteps","postHeaders","headers","body","axios","IMAGE_BUILDER_API","limit","offset","params","URLSearchParams","toString","search","append","RHSM_API","composeImage","getComposes","getComposeStatus","getPackages","getVersion","getActivationKeys","compose","insert","types","payload","composeUpdatedStatus","composeGetStatus","composesGet"],"sourceRoot":""}